if (self.CavalryLogger) { CavalryLogger.start_js(["oiMxa"]); }

__d("getTextDirection",["Locale","UnicodeBidi"],(function(a,b,c,d,e,f){function a(a){a=b("UnicodeBidi").isDirectionRTL(a);var c=b("Locale").isRTL();if(a&&!c)return"rtl";else if(!a&&c)return"ltr";return""}e.exports=a}),null);
__d("ProfileEngagementTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileEngagementLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileEngagementLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileEngagementLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setBrowseSessionID=function(a){this.$1.browse_session_id=a;return this};a.prototype.setContentID=function(a){this.$1.content_id=a;return this};a.prototype.setEngagementType=function(a){this.$1.engagement_type=a;return this};a.prototype.setEventMetadata=function(a){this.$1.event_metadata=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setIsemployee=function(a){this.$1.isemployee=a;return this};a.prototype.setItemSubtype=function(a){this.$1.item_subtype=a;return this};a.prototype.setItemType=function(a){this.$1.item_type=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setProductBucket=function(a){this.$1.product_bucket=a;return this};a.prototype.setProfileIDDummy=function(a){this.$1.profile_id_dummy=a;return this};a.prototype.setProfileSessionID=function(a){this.$1.profile_session_id=a;return this};a.prototype.setSessionid=function(a){this.$1.sessionid=a;return this};a.prototype.setSubsurface=function(a){this.$1.subsurface=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setTabName=function(a){this.$1.tab_name=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={appid:!0,appversion:!0,browse_session_id:!0,content_id:!0,engagement_type:!0,event_metadata:!0,isemployee:!0,item_subtype:!0,item_type:!0,name:!0,product_bucket:!0,profile_id_dummy:!0,profile_session_id:!0,sessionid:!0,subsurface:!0,surface:!0,tab_name:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ProfileIntroCardLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ABOUT_NUX_DISMISS:"about_nux_dismiss",ABOUT_NUX_IMPRESSION:"about_nux_impression",BIO_ADD_CLICK:"bio_add_click",BIO_ADD_PROMPT_IMPRESSION:"bio_add_prompt_impression",BIO_ADD_PROMPT_SUGGESTED_CLICK:"bio_add_prompt_suggested_click",BIO_ADD_PROMPT_SUGGESTED_IMPRESSION:"bio_add_prompt_suggested_impression",BIO_NULL_STATE_CLICK:"bio_null_state_click",BIO_NULL_STATE_IMPRESSION:"bio_null_state_impression",BIO_EDIT_CANCEL_CLICK:"bio_edit_cancel_click",BIO_EDIT_CLICK:"bio_edit_click",BIO_EDIT_SAVE_CLICK:"bio_edit_save_click",BIO_EDIT_VIEW_IMPRESSION:"bio_edit_impression",BIO_IMPRESSION:"bio_impression",CONTEXT_ITEM_ADD_CLICK:"context_item_add_click",CONTEXT_ITEM_ADD_PROMPT_IMPRESSION:"context_item_add_prompt_impression",CONTEXT_ITEM_CTA_CLICK:"context_item_cta_click",CONTEXT_ITEM_EDIT_CLICK:"context_item_edit_click",CONTEXT_ITEM_FACEPILE_CLICK:"context_item_facepile_click",CONTEXT_ITEM_IMPRESSION:"context_item_impression",CONTEXT_ITEM_TEXT_CLICK:"context_item_text_click",CONTEXT_ITEM_VIEW_CLICK:"context_item_view_click",OWNED_PAGES_ADD_CLICK:"owned_pages_add_click",OWNED_PAGES_ADD_PROMPT_IMPRESSION:"owned_pages_add_prompt_impression",OWNED_PAGES_SAVE_FROM_CTA:"owned_pages_save_from_cta",FEATURED_EDIT_DRAGGABLE_NUX_DISMISS:"featured_edit_draggable_nux_dismiss",FEATURED_PHOTOS_ADD_CLICK:"fav_photos_add_click",FEATURED_PHOTOS_ADD_PROMPT_IMPRESSION:"fav_photos_add_prompt_impression",FEATURED_PHOTOS_ADD_PROMPT_SUGGESTED_CLICK:"fav_photos_add_prompt_suggested_click",FEATURED_PHOTOS_ADD_PROMPT_SUGGESTED_IMPRESSION:"fav_photos_add_prompt_suggested_impression",FEATURED_PHOTOS_ADD_IN_EDITING_VIEW_CLICK:"fav_photos_add_in_editing_view_click",FEATURED_PHOTOS_ADD_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_add_in_editing_view_tile_click",FEATURED_PHOTOS_EDIT_CANCEL_CLICK:"fav_photos_edit_cancel_click",FEATURED_PHOTOS_EDIT_CLICK:"fav_photos_edit_click",FEATURED_PHOTOS_EDIT_SAVE_CLICK:"fav_photos_edit_save_click",FEATURED_PHOTOS_IMPRESSION:"fav_photos_impression",FEATURED_PHOTOS_REPLACE_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_replace_in_editing_view_tile_click",FEATURED_PHOTOS_REMOVE_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_remove_in_editing_view_click",FEATURED_PHOTOS_SELECT_IN_EDITING_VIEW_TILE_CLICK:"fav_photos_select_in_editing_view_click",FEATURED_PHOTOS_DISMISS_PROMPT_SUGGESTED_IMPRESSION:"fav_photos_dismiss_prompt_suggested_impression",FEATURED_PHOTOS_SELECT_FROM_FB_CLICK:"fav_photos_select_from_fb_click",FEATURED_PHOTOS_UPLOAD_CLICK:"fav_photos_upload_click",INTRO_CARD_EXPANSION:"intro_card_expansion",INTRO_CARD_IMPRESSION:"intro_card_impression",LINKS_ADD_CLICK:"links_add_click",LINKS_ADD_PROMPT_IMPRESSION:"links_add_prompt_impression",LINKS_EDIT_CLICK:"links_edit_click",LINKS_IMPRESSION:"links_impression",NUX_DISMISS:"nux_dismiss",NUX_IMPRESSION:"nux_impression",SELF_ITEM_VIEW_CLICK:"self_item_view_click",BIO_CREATE_MUTATION:"bio_create_mutation",BIO_UPDATE_MUTATION:"bio_update_mutation",BIO_DELETE_MUTATION:"bio_delete_mutation",BIO_PUBLISH_TO_FEED_MUTATION:"bio_publish_to_feed_mutation",CONTEXT_ITEM_CREATE_MUTATION:"context_item_create_mutation",CONTEXT_ITEM_DELETE_MUTATION:"context_item_delete_mutation",CONTEXT_ITEM_UPDATE_MUTATION:"context_item_update_mutation",PHOTO_CREATE_MUTATION:"photo_create_mutation",PHOTO_DELETE_MUTATION:"photo_delete_mutation",BIO_PUBLISH_NUX_DISMISS:"bio_publish_to_feed_nux_dismiss",PHOTO_PUBLISH_NUX_DISMISS:"photo_publish_to_feed_nux_dismiss",BIO_STORY_IMPRESSION:"bio_story_impression",PHOTOS_STORY_IMPRESSION:"fav_photos_story_impression",BIO_STORY_CTA_IMPRESSION:"bio_story_cta_impression",PHOTOS_STORY_CTA_IMPRESSION:"fav_photos_story_cta_impression",BIO_STORY_CTA_CLICK:"bio_story_cta_click",PHOTOS_STORY_CTA_CLICK:"fav_photos_story_cta_click",BIO_AND_PHOTOS_INLINE_CTA_IMPRESSION:"bio_and_photos_inline_cta_impression",BIO_INLINE_CTA_IMPRESSION:"bio_inline_cta_impression",PHOTOS_INLINE_CTA_IMPRESSION:"photos_inline_cta_impression",CONTEXT_ITEMS_INLINE_CTA_IMPRESSION:"context_items_inline_cta_impression",LINKS_INLINE_CTA_IMPRESSION:"links_inline_cta_impression",BIO_AND_PHOTOS_INLINE_CTA_CLICK:"bio_and_photos_inline_cta_click",BIO_INLINE_CTA_CLICK:"bio_inline_cta_click",PHOTOS_INLINE_CTA_CLICK:"photos_inline_cta_click",CONTEXT_ITEMS_INLINE_CTA_CLICK:"context_items_inline_cta_click",LINKS_INLINE_CTA_CLICK:"links_inline_cta_click",BIO_SAVE_FROM_CTA:"bio_save_from_cta",PHOTOS_SAVE_FROM_CTA:"photos_save_from_cta",CONTEXT_ITEMS_SAVE_FROM_CTA:"context_items_save_from_cta",LINKS_SAVE_FROM_CTA:"links_save_from_cta"})}),null);
__d("ProfileIntroCardSpinner.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_33dp _2pi5"},b("React").createElement(b("XUISpinner.react"),null))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("ProfileIntroCardStrings",["fbt","DateConsts"],(function(a,b,c,d,e,f,g){__p&&__p();a={PLACEHOLDER:g._("Enter text here"),EDIT:g._("Edit"),CANCEL:g._("Cancel"),SAVE:g._("Save"),SAVED:g._("Saved"),ADD_BIO:g._("Add Bio"),ADD_TEMP_BIO:g._("Add a temporary bio"),POST:g._("Post"),POST_TO_FEED:g._("Post to News Feed"),POST_TO_FEED_QUESTION:g._("Post your bio to News Feed?"),POST_PHOTOS_TO_FEED:g._("Post new photos to News Feed"),POST_PAGES_TO_FEED:g._("Share on News Feed"),POST_TO_FEED_BIO_NUX:g._("Share your bio with friends by posting to News Feed."),POST_TO_FEED_SINGLE_PHOTO_NUX:g._("Share your new featured photo with friends by posting to News Feed."),FEATURED_DRAGGABLE_NUX:g._("Tap and hold, then drag to reorder."),POST_TO_FEED_MULTIPLE_PHOTO_NUX:g._("Share your new featured photos with friends by posting to News Feed."),BIO_SUGGESTION_MESSAGE:g._("Use details from your About section as your bio"),HOUR:g._("1 hour"),DAY:g._("1 day"),WEEK:g._("1 week"),PERMANENT:g._("Permanent"),CUSTOM:g._("Custom"),DIALOG_TITLE:g._("Set this status until"),DRAFT_MODE_HEADER:g._("DRAFT"),getRemainingCharacters:function(a){return g._("{remainingCharacters} characters left",[g._param("remainingCharacters",a)])},getBioExpireContext:function(a){__p&&__p();if(a<b("DateConsts").SEC_PER_HOUR){var c=Math.round(a/b("DateConsts").SEC_PER_MIN);return g._({"*":"Expires in {numMinutes} minutes","_1":"Expires in 1 minute"},[g._plural(c,"numMinutes")])}else if(a<b("DateConsts").SEC_PER_DAY){c=Math.round(a/b("DateConsts").SEC_PER_HOUR);return g._({"*":"Expires in {numHours} hours","_1":"Expires in 1 hour"},[g._plural(c,"numHours")])}else if(a<b("DateConsts").SEC_PER_WEEK){c=Math.round(a/b("DateConsts").SEC_PER_DAY);return g._({"*":"Expires in {numDays} days","_1":"Expires in 1 day"},[g._plural(c,"numDays")])}else{c=Math.round(a/b("DateConsts").SEC_PER_WEEK);return g._({"*":"Expires in {numWeeks} weeks","_1":"Expires in 1 week"},[g._plural(c,"numWeeks")])}}};e.exports=a}),null);
__d("ProfileIntroCardTestID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BIO_SHARE_TO_FEED:"bio_share_to_feed",BIO_TEXT:"profile_intro_card_bio_text",DELETE_PHOTO_BUTTON:"profile_intro_card_delete_photo_button",EDIT_BIO_BUTTON:"profile_intro_card_edit_bio_button",EDIT_BIO_TEXT_AREA:"profile_intro_card_edit_bio_text_area",EDIT_PHOTO_CONTAINER:"profile_intro_card_edit_photo_container",EDIT_PHOTO_PLACEHOLDER:"profile_intro_card_edit_photo_placeholder",EDIT_PHOTOS_BUTTON:"profile_intro_card_edit_photos_button",EDIT_PHOTOS_PENCIL_BUTTON:"profile_intro_card_edit_photos_pencil_button",PHOTO_COLLAGE:"profile_intro_card_photo_collage",PHOTO_DIALOG_ROOT:"profile_intro_card_photo_dialog_root",PHOTO_NUX:"profile_intro_card_photo_nux",PHOTO_NUX_CLOSE_BUTTON:"profile_intro_card_photo_nux_close_button",ROOT:"profile_intro_card_root",SAVE_BIO_BUTTON:"profile_intro_card_save_bio_button",SAVE_PHOTOS_BUTTON:"profile_intro_card_save_photos_button"})}),null);
__d("ProfileIntroCardBio.react",["ix","cx","ActionList.react","BootloadedComponent.react","DateConsts","DOMScroll","Image.react","JSResource","Link.react","ProfileIntroCardLogger","ProfileIntroCardLoggerEvent","ProfileIntroCardSpinner.react","ProfileIntroCardStrings","ProfileIntroCardTestID","React","ReactDOM","Text","TextWithEntities.react","TooltipLink.react","asset","getTextDirection"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isEditMode:this.props.initialEdit,isShareToFeedPromptShown:this.props.showShareToFeedPrompt},this.$1=function(){b("ProfileIntroCardLogger").logClick({event:b("ProfileIntroCardLoggerEvent").BIO_EDIT_CLICK}),this.setState({isEditMode:!0})}.bind(this),c}a.prototype.componentDidMount=function(){"use strict";this.props.initialEdit&&b("DOMScroll").ensureVisible(b("ReactDOM").findDOMNode(this))};a.prototype.render=function(){"use strict";__p&&__p();if(this.state.isEditMode||this.state.isShareToFeedPromptShown){var a=null;this.props.bioContext.text?a=this.props.bioContext.text:this.props.bioSuggestionText&&(a=this.props.bioSuggestionText);return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:b("JSResource")("ProfileIntroCardBioEditForm.react").__setRef("ProfileIntroCardBio.react"),bootloadPlaceholder:b("React").createElement(b("ProfileIntroCardSpinner.react"),null),initialText:a,introCardSessionID:this.props.introCardSessionID,onCancel:function(){this.setState({isEditMode:!1,isShareToFeedPromptShown:!1})}.bind(this),showShareToFeedPrompt:this.state.isShareToFeedPromptShown,showTempBio:this.props.showTempBio},this.props.editFieldOptions))}if(this.props.bioContext.text){a=null;if(this.props.showTempBio){var c=this.props.expirationTime,d=null;if(c){c=Math.round(c-Date.now()/b("DateConsts").MS_PER_SEC);d=b("ProfileIntroCardStrings").getBioExpireContext(c)}a=b("React").createElement(b("ActionList.react"),{className:"_2pid"},d,b("React").createElement(b("Link.react"),{className:"_2115",onClick:this.$1},b("ProfileIntroCardStrings").EDIT))}else a=b("React").createElement(b("TooltipLink.react"),{className:"_1-gu _2p2g",onClick:this.$1,tooltip:b("ProfileIntroCardStrings").EDIT},b("React").createElement("i",{className:"_2p2h"}));return b("React").createElement("div",{className:"_4ihn _2ph-",dir:b("getTextDirection")(this.props.bioContext.text)},b("React").createElement("div",{"data-testid":b("ProfileIntroCardTestID").BIO_TEXT},b("React").createElement(b("TextWithEntities.react"),{ranges:this.props.bioContext.ranges,renderEmoji:!0,renderEmoticons:!0,text:this.props.bioContext.text})),a)}return this.props.nullStateTitle!==null?b("React").createElement("div",{align:"center"},b("React").createElement(b("Image.react"),{src:g("508559")}),b("React").createElement(b("Text"),{style:{textAlign:"center",opacity:.7}},this.props.nullStateTitle),b("React").createElement(b("Link.react"),{className:"_1-in",onClick:this.$1},this.props.showTempBio?b("ProfileIntroCardStrings").ADD_TEMP_BIO:b("ProfileIntroCardStrings").ADD_BIO)):b("React").createElement(b("Link.react"),{className:"_1-in",onClick:this.$1},this.props.showTempBio?b("ProfileIntroCardStrings").ADD_TEMP_BIO:b("ProfileIntroCardStrings").ADD_BIO)};e.exports=a}),null);
__d("DoublyLinkedListMap",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this._head=null,this._tail=null,this._nodes={},this._nodeCount=0}a.prototype.get=function(a){a=(a=this._nodes[a])!=null?a.data:a;return a?a:null};a.prototype.getIndex=function(a){"use strict";var b=this._head;for(var c=0;b;b=b.next,c++)if(b.key===a)return c;return null};a.prototype._insert=function(a,b,c,d){"use strict";__p&&__p();c&&!this._nodes[c]&&(c=null);c&&this._nodes[c]?c=this._nodes[c]:c=d?this._head:this._tail;b={data:b,key:a,next:null,prev:null};c&&(this.remove(a),d?(b.prev=c.prev,c.prev&&(c.prev.next=b),c.prev=b,b.next=c):(b.next=c.next,c.next&&(c.next.prev=b),c.next=b,b.prev=c));b.prev===null&&(this._head=b);b.next===null&&(this._tail=b);this._nodes[a]=b;this._nodeCount++;return this};a.prototype.insertBefore=function(a,b,c){"use strict";return this._insert(a,b,c,!0)};a.prototype.insertAfter=function(a,b,c){"use strict";return this._insert(a,b,c,!1)};a.prototype.prepend=function(a,b){"use strict";return this.insertBefore(a,b,this._head&&this._head.key)};a.prototype.append=function(a,b){"use strict";return this.insertAfter(a,b,this._tail&&this._tail.key)};a.prototype.remove=function(a){"use strict";__p&&__p();var b=this._nodes[a];if(b){var c=b.next,d=b.prev;c&&(c.prev=d);d&&(d.next=c);this._head===b&&(this._head=c);this._tail===b&&(this._tail=d);delete this._nodes[a];this._nodeCount--}return this};a.prototype.find=function(a){"use strict";for(var b=this._head;b;b=b.next)if(a(b.data))return b.key;return null};a.prototype.reduce=function(a,b){"use strict";for(var c=this._head;c;c=c.next)b=a(c.data,b);return b};a.prototype.exists=function(a){"use strict";return!!this._nodes[a]};a.prototype.isEmpty=function(){"use strict";return!this._head};a.prototype.reset=function(){"use strict";this._head=null,this._tail=null,this._nodes={},this._nodeCount=0};a.prototype.map=function(a){"use strict";for(var b=this._head;b;b=b.next)a(b.data)};a.prototype.getCount=function(){"use strict";return this._nodeCount};a.prototype.getHead=function(){var a;return(a=this._head)!=null?a.data:a};a.prototype.getTail=function(){var a;return(a=this._tail)!=null?a.data:a};a.prototype.getNext=function(a){return(a=this._nodes[a])!=null?(a=a.next)!=null?a.data:a:a};a.prototype.getPrev=function(a){return(a=this._nodes[a])!=null?(a=a.prev)!=null?a.data:a:a};a.prototype.getHeadKey=function(){var a;return(a=this._head)!=null?a.key:a};a.prototype.getTailKey=function(){var a;return(a=this._tail)!=null?a.key:a};e.exports=a}),null);
__d("ProfileOverviewSection",["CallbackDependencyManager","DOMScroll","DoublyLinkedListMap","TidyArbiterMixin","ge"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=new(b("CallbackDependencyManager"))(),i={};function a(a,c,d){"use strict";this.id=a,this.label=d,this.nodeID=c,this._isLoaded=!1,this._parentSection=null,this.childSections=new(b("DoublyLinkedListMap"))(),i[a]=this,window.setTimeout(function(){return h.satisfyPersistentDependency(a)},0)}a.prototype.reset=function(){"use strict";this.childSections.map(function(a){return a.reset()})};a.prototype.appendSection=function(a){"use strict";this.childSections.append(a.id,a),a._parentSection=this};a.prototype.freeze=function(){"use strict";this.freezeChildren()};a.prototype.freezeChildren=function(){"use strict";var a=this.childSections.getHead();while(a)a.isActive()||a.freeze(),a=a.getNext()};a.prototype.getParent=function(){"use strict";return this._parentSection};a.prototype.getChildren=function(){"use strict";return this.childSections};a.prototype.getNext=function(){"use strict";return this._parentSection&&this._parentSection.childSections.getNext(this.id)};a.prototype.getPrev=function(){"use strict";return this._parentSection&&this._parentSection.childSections.getPrev(this.id)};a.prototype.isActive=function(){"use strict";var a=this;while(a){if(a.id===g)return!0;a=a._parentSection}return!1};a.prototype.isLoaded=function(){"use strict";return this._isLoaded};a.prototype.setIsLoaded=function(a){"use strict";this._isLoaded=a;return this};a.prototype.scrollTo=function(){"use strict";if(!b("ge")(this.nodeID))return;b("DOMScroll").scrollTo(this.getNode(),!0,!1,0,0,b("DOMScroll").scrollTo.bind(this).bind(null,this.getNode(),0))};a.prototype.thaw=function(){"use strict";this.thawChildren()};a.prototype.thawChildren=function(){"use strict";var a=this.childSections.getHead();while(a)a.thaw(),a=a.getNext()};a.prototype.getNode=function(){"use strict";throw new Error("This function needs to be implemented in children.")};a.callWithSection=function(a,b){"use strict";h.registerCallback(function(){b(i[a])},[a])};a.setActiveSectionID=function(a){"use strict";g=a};a.resetGlobalState=function(){"use strict";g=null,h=new(b("CallbackDependencyManager"))(),i={}};Object.assign(a,b("TidyArbiterMixin"));e.exports=a}),null);
__d("ProfileOverviewFilterDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("ProfileOverviewFilterFluxStore",["FluxReduceStore","ProfileBulkEditConstants","ProfileOverviewFilterDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("ProfileBulkEditConstants").maxCount,j=b("immutable").Map;c=b("immutable").Record;var k=b("immutable").Set;g=babelHelpers.inherits(l,c({taggedInOnly:!1,postedBy:"ANYONE",selectedStories:null,actionCounts:j(),dateOption:{key:"all",start:null,end:null}}));g&&g.prototype;function l(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new l()};a.prototype.getTaggedInOnly=function(){return this.getState().get("taggedInOnly")};a.prototype.getPostedBy=function(){return this.getState().get("postedBy")};a.prototype.getDateOptionKey=function(){return this.getState().get("dateOption").key};a.prototype.getStartTime=function(){return this.getState().get("dateOption").start};a.prototype.getEndTime=function(){return this.getState().get("dateOption").end};a.prototype.getPostedByFilterParams=function(){var a=this.getPostedBy();switch(a){case"OWNER":case"NON_OWNER":return{group:a};default:return{}}};a.prototype.getFilterOptions=function(){return{taggedInOnly:this.getTaggedInOnly(),postedBy:this.getPostedByFilterParams(),startTime:this.getStartTime(),endTime:this.getEndTime()}};a.prototype.isDefaultFilterOptions=function(){var a=this.getState();return a.taggedInOnly===!1&&a.postedBy==="ANYONE"&&a.dateOption.key==="all"};a.prototype.getSelectedStories=function(){return this.getState().get("selectedStories")};a.prototype.getCanDoAction=function(a){var b=this.getSelectedStories();return!b?!1:b.size===this.getState().actionCounts.get(a)};a.prototype.$ProfileOverviewFilterFluxStore1=function(a,b){return a.set("selectedStories",b?k():null).set("actionCounts",j())};a.prototype.$ProfileOverviewFilterFluxStore2=function(a,b,c,d){__p&&__p();var e=a.selectedStories;if(!e||d===e.contains(b))return a;var f;if(d){if(e.size>=i)return a;e=e.add(b);f=1}else e=e.remove(b),f=-1;var g=c;d=a.get("actionCounts").withMutations(function(a){for(var b in g)a.set(b,(a.get(b)||0)+f*g[b])});return a.set("selectedStories",e).set("actionCounts",d)};a.prototype.reduce=function(a,b){__p&&__p();switch(b.key){case"taggedInOnly":case"postedBy":case"dateOption":return a.set(b.key,b.value);case"resetSettings":return this.getInitialState();case"setStorySelected":return this.$ProfileOverviewFilterFluxStore2(a,b.storyID,b.actionMap,b.selected);case"toggleStory":var c=a.selectedStories;if(!c)break;c=c.contains(b.storyID);return this.$ProfileOverviewFilterFluxStore2(a,b.storyID,b.actionMap,!c);case"toggleManaging":return this.$ProfileOverviewFilterFluxStore1(a,!this.getSelectedStories());case"setManaging":return this.$ProfileOverviewFilterFluxStore1(a,b.value)}return a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("ProfileOverviewFilterDispatcher"))}),null);
__d("ProfileOverviewDOMID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MEDLEY_ROOT:"timeline-medley",PREFIX_APP_COLLECTION:"pagelet_timeline_app_collection_",PREFIX_COLLECTION_WRAPPER:"collection_wrapper_",PREFIX_MEDLEY:"pagelet_timeline_medley_",PREFIX_MEDLEY_HEADER:"medley_header_",PREFIX_RECOMMENDATION:"pagelet_recommendation_"})}),null);
__d("TimelineDOMID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",STICKY_HEADER_CONTAINER:"timeline_sticky_header_container",STICKY_HEADER_OVERVIEW:"timeline_sticky_header_overview",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",ABOVE_COMPOSER:"timeline_above_composer",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",TIMELINE_SCHEDULED_POSTS:"timeline_scheduled_posts",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",SUFFIX_MORE_PAGER:"_more_pager"})}),null);
__d("TimelineOverviewDOMID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TAB_CONTENT:"timeline_overview"})}),null);
__d("ProfileTabUtils",["ProfileOverviewDOMID","ProfileTabConst","TimelineDOMID","TimelineOverviewDOMID","qex"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a===null||a===void 0||a===b("ProfileTabConst").TIMELINE||a===b("ProfileTabConst").WALL}var h={isActivityLogTab:function(a){return a===b("ProfileTabConst").ALL_ACTIVITY||a===b("ProfileTabConst").APPROVAL},isTimelineOverviewTab:function(a){return a===b("ProfileTabConst").TIMELINE_OVERVIEW},isOverviewTab:function(a){return a===b("ProfileTabConst").INFO||a===b("ProfileTabConst").OVERVIEW},isTimelineTab:g,isMapTab:function(a){return a===b("ProfileTabConst").MAP},tabHasFixedAds:function(a){return!0},tabHasScrubber:function(a){return h.isActivityLogTab(a)||h.isTimelineTab(a)&&b("qex")._("684070")},tabHasStickyHeader:function(a){return g(a)||h.isTimelineOverviewTab(a)},getIDForCollectionToken:function(a){return b("ProfileOverviewDOMID").PREFIX_APP_COLLECTION+a},getIDForSectionKey:function(a){return b("ProfileOverviewDOMID").PREFIX_MEDLEY+a},isMedleyTab:function(a){return!h.isTimelineTab(a)&&!h.isTimelineOverviewTab(a)},normalizeTabKey:function(a){return h.isTimelineTab(a)?b("ProfileTabConst").TIMELINE:a},getIDForTabKey:function(a){if(h.isTimelineTab(a))return b("TimelineDOMID").TAB_CONTENT;return h.isTimelineOverviewTab(a)?b("TimelineOverviewDOMID").TAB_CONTENT:b("ProfileOverviewDOMID").MEDLEY_ROOT},getPageletForTabKey:function(a){if(h.isTimelineTab(a))return b("qex")._("684071")?"TimelineJumperColumn":"TimelineWallColumn";return h.isTimelineOverviewTab(a)?"TimelineOverviewColumn":"TimelineMedleyView"}};e.exports=h}),null);
__d("ProfileEscapeHatch",["Arbiter","CSS","ProfileTabUtils","Run"],(function(a,b,c,d,e,f){__p&&__p();var g=[],h=!1;function i(a){g.forEach(function(c){b("CSS").conditionShow(c.getRoot(),!b("ProfileTabUtils").isOverviewTab(a))})}function a(a){"use strict";__p&&__p();this.$1=a;g.push(this);if(!h){var c=b("Arbiter").subscribe("TimelineController/sectionKeyChange",function(a,b){return i(b[0])});b("Run").onLeave(function(){g=[],c.unsubscribe()});h=!0}}a.prototype.getRoot=function(){"use strict";return this.$1};e.exports=a}),null);
__d("TimelineComponentKeys",[],(function(a,b,c,d,e,f){a={CONTENT:"content",ESCAPE_HATCH:"escape_hatch",OVERVIEW_CONTAINER:"overview_container",NAV:"nav",SCRUBBER:"scrubber",STICKY_HEADER:"sticky_header",STICKY_HEADER_NAV:"sticky_header_nav",STICKY_HEADER_VIEW_SWITCHER:"sticky_header_view_switcher"};e.exports=a}),null);
__d("ProfileDOMID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ABOVE_HEADER_TIMELINE:"pagelet_above_header_timeline",ABOVE_HEADER_TIMELINE_PLACEHOLDER:"above_header_timeline_placeholder",COVER:"fbProfileCover",MAIN_COLUMN:"pagelet_main_column",MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal",MAIN_COLUMN_PERSONAL_OTHER:"pagelet_main_column_personal_other",RIGHT_SIDEBAR:"pagelet_right_sidebar",TAB_LOAD_INDICATOR:"tab_load_indicator",TOP_SECTION:"timeline_top_section",DISCOVERY_INTENT_BUTTON:"discovery_intent_button",DISCOVERY_INTENT_BANNER:"discovery_intent_banner",PREFIX_MAIN_COLUMN_PERSONAL:"pagelet_main_column_personal_"})}),null);
__d("TimelineConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({DS_LOADED:"timeline-capsule-loaded",DS_COLUMN_HEIGHT_DIFFERENTIAL:"timeline-column-diff-height",SCROLL_TO_OFFSET:100,SCRUBBER_DEFAULT_OFFSET:38,SECTION_EXPAND:"TimelineConstants/sectionExpand",SECTION_LOADING:"TimelineConstants/sectionLoading",SECTION_LOADED:"TimelineConstants/sectionLoaded",SECTION_FULLY_LOADED:"TimelineConstants/sectionFullyLoaded",SECTION_REGISTERED:"TimelineConstants/sectionRegistered",UNIT_SEGMENT_LOADED:"TimelineConstants/unitSegmentLoaded"});e.exports=a}),null);
__d("TimelineLegacySections",["fbt","CSS","DOM","getElementText"],(function(a,b,c,d,e,f,g){__p&&__p();var h={},i={},j=!1,k=[],l={},m={get:function(a){return Object.prototype.hasOwnProperty.call(i,a)?i[a]:null},getAll:function(){return i},remove:function(a){for(var b=0;b<k.length;b++)if(k[b]===a){k[b]=null;break}delete i[a]},removeAll:function(){i={}},set:function(a,b){i[a]=b},addOnVisible:function(a,b){l[a]=b},destroyOnVisible:function(a){var c=l[a];c&&(c.remove(),b("DOM").remove(c.getElement()));l[a]=null},removeOnVisible:function(a){a=l[a];a&&a.remove()},removeAllOnVisibles:function(){Object.keys(l).forEach(function(a){return this.removeOnVisible(a)}.bind(this))},getOnVisible:function(a){return l[a]},setMainSectionOrder:function(a,b){k[b]=a},getMainSectionOrder:function(){return k},addLoadPagelet:function(a,b){h[a]=b},cancelLoadPagelet:function(a){h[a]&&h[a].cancel()},cancelLoadPagelets:function(){Object.keys(h).forEach(function(a){return this.cancelLoadPagelet(a)}.bind(this)),h={}},shouldForceNoFriendActivity:function(){return j},forceNoFriendActivity:function(){j=!0},collapsePlaceHolderHeaders:function(){__p&&__p();var a,c,d=!1;for(var e=0;e<k.length;e++){var f=k[e];if(!f)continue;f=m.get(f);if(!f)continue;if(f.canScrollLoad()||f.isLoaded()){f.isLoaded()||(b("CSS").removeClass(f.getNode(),"fbTimelineTimePeriodSuppressed"),b("CSS").addClass(f.getNode(),"fbTimelineTimePeriodUnexpanded"));a&&c&&(this.combineSectionHeaders(a,c),d&&a.deactivateScrollLoad(),d=!0);a=null;c=null;continue}else a?(c=f,f.deactivateScrollLoad()):(a=f,c=f,d&&f.activateScrollLoad());b("CSS").removeClass(f.getNode(),"fbTimelineTimePeriodSuppressed");b("CSS").addClass(f.getNode(),"fbTimelineTimePeriodUnexpanded")}},combineSectionHeaders:function(a,c){b("CSS").removeClass(c.getNode(),"fbTimelineTimePeriodUnexpanded");b("CSS").addClass(c.getNode(),"fbTimelineTimePeriodSuppressed");a=b("DOM").find(a.getNode(),"span.sectionLabel");c=b("DOM").find(c.getNode(),"span.sectionLabel");c.getAttribute("data-original-label")||c.setAttribute("data-original-label",b("getElementText")(c));a.getAttribute("data-month")&&c.getAttribute("data-month")&&a.getAttribute("data-year")==c.getAttribute("data-year")?b("DOM").setContent(c,g._("Show {month1} - {month2} {year}",[g._param("month1",c.getAttribute("data-month")),g._param("month2",a.getAttribute("data-month")),g._param("year",a.getAttribute("data-year"))])):a.getAttribute("data-year")!==c.getAttribute("data-year")?b("DOM").setContent(c,g._("Show {year1} - {year2}",[g._param("year1",c.getAttribute("data-year")),g._param("year2",a.getAttribute("data-year"))])):b("DOM").setContent(c,g._("Show {year}",[g._param("year",c.getAttribute("data-year"))]))}};e.exports=m}),null);
__d("findTag",["TAAL","$","ex"],(function(a,b,c,d,e,f){__p&&__p();a=function(a,c){__p&&__p();var d=b("$")(a);if(!c){if(d instanceof HTMLElement)return d;throw new Error(b("TAAL").blameToPreviousFile(b("ex")('Element with ID "%s" is not an HTMLElement',a)))}var e=d.tagName.toLowerCase();if(e!==c)throw new Error(b("TAAL").blameToPreviousFile(b("ex")("Expected $('%s') to be of type '%s' but got '%s' instead.",a,c,e)));return d};e.exports=a}),null);
__d("TimelineController",["Arbiter","BlueBar","CSS","DataStore","DOMQuery","Event","ProfileDOMID","ProfileTabConst","ProfileTabUtils","Run","TidyArbiter","TimelineComponentKeys","TimelineConstants","TimelineLegacySections","UITinyViewportAction","URI","Vector","findTag","forEachObject","ge","queryThenMutateDOM","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g=740,h="top",i="paddingTop",j="paddingTop",k=null,l=!1,m=null,n=null,o={},p={},q=null,r=[],s=null,t=null;b("Vector").getViewportDimensions();var u=!1,v=!1,w=!1;function x(a,b,c){c===void 0&&(c=[]);if(o[a])return o[a][b].apply(o[a],c);p[a]=p[a]||{};p[a][b]=c;return!1}function y(){u&&(u=C(b("ge")("rightCol"),j,I.getCurrentScrubber()));if(v){var a=b("ge")(b("ProfileDOMID").ABOVE_HEADER_TIMELINE);a&&(v=C(a,h))}w&&(w=C(b("BlueBar").getBar(),i))}function z(){t=b("Vector").getScrollPosition()}function A(){y(),t&&b("ProfileTabUtils").tabHasStickyHeader(k)&&x(b("TimelineComponentKeys").STICKY_HEADER,"check",[t.y]),x(b("TimelineComponentKeys").CONTENT,"checkCurrentSectionChange")}function B(){b("queryThenMutateDOM")(z,A,"TimelineController/scrollListener")}function C(a,c,d){__p&&__p();if(!a||!t)return!1;if(t.y<=0){D(a,c);return!1}if(d&&b("CSS").hasClass(d.getRoot(),"fixed_elem")){D(a,c);return!1}d=parseInt(a.style[c],10)||0;t.y<d?(b("CSS").addClass(a,"timeline_fixed"),a.style[c]=t.y+"px"):b("CSS").removeClass(a,"timeline_fixed");return!0}function D(a,c){a.style[c]="0px",b("CSS").removeClass(a,"timeline_fixed")}function E(){b("Vector").getViewportDimensions()}function F(){b("queryThenMutateDOM")(E,function(){x(b("TimelineComponentKeys").STICKY_HEADER_NAV,"adjustMenuHeights"),t&&x(b("TimelineComponentKeys").STICKY_HEADER,"check",[t.y])},"TimelineController/resize")}function G(a,c){__p&&__p();a=b("Vector").getScrollPosition();c=Math.min(c,a.y);a=b("ge")("rightCol");a&&(a.style[j]=c+"px",u=!0);I.showAboveHeaderContent(c);w=b("UITinyViewportAction").isTinyHeight();if(w){a=b("BlueBar").getBar();a&&(a.style[i]=c+"px")}b("Arbiter").inform("reflow")}function H(){__p&&__p();while(r.length)r.pop().remove();b("forEachObject")(o,function(a,b){a.reset&&a.reset()});k=null;m=null;o={};p={};s=null;l=!1;v=!1;if(u){var a=b("ge")("rightCol");a&&D(a,j)}u=!1;if(w){a=b("BlueBar").getBar();a&&D(a,i);w=!1}b("DataStore").purge(b("TimelineConstants").DS_LOADED)}var I={init:function(a,c,d){__p&&__p();if(l)return;b("ProfileTabUtils").isTimelineTab(c)&&(c=b("ProfileTabConst").TIMELINE);l=!0;m=a;n=d.relationship_type;q=d.session_token;r.push(b("Event").listen(window,"scroll",B),b("Event").listen(window,"resize",F));b("tidyEvent")(b("TidyArbiter").subscribe("TimelineCover/coverCollapsed",G));b("Run").onLeave(H);a=new(b("URI"))(window.location).getQueryData();I.registerCurrentKey(c,a.subkey)},showAboveHeaderContent:function(a){var c=b("Vector").getScrollPosition();a=Math.min(a,c.y);c=b("findTag")(b("ProfileDOMID").ABOVE_HEADER_TIMELINE);if(c.firstChild){var d=b("findTag")(b("ProfileDOMID").ABOVE_HEADER_TIMELINE_PLACEHOLDER);d.style.height=c.offsetHeight+"px";c.style.top=a+"px";v=!0}},registerCurrentKey:function(a,c){__p&&__p();k=a;s=a!==b("ProfileTabConst").MAP&&b("Vector").getViewportDimensions().y<g&&b("ProfileTabUtils").tabHasScrubber(a);if(!s){var d=b("BlueBar").getBar();s=d&&d.offsetTop}b("Arbiter").inform("TimelineController/sectionKeyChange",[a,c],"state");x(b("TimelineComponentKeys").STICKY_HEADER,"handleTabChange",[a,c]);x(b("TimelineComponentKeys").STICKY_HEADER_NAV,"handleTabChange",[a,c]);x(b("TimelineComponentKeys").OVERVIEW_CONTAINER,"handleTabChange",[a,c]);x(b("TimelineComponentKeys").STICKY_HEADER_VIEW_SWITCHER,"handleTabChange",[a,c]);B()},getProfileID:function(){return m},getRelationshipType:function(){return n},getSessionToken:function(){return q},getCurrentKey:function(){return k},getCurrentScrubber:function(){return o[b("TimelineComponentKeys").SCRUBBER]},getCurrentStickyHeaderNav:function(){return o[b("TimelineComponentKeys").STICKY_HEADER_NAV]},scrubberHasLoaded:function(a){b("CSS").conditionClass(a.getRoot(),"fixed_elem",!s)},sectionHasChanged:function(a,c){a=[a,c];x(b("TimelineComponentKeys").STICKY_HEADER_NAV,"updateSection",a);x(b("TimelineComponentKeys").SCRUBBER,"updateSection",a)},navigateToSection:function(a){x(b("TimelineComponentKeys").CONTENT,"navigateToSection",[a])},adjustStickyHeaderWidth:function(){x(b("TimelineComponentKeys").STICKY_HEADER,"adjustWidth")},dismissStickyHeaderConfirmationBar:function(){x(b("TimelineComponentKeys").STICKY_HEADER,"dismissConfirmationBar")},hideStickyHeaderNavSectionMenu:function(){x(b("TimelineComponentKeys").STICKY_HEADER_NAV,"hideSectionMenu")},register:function(a,c){o[a]=c,p[a]&&(b("forEachObject")(p[a],function(b,c){x(a,c,b)}),delete p[a])},runOnceWhenSectionFullyLoaded:function(a,c,d){__p&&__p();var e=parseInt(d,10);d=b("TimelineLegacySections").get(c);var f=!1;if(d){d=b("DOMQuery").scry(d.getNode(),".fbTimelineCapsule");f=d.some(function(c){c=b("DataStore").get(b("TimelineConstants").DS_LOADED,c.id);if(parseInt(c,10)>=parseInt(e,10)){a();return!0}return!1})}if(!f)var g=b("Arbiter").subscribe(b("TimelineConstants").SECTION_FULLY_LOADED,function(b,d){d.scrubberKey===c&&parseInt(d.pageIndex,10)===e&&(a(),g.unsubscribe())})}};e.exports=I}),null);
__d("ProfileViewSwitcher.react",["ix","cx","fbt","FlexLayout.react","FluxContainer","Image.react","ProfileEngagementTypedLogger","ProfileOverviewFilterFluxStore","ProfileTabUtils","React","TimelineComponentKeys","TimelineController","XUIButton.react","XUIButtonGroup.react","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;c=babelHelpers.inherits(l,b("React").Component);j=c&&c.prototype;function l(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(){new(b("ProfileEngagementTypedLogger"))().setEngagementType("timeline_view_switcher_click").setItemType(this.props.loggingName).setProductBucket("profile_core").setProfileIDDummy(this.props.profileID).setProfileSessionID(this.props.profileSessionID).setSurface(this.props.surface).log()}.bind(this),c}l.getButtonSize=function(a){return"large"};l.prototype.render=function(){return b("React").createElement(b("XUIButton.react"),{className:b("joinClasses")(this.props.className,this.props.isSelected?"_6ciz":""),href:this.props.link,image:b("React").createElement(b("Image.react"),{className:"_3-90",src:this.props.isSelected?this.props.selectedImage:this.props.notSelectedImage}),label:this.props.label,onClick:this.$1,size:"large"})};d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(a){k.constructor.call(this,a)}a.prototype.componentDidMount=function(){this.props.surface==="sticky_header"&&b("TimelineController").register(b("TimelineComponentKeys").STICKY_HEADER_VIEW_SWITCHER,this)};a.prototype.render=function(){var a=this.state.tabKey,c=b("ProfileTabUtils").isTimelineTab(a),d=b("ProfileTabUtils").isTimelineOverviewTab(a)&&!this.state.isManaging;a=b("ProfileTabUtils").isTimelineOverviewTab(a)&&this.state.isManaging;var e=a?this.props.gridLink:this.props.gridManageLink,f={profileID:this.props.profileID,profileSessionID:this.props.profileSessionID,surface:this.props.surface};a=this.props.showManageButton?b("React").createElement(l,babelHelpers["extends"]({className:"_3-91 _3-94",isSelected:a,label:i._("Manage posts"),link:e,loggingName:"grid-view-manage",notSelectedImage:g("566584"),selectedImage:g("591462")},f)):null;e=b("React").createElement(l,babelHelpers["extends"]({isSelected:c,label:i._("List view"),link:this.props.listLink,loggingName:"list-view",notSelectedImage:g("509325"),selectedImage:g("509324")},f));c=b("React").createElement(l,babelHelpers["extends"]({isSelected:d,label:i._("Grid view"),link:this.props.gridLink,loggingName:"grid-view",notSelectedImage:g("509303"),selectedImage:g("509302")},f));return b("React").createElement(b("FlexLayout.react"),{align:"start",wrap:"wrap"},a,b("React").createElement(b("XUIButtonGroup.react"),{className:this.props.bottomSpacing,display:"inline"},e,c))};a.prototype.handleTabChange=function(a,b){this.setState({tabKey:a})};a.getStores=function(){return[b("ProfileOverviewFilterFluxStore")]};a.calculateState=function(a,c){return{isManaging:b("ProfileOverviewFilterFluxStore").getSelectedStories()!==null,tabKey:a?a.tabKey:c.initialTabKey}};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("TimelineCoverCollapse",["DOMDimensions","Style","TidyArbiter","$","getViewportDimensions"],(function(a,b,c,d,e,f){f.collapse=function(a,c){c--;a=b("getViewportDimensions")().height;var d=b("DOMDimensions").getDocumentDimensions().height;a=a+c;d<=a&&b("Style").set(b("$")("globalContainer"),"min-height",a+"px");window.scrollBy(0,c);b("TidyArbiter").inform("TimelineCover/coverCollapsed",c,"state")}}),null);
__d("TimelineCapsuleUtilities",["CSS"],(function(a,b,c,d,e,f){__p&&__p();a={setFirstUnit:function(a){__p&&__p();var c=!0;for(var d=0;d<a.children.length;++d){var e=a.children[d];if(e.id.indexOf("tl_unit_")===0)if(c)c=!1,b("CSS").addClass(e,"firstUnit");else{b("CSS").removeClass(e,"firstUnit");break}}}};e.exports=a}),null);
__d("TimelineComposer",["csx","Arbiter","Bootloader","ComposerXMarauderLogger","ComposerXStore","CSS","DOM","DOMQuery","Event","Parent","ReloadPage","Run","TimelineCapsuleUtilities","$","findTag","getObjectValues","goURI","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j;function k(){h&&b("ComposerXMarauderLogger").logCompleted(h.id)}function l(a){__p&&__p();if(a.hidePost){k();return}var c=a.redirect;if(c){var d=b("ComposerXStore").getAllForComposer(a.composer_id);b("getObjectValues")(d).forEach(function(a){a.reset&&a.reset(a)});b("goURI")(c);k();return}d=a.streamStory;if(!d){b("ReloadPage").now();return}if(a.backdatedTime){b("Bootloader").loadModules(["TimelineStoryPublisher"],function(b){b.publish(a)},"TimelineComposer");k();return}m.renderCapsuleBasedStory(b("$")(a.composer_id),d);b("Arbiter").inform("TimelineComposer/on_after_publish",d,"persistent");k()}var m={init:function(a){h||(i=b("Arbiter").subscribe("composer/publish",function(a,b){l(b)}),j=b("Arbiter").subscribe("LitestandComposer/publishTemp",function(b,c){l({composer_id:a,streamStory:c.markup})}),b("Run").onLeave(m.destroy)),h=b("$")(a)},destroy:function(){i&&i.unsubscribe(),j&&j.unsubscribe(),h=null},renderCapsuleBasedStory:function(a,c){__p&&__p();var d=b("findTag")("timeline_tab_content");d=d.querySelector("[id^=timeline_story_container]");var e=null;if(d)e=b("DOM").prependContent(d,c)[0];else{d=b("Parent").byClass(a,"fbTimelineCapsule");if(!(d instanceof HTMLElement))return;a=b("DOMQuery").scry(d,".fbTimelineUnit")[0];e=b("DOM").insertAfter(a,c)[0];b("CSS").hasClass(e,"fbTimelineUnit")&&(e=b("DOM").find(e,"div.timelineUnitContainer"));b("TimelineCapsuleUtilities").setFirstUnit(d)}e&&b("Bootloader").loadModules(["Animation"],function(a){new a(e).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(a.ease.both).go()},"TimelineComposer")},getRoot:function(){return h},initNUX:function(a,c){b("tidyEvent")(b("Event").listen(a,"click",function(){var a=b("DOM").scry(c,"textarea")[0];a&&a.focus()}))}};e.exports=m}),null);
__d("FilteredSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AbstractSearchSource"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this),this.$FilteredSearchSource1=a,this.$FilteredSearchSource2=b}a.prototype.bootstrapImpl=function(a){"use strict";this.$FilteredSearchSource2.bootstrap(a)};a.prototype.searchImpl=function(a,b,c){"use strict";var d=function(a,c){a=this.$FilteredSearchSource3(a,c),b(a,c)}.bind(this);this.$FilteredSearchSource2.search(a,d,c)};a.prototype.$FilteredSearchSource3=function(a,b){"use strict";var c=this.$FilteredSearchSource1;return a.filter(function(a){return c(a,b)})};e.exports=a}),null);
if (self.CavalryLogger) { CavalryLogger.start_js(["JTqZ0"]); }

__d("ClickToMessengerGrowthTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ClickToMessengerGrowthLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccountID=function(a){this.$1.account_id=a;return this};a.prototype.setAdID=function(a){this.$1.ad_id=a;return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setBoostedComponentPlatform=function(a){this.$1.boosted_component_platform=a;return this};a.prototype.setBoostedComponentProduct=function(a){this.$1.boosted_component_product=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPostID=function(a){this.$1.post_id=a;return this};a.prototype.setProductType=function(a){this.$1.product_type=a;return this};a.prototype.setProducts=function(a){this.$1.products=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={account_id:!0,ad_id:!0,app_id:!0,boosted_component_platform:!0,boosted_component_product:!0,event:!0,page_id:!0,post_id:!0,product_type:!0,products:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("SendGiftActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SendGiftActionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setExceptionMessage=function(a){this.$1.exception_message=a;return this};a.prototype.setExceptionType=function(a){this.$1.exception_type=a;return this};a.prototype.setGiftID=function(a){this.$1.gift_id=a;return this};a.prototype.setP2pTransactionID=function(a){this.$1.p2p_transaction_id=a;return this};a.prototype.setResponseCode=function(a){this.$1.response_code=a;return this};a.prototype.setSegmentID=function(a){this.$1.segment_id=a;return this};a.prototype.setStackTrace=function(a){this.$1.stack_trace=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={action:!0,exception_message:!0,exception_type:!0,gift_id:!0,p2p_transaction_id:!0,response_code:!0,segment_id:!0,stack_trace:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=Object.freeze({UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3});c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){__p&&__p();var a;g.constructor.call(this,function(){return{state:h.UNKNOWN}},function(c){switch(c.type){case b("ReactComposerMarkdownActionType").SHOW_INTERCEPT:a&&a.$ReactComposerMarkdownStore1(c);break;case b("ReactComposerMarkdownActionType").HIDE_INTERCEPT:a&&a.$ReactComposerMarkdownStore2(c);break;case b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:a&&a.$ReactComposerMarkdownStore3(c);break;case b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:a&&a.$ReactComposerMarkdownStore4(c);break}});a=this}a.prototype.showIntercept=function(a){return this.getComposerData(a).state===h.CHECKING};a.prototype.interceptAttempted=function(a){a=this.getComposerData(a);a=a.state;return a===h.ENABLED||a===h.DISABLED};a.prototype.isMarkdownEnabled=function(a){return this.getComposerData(a).state===h.ENABLED};a.prototype.$ReactComposerMarkdownStore1=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.CHECKING;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore2=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.UNKNOWN;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore3=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.ENABLED;this.emitChange(a)};a.prototype.$ReactComposerMarkdownStore4=function(a){a=this.validateAction(a,["composerID"]);var b=this.getComposerData(a);b.state=h.DISABLED;this.emitChange(a)};e.exports=new a()}),null);
__d("ReactComposerMarkdownActions",["ReactComposerDispatcher","ReactComposerMarkdownActionType","ReactComposerMarkdownStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ReactComposerMarkdownStore");a.prototype.showIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").SHOW_INTERCEPT})};a.prototype.hideIntercept=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").HIDE_INTERCEPT})};a.prototype.enableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").ENABLE_MARKDOWN})};a.prototype.disableMarkdown=function(a){b("ReactComposerDispatcher").dispatch({composerID:a,type:b("ReactComposerMarkdownActionType").DISABLE_MARKDOWN})};function a(){}e.exports=new a()}),null);
__d("ReactComposerSharingSpacesSelectorTimelineSection.react",["cx","React","ReactComposerAudienceSelectorContainer.react","SharesheetDestination","SharingSpacesStrings","XUIText.react","isKeyActivation","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=b("uniqueID")();return b("React").createElement("li",{className:"_1pek _6_lt"},b("React").createElement("div",{className:"_740n",tabIndex:0,role:"checkbox","aria-labelledby":a.headerLabelID+" "+c,"aria-checked":a.timelineSelected,onKeyDown:function(c){return b("isKeyActivation")(c)?a.onTimelineClicked():null},onClick:a.onTimelineClicked},b("React").createElement("ol",{className:"_159h"},b("React").createElement("li",{key:"timelineList",className:"_1sex"+(a.timelineSelected?" _1sfg":""),"data-destination":b("SharesheetDestination").TIMELINE},b("React").createElement("div",{className:"_1sez",key:"timelineListItem"},b("React").createElement("div",{className:"_1se-"},b("React").createElement("div",{className:"_1se_"})),b("React").createElement("div",{className:"_3-w4 _3-w6"}),b("React").createElement("div",{className:"_3-we",onKeyPress:function(a){return a.stopPropagation()}},b("React").createElement(b("XUIText.react"),{id:c,className:"_3qpq _3qps",size:"header3"},a.destinationName||b("SharingSpacesStrings").SHARING_SPACES_SELECTOR_DESTINATION_TIMELINE)))))),b("React").createElement(b("ReactComposerAudienceSelectorContainer.react"),{audienceXHP:a.audienceXHP,className:"_3-wg",ignoreCollectionAudience:!0,viewerIsTarget:a.viewerIsTarget}))}e.exports=a}),null);
__d("ReactComposerSharingSpacesSelector.react",["cx","fbt","ComposerDestinationsLoggingUtils","ComposerSharingSpacesEvent","ComposerTestID","React","ReactComposerAudienceActions","ReactComposerContextTypes","ReactComposerSharingSpacesSelectorMessengerSectionGatedModule","ReactComposerSharingSpacesSelectorStoriesContainerGatedModule","ReactComposerSharingSpacesSelectorTimelineSection.react","SharesheetDestination","SharingSpacesStrings","XUIText.react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactComposerSharingSpacesSelectorMessengerSectionGatedModule").module,k=b("ReactComposerSharingSpacesSelectorStoriesContainerGatedModule").module;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.NUM_INITIAL_SHOWN=10,this.LIST_PAGE_SIZE=10,this.labelID=b("uniqueID")(),this.$2=function(){b("ReactComposerAudienceActions").toggleTimelineSelected(this.context.composerID),b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ComposerSharingSpacesEvent").COMPOSER_SELECT_TIMELINE_CHOOSE,null,null),b("ComposerDestinationsLoggingUtils").logComposerDestinationsNewsFeedToggled(this.context.composerID)}.bind(this),this.$3=function(){b("ReactComposerAudienceActions").toggleStoriesSelected(this.context.composerID),b("ReactComposerAudienceActions").setCollectionID(this.context.composerID,b("ComposerSharingSpacesEvent").COMPOSER_SELECT_TIMELINE_CHOOSE,null,null),b("ComposerDestinationsLoggingUtils").logComposerDestinationsMyStoryToggled(this.context.composerID)}.bind(this),this.$1=new Map()}a.prototype.$4=function(){return b("React").createElement(b("ReactComposerSharingSpacesSelectorTimelineSection.react"),{headerLabelID:this.labelID,audienceXHP:this.props.config.audienceXHP,destinationName:k?b("SharingSpacesStrings").SHARING_SPACES_SELECTOR_DESTINATION_NEWS_FEED:b("SharingSpacesStrings").SHARING_SPACES_SELECTOR_DESTINATION_TIMELINE,key:"timelineSection",onTimelineClicked:this.$2,timelineSelected:this.props.timelineSelected,viewerIsTarget:this.props.config.targetData.viewerIsTarget,isTwoStep:this.context.gks&&this.context.gks.twoStepComposer})};a.prototype.$5=function(){return k?b("React").createElement(k,{headerLabelID:this.labelID,key:"storiesSection",onStoriesClicked:this.$3,storiesSelected:this.props.storiesSelected,viewerIsTarget:this.props.config.targetData.viewerIsTarget,composerID:this.context.composerID,privateSharingOn:this.props.config.actorConfig&&this.props.config.actorConfig.privateSharingOn}):null};a.prototype.$6=function(){return j&&this.props.messengerSectionVisible?b("React").createElement(j,{key:"messengerSection",selectedEntries:this.props.selectedMessengerRecipientEntries,composerID:this.context.composerID,config:this.props.config.messengerConfig}):null};a.prototype.render=function(){var a=[];this.props.defaultSelection===b("SharesheetDestination").STORIES?a=[this.$5(),this.$4(),this.$6()]:a=[this.$4(),this.$5(),this.$6()];return b("React").createElement("div",{className:"uiContextualLayerParent","data-testid":b("ComposerTestID").DESTINATION_PICKER},this.context.gks&&this.context.gks.isDestinationPickerTitleVisible?b("React").createElement(b("XUIText.react"),{id:this.labelID,className:"_6vpa"},h._("Share to")):null,b("React").createElement("div",{className:"_26c-"},b("React").createElement("ol",{className:"_26bz"},a),this.props.footer))};a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSharingSpacesSelectorStoriesSection.react",["cx","FBStoriesPrivacySelectorLoadingContainerBootloader.react","ProfileTile.react","React","ReactComposerContextTypes","SharesheetDestination","SharingSpacesStrings","Tooltip","XUIText.react","isKeyActivation","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=window.devicePixelRatio||1,c=b("uniqueID")();return b("React").createElement("li",babelHelpers["extends"]({className:"_1pek _6_lt"+(this.props.isDisabled?" _3560":"")+(this.props.isDisabled?" _vlk":"")},this.props.isDisabled?b("Tooltip").propsFor(b("SharingSpacesStrings").STORIES_DISABLED_TOOLTIP):{}),b("React").createElement("div",{"aria-labelledby":this.props.headerLabelID+" "+c,className:"_740n",tabIndex:0,role:"checkbox","aria-checked":this.props.storiesSelected,onKeyDown:function(a){return!this.props.isDisabled&&b("isKeyActivation")(a)?this.props.onStoriesClicked():null}.bind(this),onClick:this.props.isDisabled?function(){}:this.props.onStoriesClicked},b("React").createElement("ol",{className:"_159h"},b("React").createElement("li",{key:"storiesList",className:"_1sex"+(this.props.storiesSelected&&!this.props.isDisabled?" _1sfg":""),"data-destination":b("SharesheetDestination").STORIES},b("React").createElement("div",{className:"_1sez",key:"storiesListItem"},b("React").createElement("div",{className:"_1se-"},b("React").createElement("div",{className:"_1se_"})),b("React").createElement("div",{className:"_67io"},b("React").createElement(b("ProfileTile.react"),{id:this.context.actorID,imageProps:{className:"_3-w4"},size:38*a*1.5})),b("React").createElement("div",{className:"_3-we"},b("React").createElement(b("XUIText.react"),{id:c,className:"_3qpq _3qps",size:"header3"},b("SharingSpacesStrings").SHARING_SPACES_SELECTOR_DESTINATION_STORIES)))))),b("React").createElement("div",{className:"_2loc"},b("React").createElement(b("FBStoriesPrivacySelectorLoadingContainerBootloader.react"),{editable:!0,privateSharingOn:this.props.privateSharingOn})))};function a(){h.apply(this,arguments)}a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerSharingSpacesSelectorStoriesContainer.react",["FluxContainer","React","ReactComposerAudienceActions","ReactComposerAudienceStore","ReactComposerMediaUploadStore","ReactComposerScrapedAttachmentStore","ReactComposerSharingSpacesSelectorStoriesSection.react","ReactComposerStatusStore","ReactComposerTaggerStore","ReactComposerTaggerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("ReactComposerTaggerStore"),b("ReactComposerStatusStore"),b("ReactComposerMediaUploadStore"),b("ReactComposerScrapedAttachmentStore"),b("ReactComposerAudienceStore")]};a.calculateState=function(a,c){a=b("ReactComposerTaggerStore").isDisabled(c.composerID,b("ReactComposerTaggerType").STORIES);var d=b("ReactComposerAudienceStore").getStoriesSelected(c.composerID);a&&d?(b("ReactComposerAudienceActions").setStoriesSelectedSavedState(c.composerID,!0),b("ReactComposerAudienceActions").setStoriesSelected(c.composerID,!1)):!a&&b("ReactComposerAudienceStore").getStoriesSelectedSavedState(c.composerID)&&!d&&(b("ReactComposerAudienceActions").setStoriesSelected(c.composerID,!0),b("ReactComposerAudienceActions").setStoriesSelectedSavedState(c.composerID,null));return{isDisabled:a}};a.prototype.render=function(){return b("React").createElement(b("ReactComposerSharingSpacesSelectorStoriesSection.react"),{onStoriesClicked:this.props.onStoriesClicked,storiesSelected:this.props.storiesSelected,viewerIsTarget:this.props.viewerIsTarget,composerID:this.props.composerID,isDisabled:this.state.isDisabled,isTwoStep:this.props.isTwoStep,privateSharingOn:this.props.privateSharingOn,headerLabelID:this.props.headerLabelID})};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("ReactComposerFooterWithDestinationPicker.react",["ix","cx","fbt","ComposerTestID","Image.react","React","ReactComposerContextTypes","ReactComposerPostButtonContainer.react","ReactComposerSharingSpacesSelector.react","XUIButton.react","XUICardSection.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(){var a=this.props.postButtonModule||b("ReactComposerPostButtonContainer.react"),c=this.context.gks&&this.context.gks.messengerDestinationPicker,d=this.props.messengerSectionVisible||!c;a=b("React").createElement(a,{className:"_4r1q",config:this.props.config,forceDisabled:!this.props.storiesSelected&&!this.props.timelineSelected&&this.props.selectedMessengerRecipientEntries.isEmpty(),label:c?String(i._("Share")):this.props.postButtonLabel});d||(a=b("React").createElement("div",{className:"_6c0n"},b("React").createElement(b("XUIButton.react"),{className:"_1qfa",image:b("React").createElement(b("Image.react"),{src:g("481882")}),label:i._("See More"),onClick:this.props.onClickSeeMore}),b("React").createElement("div",{className:"_6c0o"},a)));return b("React").createElement("div",{className:(d?"_45wg":"")+(d?"":" _6c0p")+" _69yt"},a)};a.prototype.render=function(){return!this.props.isComposerFocused?null:b("React").createElement(b("XUICardSection.react"),{className:"_2dck _1pek","data-testid":b("ComposerTestID").REACT_COMPOSER_FOOTER_WITH_DESTINATION_PICKER},b("React").createElement(b("ReactComposerSharingSpacesSelector.react"),{collections:null,config:this.props.config,defaultSelection:this.context.gks.defaultDestination,selectedCollectionID:null,storiesSelected:this.props.storiesSelected,timelineSelected:this.props.timelineSelected,selectedMessengerRecipientEntries:this.props.selectedMessengerRecipientEntries,messengerSectionVisible:this.props.messengerSectionVisible}),this.$1())};function a(){j.apply(this,arguments)}a.contextTypes=b("ReactComposerContextTypes");e.exports=a}),null);
__d("ReactComposerAsyncRequest",["AsyncRequest","AsyncResponse","ReactComposerActions","ReactComposerPostUtilsCore"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AsyncRequest"));g=c&&c.prototype;function a(a,b){"use strict";g.constructor.call(this,b),this.$ReactComposerAsyncRequest1=a,g.setHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this)),g.setErrorHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this)),g.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest7.bind(this))}a.prototype.setHandler=function(a){"use strict";this.$ReactComposerAsyncRequest2=a;return this};a.prototype.setErrorHandler=function(a){"use strict";this.$ReactComposerAsyncRequest3=a;return this};a.prototype.setFinallyHandler=function(a){"use strict";this.$ReactComposerAsyncRequest4=a;return this};a.prototype.$ReactComposerAsyncRequest5=function(a){"use strict";__p&&__p();var c=this.$ReactComposerAsyncRequest8(a);if(c){this.$ReactComposerAsyncRequest9(a);return}setTimeout(function(){var c=a.payload&&a.payload.isPostPending;c||b("ReactComposerPostUtilsCore").handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest6=function(a){"use strict";var b=this.$ReactComposerAsyncRequest8(a);if(b){this.$ReactComposerAsyncRequest9(a);return}this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest8=function(a){"use strict";return a.payload&&a.payload.errors&&a.payload.errors[0]};a.prototype.$ReactComposerAsyncRequest9=function(a){"use strict";var c=this.$ReactComposerAsyncRequest8(a);a=new(b("AsyncResponse"))(a.getRequest(),a);a.errorSummary=c?c.summary:null;a.errorDescription=c?c.description:null;a.silentError=c&&c.is_silent;a.transientError=c&&c.is_transient;this.$ReactComposerAsyncRequest10(a)};a.prototype.$ReactComposerAsyncRequest10=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postError(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(a)}.bind(this),0)};a.prototype.$ReactComposerAsyncRequest7=function(a){"use strict";setTimeout(function(){b("ReactComposerActions").postFinally(this.$ReactComposerAsyncRequest1,a),this.$ReactComposerAsyncRequest4&&this.$ReactComposerAsyncRequest4(a)}.bind(this),0)};e.exports=a}),null);
__d("ClickToMessengerAdsCreationFlowEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT_TO_SMCTA_MESSAGING_LINKS:"default_to_smcta_messaging_links",DEFAULT_TO_SMCTA_REGEX_MODEL:"default_to_smcta_regex_model",DEFAULT_TO_SMCTA_V1_DEEP_TEXT_MODEL:"default_to_smcta_v1_deep_text_model",DEFAULT_TO_MESSAGES_POST_CONTAIN_SMCTA:"default_to_messages_post_contain_smcta",DEFAULT_TO_MESSAGES_DEFAULT_SMCTA:"default_to_messages_default_smcta",DEFAULT_FOR_DATA_COLLECTION:"default_to_data_collection",LWI_MESSAGES_UPSELL_SELECT_SMCTA:"lwi_messages_upsell_select_smcta",LWI_MESSAGES_UPSELL_SELECT_NON_SMCTA:"lwi_messages_upsell_select_non_smcta",LWI_MESSAGES_UPSELL_SELECT_MESSAGES_OBJECTIVE:"lwi_messages_upsell_select_messages_objective",LWI_MESSAGES_UPSELL_SELECT_NON_MESSAGES_OBJECTIVE:"lwi_messages_upsell_select_non_messages_objective",LWI_MESSAGES_UPSELL_CLICK_UPDATE_OBJECTIVE:"lwi_messages_upsell_click_update_objective",LWI_MESSAGES_UPSELL_RENDERED:"lwi_messages_upsell_rendered",AM_EXISTING_POST_ADD_SMCTA:"am_existing_post_add_smcta",PREDICTOR_SERVICE_ERROR:"predictor_service_error",CREATE_MULTI_PHOTO_POST_WITH_CTA:"create_multi_photo_post_with_cta",ADD_CTA_FOR_PRODUCT_TAGGING:"add_cta_for_product_tagging"})}),null);
__d("PagesCrosspostChannel",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP:"group",INSTAGRAM:"instagram"})}),null);
__d("SendGiftActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCEPT_AFTER_ADD_CARD:"accept_after_add_card",ACCEPT_MONEY_TRANSFER:"accept_money_transfer",ADD_CARD:"add_card",ADD_CARD_REDIRECT:"add_card_redirect",CANCEL:"cancel",CANCEL_SCHEDULED:"cancel_scheduled",CANCEL_STOPPED:"cancel_stopped",CLICK_ACCEPT:"click_accept",CLICK_CANCEL_BUTTON:"click_cancel_button",CLICK_CREATE_BUTTON:"click_create_button",CLICK_GLYPH:"click_glyph",CLICK_PAY_BUTTON:"click_pay_button",CLICK_POST_BUTTON:"click_post_button",CLICK_SEE_DETAILS:"click_see_details",CREATE_GIFT:"create_gift",OPEN:"open",PROCESS_PAY:"process_pay",REOPEN:"reopen",START_TO_CANCEL:"start_to_cancel"})}),null);
__d("XComposerXMediaInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/intercept/media/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XComposerXMediaMarkdownInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/markdown_intercept/media/",{xhpc_composerid:{type:"String",required:!0},markdown_enabled:{type:"Bool",defaultValue:!1},xhpc_message:{type:"String"}})}),null);
__d("XComposerXStatusInterceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composerx/intercept/status/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int"}})}),null);
__d("XGamesFindPlayersSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/find_players/save/",{})}),null);
__d("XGroupTaskSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/grouptask/save/",{})}),null);
__d("XMarketplaceCreatePostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/marketplace/create_post/",{xhpc_composerid:{type:"String",required:!0},xhpc_message:{type:"String"},xhpc_targetid:{type:"Int",required:!0}})}),null);
__d("XPagesComposerCustomCTAPublishAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/react_composer/cta/publish/",{message:{type:"String"},photo_id:{type:"FBID"},video_id:{type:"FBID"},cta_data:{type:"HackType"},referrer:{type:"String"},schedule_time:{type:"Int"},draft:{type:"Bool",defaultValue:!1},start_time:{type:"Int"},boosted_post_config:{type:"String"},raw_data:{type:"HackType"},use_premade_video:{type:"Bool",defaultValue:!1},offer_data:{type:"HackType"}})}),null);
__d("XSalesPromoCreateAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sales_promo/create/",{availability_location:{type:"Enum",required:!0,enumType:1},description:{type:"String",defaultValue:""},destination_uri:{type:"String",defaultValue:""},discount_code:{type:"String",defaultValue:""},expiration_time:{type:"Int",required:!0},group_id:{type:"FBID"},owner_id:{type:"FBID",required:!0},page_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},referrer:{type:"String"},schedule_time:{type:"Int"},start_time:{type:"Int"},terms_and_conditions:{type:"String",defaultValue:""},use_boost:{type:"Bool",defaultValue:!1},video_ids:{type:"FBIDVector"},promotion_value:{type:"Float"}})}),null);
__d("XSendGiftCreationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/send_gift/creation/checkout/",{photo_id:{type:"Int"},message:{type:"String"},amount:{type:"Int"},credential_id:{type:"Int"},target_id:{type:"Int"},tagged_ids:{type:"FBIDVector"},xhpc_composerid:{type:"String"}})}),null);
__d("XSendGiftSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/redenv/save/",{xhpc_targetid:{type:"Int",required:!0},xhpc_composerid:{type:"String",required:!0},composer_attachment_message:{type:"String"},distribution:{type:"String",required:!0},total_amount:{type:"Int",required:!0},number_of_envelopes:{type:"Int",required:!0}})}),null);
__d("ReactComposerPostUtils",["fbt","invariant","ActorURI","Arbiter","BanzaiODS","Bootloader","ClickToMessengerAdsCreationFlowEventType","ClickToMessengerGrowthTypedLogger","ComposerEntryPointRef","ComposerPublisher","ComposerSourceSurface","DateConsts","DOM","HTML","PagesCrosspostChannel","PagesProfilePictureActions","PagesStoryCreationStatusTypes","React","ReactComposerActions","ReactComposerAsyncRequest","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceStore","ReactComposerFileStore","ReactComposerMarkdownActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoStore","ReactComposerPostDataUtils","ReactComposerSlideshowStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerStoryArchiveIntroductionDialogGatedModule","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVerticalsConstants","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","ReactDOM","SendGiftActionType","SendGiftActionTypedLogger","SharesheetDestination","SimpleXUIDialog","TQBotDetection_ProductEnum","URI","VideoEditSource","XComposerXMediaInterceptController","XComposerXMediaMarkdownInterceptController","XComposerXStatusInterceptController","XGamesFindPlayersSaveController","XGroupTaskSaveController","XMarketplaceCreatePostController","XPagesComposerCustomCTAPublishAsyncController","XSalesPromoCreateAsyncController","XSendGiftCreationController","XSendGiftSaveController","XVideoEditDialogSaveController","curry","dotAccess","formatDate","getByPath","gkx","ifRequired","setTimeout","textProbablyWritingMarkdown","uuid"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("PagesProfilePictureActions").updateProfilePictureStory,j=b("ReactComposerStoryArchiveIntroductionDialogGatedModule").module,k=b("ReactComposerVerticalsConstants").VerticalConfigs;a=b("ReactComposerWorkFileStore").module;var l=!!a,m=a||b("ReactComposerFileStore"),n=!0;c={publish:function(a,c){b("ReactComposerActions").publishStarted(a),c=c||{},c.composer_id=a,c.streamNode?c.streamStory=c.streamNode:c.streamMarkup&&(c.streamStory=b("HTML")(c.streamMarkup).getRootNode()),c.contentID&&(c.matchData={content_id:c.contentID}),b("Arbiter").inform("composer/publish",c)},isPostButtonDisabled:function(a,c){c=b("ReactComposerPhotoStore").isLimitExceeded(a,c);var d=b("ReactComposerMediaUploadStore").isUploading(a),e=b("ReactComposerPhotoStore").isRecognizing(a),f=!!b("ReactComposerVideoUploadStore").getVideo(a)&&b("ReactComposerStore").isPosting(a);a=b("ReactComposerPhotoStore").isSphericalPhotoUpdating(a);return c||d||e||f||a},_getIsOnMediaAttachment:function(a){var c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(a,b("ReactComposerAttachmentType").MEDIA);a=b("ReactComposerAttachmentStore").getIsAttachmentSelected(a,b("ReactComposerAttachmentType").AUDIENCE_SELECTOR);return c||a},_setupGenericDataFromStore:function(a,c,d,e){b("ifRequired")("ReactComposerStatusDonateButtonStore",function(b){b.getEnabled(c)&&Object.assign(a,{cta_data:{type:"DONATE",value:{fundraiser_campaign_id:b.getFundraiserCampaignID(c),link_title:b.getTitle(c),link_description:b.getDescription(c)}}})}),b("ifRequired")("ReactComposerCTAStore",function(f){f=f.getCTAData(c);f&&f.type==="MESSAGE_PAGE"&&(b("ReactComposerMediaUploadStore").getUploadsCount(c,b("ReactComposerMediaUploadType").PHOTO)>1?(new(b("ClickToMessengerGrowthTypedLogger"))().setEvent(b("ClickToMessengerAdsCreationFlowEventType").CREATE_MULTI_PHOTO_POST_WITH_CTA).setPageID(d).log(),e&&Object.assign(a,{cta_data:f})):Object.assign(a,{cta_data:f}))})},_setupDataForPlaceListAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").PLACE_LIST);d&&b("ifRequired")("ReactComposerPlaceListStore.react",function(b){Object.assign(a,{is_placelist_post:!0,placelist_within_page:b.getPageID(c),should_redirect_place_list_on_create:b.getShouldRedirectOnCreate(c)}),b.getGroupID(c)&&Object.assign(a,{target_id:b.getGroupID(c),xhpc_targetid:b.getGroupID(c)})})},_setupDataForFormattedText:function(a,c){b("ifRequired")("ReactComposerFormattedTextStore",function(b){b=b.getTextFormatPresetID(c);b&&Object.assign(a,{text_format_preset_id:b})}),b("ifRequired")("ReactComposerPromptsStore",function(b){b=b.getMemeCategoryID(c);b&&Object.assign(a,{meme_category_id:b})})},_setupDataForCTAAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerCTAStore",function(a){Object.assign(c,{cta_data:a.getCTAData(d)})})},_setupDataForOnSaleAttachment:function(a,c,d){a&&(b("ifRequired")("ReactComposerSellStore",function(a){Object.assign(c,{composer_attachment_sell_title:a.getTitleText(d),composer_attachment_sell_price:a.getPrice(d),composer_attachment_sell_price_type:a.getPriceType(d),composer_attachment_sell_currency:a.getCurrency(d),composer_attachment_sell_quantity:a.getQuantity(d),composer_attachment_sell_condition:a.getConditionID(d),composer_attachment_sell_category:a.getCategoryID(d),composer_attachment_sell_latitude:b("gkx")("790630")?a.getLatitude(d):null,composer_attachment_sell_longitude:b("gkx")("790630")?a.getLongitude(d):null,composer_attachment_sell_location_page_id:b("gkx")("790630")?null:a.getLocationID(d),composer_attachment_sell_pickup_note:a.getPickupNoteText(d),post_to_marketplace:a.isNearbyLocationChecked(d),cross_post_checked:a.isCrossPostChecked(d),composer_attachment_sell_audience_target_ids:Array.from(a.getAudienceTargetIDs(d)).join(",")})}),b("ifRequired")("ReactComposerAutosSellStore.react",function(a){k.AUTOS.categoryIds.includes(c.composer_attachment_sell_category)&&Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)})}),b("ifRequired")("ComposerRealEstateSellStore",function(a){k.REAL_ESTATE.categoryIds.includes(c.composer_attachment_sell_category)&&Object.assign(c,{composer_attachment_sell_serialized_verticals_data:a.getSerializedVerticalData(d)})}))},_setupDataForGroupMeetupAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").GROUP_MEET_UP);d&&Object.assign(a,b("ReactComposerPostDataUtils").getGroupMeetupData(c))},_setupDataForPageRecommendationAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").PAGE_RECOMMENDATION);d&&b("ifRequired")("ReactComposerPageRecommendationStore.react",function(b){if(b.getRecommendationType(c)){var d=b.getTags(c),e=b.getTagEntryPoint(c),f=[];d.forEach(function(a,b){a.selected===!0&&f.push({id:a.value,entry_point:e})});Object.assign(a,{page_recommendation:{page_id:b.getPageID(c),rec_type:b.getRecommendationType(c),attached_tags:f}})}else Object.assign(a,{page_recommendation_ids:[b.getPageID(c)]})})},_setupDataForPremadePost:function(a,b){a=a.composerConfig.pagePremadePostData;a&&Object.assign(b,{page_premade_post:a})},_setupDataForGIFAttachment:function(a,b){a&&Object.assign(b,{animated_image:a})},_setupDataForGroupLearningCourseAttachment:function(a,c,d){a&&b("ifRequired")("ReactComposerGroupLearningCourseStore",function(a){Object.assign(c,{module_name:a.getModuleName(d),target_id:a.getGroupID(d),xhpc_composerid:d,xhpc_targetid:a.getGroupID(d),xhpc_learning_course:!0,xhpc_mentorship_mentor_prompt:a.getMentorPrompt(d),xhpc_mentorship_mentee_prompt:a.getMenteePrompt(d),xhpc_mentorship_post_offset:a.getScheduledPostOffset(d),xhpc_unit_id:a.getUnitID(d),xhpc_is_unit_completed:a.getIsUnitCompleted(d)})})},_setupDataForLearningCourse:function(a,c,d){var e=b("ReactComposerAttachmentStore").getAttachment(d,b("ReactComposerAttachmentType").LEARNING_COURSE);if(a&&e){a=new(b("URI"))(window.location.href).getQueryData().filter;e=m.getSelectedFileName(d);a&&Object.assign(c,{xhpc_unit_id:a,xhpc_learning_course:!0,module_name:e?e:"New file"})}},_setupDataForLearningLinkAttachment:function(a,c,d,e){a&&b("ifRequired")("ReactComposerLearningLinkStore",function(a){Object.assign(c,{module_name:a.getTitleText(d),learning_link_link:a.getLink(d),xhpc_composerid:d,xhpc_targetid:e,xhpc_learning_course:!0,xhpc_learning_link:!0,xhpc_unit_id:new(b("URI"))(window.location.href).getQueryData().filter,xhpc_message:b("ReactComposerStatusStore").getMessageText(d)})})},_setupDataForLivingRoomAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LIVING_ROOM);c&&b("ifRequired")("LivingRoomComposerStore",function(b){var c=b.getLivingRoomID();c&&Object.assign(a,{living_room_attachment:{group_id:b.getGroupID(),living_room_id:c}})})},_setupDataForScheduledLivingRoomAttachment:function(a,c){c=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LIVING_ROOM);c&&b("ifRequired")("LivingRoomComposerStore",function(b){b=b.getScheduledLivingRoomID();b&&Object.assign(a,{scheduled_living_room:{scheduled_living_room_id:b}})})},_setupDataForLocalDevPlatformAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").LOCAL_DEV_PLATFORM);d&&b("ifRequired")("ReactComposerLocalDevPlatformStore",function(b){var d=b.getAppConfigID(c),e=b.getPhotoID(c);b=b.getPageID(c);Object.assign(a,{local_dev_platform_app_instance:{ldp_app_config_id:d,photo_id:e,page_id:b}})})},_setupDataForCivicCTAAttachment:function(a,c){var d=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").CIVIC_CTA);d&&b("ifRequired")("ReactComposerCivicCTAStore",function(b){var d={goal:b.getGoal(c),rep_id:b.getSelectedRep(c).getUniqueID()};b.getDeadline(c)&&(d.deadline=b.getDeadline(c));Object.assign(a,{action_post_attachment_data:d})})},_setupDataForDetectionAnalyticsData:function(a,c){if(a.attachment&&a.attachment.params){c=String(b("uuid")());Object.assign(a,{detection_analytics_data:{detection_id:c,device_advertising_id:null,product_id:String(b("TQBotDetection_ProductEnum").FB_WEB_SHARE)}})}},_postForSendGift:function(a){__p&&__p();var c=b("ReactComposerPostDataUtils").getPostData(a),d=a.composerID;b("ifRequired")("ReactComposerSendGiftStore",function(a){Object.assign(c,{composer_attachment_message:b("ReactComposerStatusStore").getMessageText(d),message:b("ReactComposerStatusStore").getMessage(d),type:a.getType(d),theme:a.getTheme(d),total_amount:a.getTotalIntAmount(d),credential_id:a.getCredentialId(d),distribution:a.getDistribution(d),number_of_envelopes:a.getNumberOfEnvelopes(d)})});if(c.type==="v1")return b("XSendGiftSaveController").getURIBuilder().setString("composer_attachment_message",c.composer_attachment_message).setString("distribution",c.distribution).setInt("total_amount",c.total_amount).setInt("number_of_envelopes",c.number_of_envelopes).setInt("xhpc_targetid",a.targetID).setString("xhpc_composerid",a.composerID).getURI();else{new(b("SendGiftActionTypedLogger"))().setAction(b("SendGiftActionType").CLICK_POST_BUTTON).log();var e=b("ReactComposerTaggerStore").getTaggerData(d,b("ReactComposerTaggerType").PEOPLE);e=e.map(function(a){return a.getUniqueID()});return b("XSendGiftCreationController").getURIBuilder().setString("message",c.composer_attachment_message).setInt("amount",c.total_amount).setInt("credential_id",c.credential_id).setInt("photo_id",c.theme).setInt("target_id",a.targetID).setFBIDVector("tagged_ids",e).setString("xhpc_composerid",a.composerID).getURI()}},_onMessengerSuccess:function(a,c){b("Bootloader").loadModules(["FantaTabActions"],function(b){a.getThreadIDs().forEach(function(a){return b.openTab(a)})},"ReactComposerPostUtils")},_onStorySuccess:function(a){n&&j&&(b("ReactDOM").render(b("React").createElement(j,null),b("DOM").create("div")),n=!1);a=b("dotAccess")(a,"request.data.variables","{}");var c=JSON.parse(a);c&&((a=c)!=null?(a=a.input)!=null?a.composer_source_surface:a:a)===b("ComposerSourceSurface").PAGE?(i(b("PagesStoryCreationStatusTypes").STORY_CREATION_SUCCESS),b("Arbiter").inform("Pages/createStorySuccess"),b("Bootloader").loadModules(["FBStoriesDataHelper"],function(a){a.loadPageBucketData(c.actor_id)},"ReactComposerPostUtils")):b("Bootloader").loadModules(["FBStoriesTrayInit","FBStoriesProductionActions"],function(a,b){b.setUserBucketUploadStatus(!1),a.reloadTray()},"ReactComposerPostUtils")},_onInstagramSuccess:function(a){if(a.payload.success&&!a.payload.media_link)return;b("Bootloader").loadModules(["ReactCrossPostingConfirmationDialogContainer.react"],function(c){b("ReactDOM").render(b("React").createElement(c,{media_channel:b("PagesCrosspostChannel").INSTAGRAM,media_link:a.payload.media_link,success:a.payload.success}),b("DOM").create("div"))},"ReactComposerPostUtils")},_shouldSendPayloadToVideoUploadController:function(a,c,d,e){if(e!=="page"||a!==d)return!1;e=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(c,b("ReactComposerAttachmentType").MEDIA);a=b("ReactComposerMediaUploadStore").getUploadsCount(c,b("ReactComposerMediaUploadType").VIDEO)===1;return e&&a},_getSomethingWentWrongDialog:function(a,c){return b("Bootloader").loadModules(["XUIDialogButton.react"],function(d){b("SimpleXUIDialog").showEx(c,a,b("React").createElement(d,{action:"cancel",use:"confirm",label:g._("Close")}))},"ReactComposerPostUtils")},post:function(a){__p&&__p();!a.actorID&&h(0,5899);!a.composerConfig&&h(0,5900);!a.composerConfig.contextInfo&&h(0,5901);!a.composerID&&h(0,5902);!a.targetID&&h(0,5903);var c=a.actorID,d=a.composerID,e=a.targetID,f=a.targetType,i=!1,j=!1,k=!1,n=b("ReactComposerAudienceStore").getNoDestinationSelected(d);if(n){b("BanzaiODS").bumpEntityKey("composer.destination_picker","error_no_destination");this._getSomethingWentWrongDialog(g._("Oops"),g._("Something's gone wrong. We're working to get it fixed as soon as we can."));return}n=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").IG_PHOTO_REMINDER);var o=this._getIsOnMediaAttachment(d),p=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QANDA),q=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FILE),r=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QUESTION),s=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SEND_GIFT),t=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SELL)||b("ifRequired")("ReactComposerSellStore",function(a){return a.getInterceptSell(d)},function(){return!1}),u=!1;b("ifRequired")("ReactComposerCTAAttachmentUtils",function(a){u=a.isCTAAttachmentSelected(d)});var v=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").TASK),w=b("ReactComposerSlideshowStore").isSlideshowSelected(d),x=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").PROFILE_PIC_FRAME),y=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").QA),z=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").FIND_PLAYERS),A=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_COURSE),B=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").MEDIA_EFFECT_SHARE),C=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").SALES_PROMO),D=b("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(d,b("ReactComposerAttachmentType").LEARNING_THIRD_PARTY_LINK),E=a.composerConfig.attachmentsConfig||{};E=E[b("ReactComposerAttachmentType").STATUS]||{};var F=b("ifRequired")("ReactComposerSellStore",function(a){return a.showURLIntercept(d)},function(){return!1});F=E.attemptIntercept&&E.sellIntercept&&!t&&!F;var G=b("ReactComposerPostDataUtils").getPostData(a),H=Boolean(b("getByPath")(a,["composerConfig","taggersConfig",b("ReactComposerTaggerType").MESSAGING,"enableSMCTAForMultiPhoto"]));this._setupGenericDataFromStore(G,d,a.targetID,H);H=b("ReactComposerVideoUploadStore").getVideo(d);if(o&&!!H){var I=b("ReactComposerVideoUploadStore").getUploader(d);I&&I.uploadFromFile(H.file,G);return}I=l?m.hasFile(d):m.isFileSelected(d);H=b("ReactComposerTaggerStore").getTaggerData(d,b("ReactComposerTaggerType").GIF).gifData;var J,K=b("ReactComposerMediaUploadStore").getUploads(d);this._setupDataForFormattedText(G,d);this._setupDataForOnSaleAttachment(t,G,d);this._setupDataForCTAAttachment(u,G,d);this._setupDataForPlaceListAttachment(G,d);this._setupDataForGroupMeetupAttachment(G,d);this._setupDataForPageRecommendationAttachment(G,d);this._setupDataForPremadePost(a,G);this._setupDataForGIFAttachment(H,G);this._setupDataForLearningCourse(q,G,d);this._setupDataForGroupLearningCourseAttachment(A,G,d);this._setupDataForLearningLinkAttachment(D,G,d,a.targetID);this._setupDataForLivingRoomAttachment(G,d);this._setupDataForScheduledLivingRoomAttachment(G,d);this._setupDataForLocalDevPlatformAttachment(G,d);this._setupDataForCivicCTAAttachment(G,d);this._setupDataForDetectionAnalyticsData(G,d);H=K.size>0;n=n||o||p||t||A||v||D;o=w||n&&H;p=b("ifRequired")("PagesComposerBoostedPostsStore",function(a){return a.getConfig(d)},function(){return null});E.attemptMarkdownIntercept&&a.composerConfig.attachmentsConfig&&a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS]&&(a.composerConfig.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].defaultMarkdownOn=G.is_markdown);A=G.blocks;var L=E.attemptMarkdownIntercept&&!t&&!A&&!G.is_markdown;b("ifRequired")("ReactComposerMarkdownStore",function(a){L=L&&!a.interceptAttempted(d)});if(!o&&L&&b("textProbablyWritingMarkdown")(b("ReactComposerStatusStore").getMessageText(d))){b("setTimeout")(function(){return b("ReactComposerActions").postFinally(d,null)},0);b("ReactComposerMarkdownActions").showIntercept(d);return}D=b("ifRequired")("ReactComposerSellStore",function(a){return a.getPostDirectlyToMarketplace(d)},function(){return!1});var M=null;w=b("ReactComposerStore").getRef(d);if(r||y)switch(w){case b("ComposerEntryPointRef").GROUP:M="group";break;case b("ComposerEntryPointRef").EVENT:case b("ComposerEntryPointRef").EVENT_ABOUT:M="event";break;case b("ComposerEntryPointRef").PAGES_FEED:M="composer";break;default:M=w}n=b("ifRequired")("PagesComposerUnpublishedPostsStore",function(b){return b.getScheduledPublishTime(a.composerID)},function(){return null});n=n?Math.round(n.getTime()/1e3):null;var N;if(v)J=b("XGroupTaskSaveController").getURIBuilder().getURI(),b("ifRequired")("ReactComposerTaskStore",function(a){Object.assign(G,a.getTaskData(d)),b("ifRequired")("GroupTaskLoggedAction",function(a){Object.assign(G,{action_to_be_logged:a.CREATE_TASK})})});else if(o)N=b("ReactComposerPostDataUtils").getMediaUploadsData(d,K),Object.assign(G,N),F?J=b("XComposerXMediaInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():L?J=b("XComposerXMediaMarkdownInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setBool("markdown_enabled",G.is_markdown).getURI():D?J=b("XMarketplaceCreatePostController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():(j=b("ComposerPublisher").getShouldUseGraphQLForMedia(c,G,a.composerID),J=new(b("URI"))("/media/upload/photos/composer/"));else if(q&&I)J=new(b("URI"))(m.getURI(d));else if(r)J=new(b("URI"))("/ajax/questions/save.php"),b("ifRequired")("ReactComposerQuestionStore",function(a){var c=a.getOptionStrings(d),e=a.getOptionImageIndices(d);Object.assign(G,{composerAttachmentQuestion:b("ReactComposerStatusStore").getMessage(d),question_options:c,question_option_image_indices:e,source:M,create_eigenpoll:a.canChooseMultiplePollOptions(d),anyone_add_options:a.canAnyoneAddPollOptions(d)})}),Object.assign(G,b("ReactComposerPostDataUtils").getMediaUploadsData(d,K));else if(u&&G.attachment.params.allowMultiMedia)k=b("ComposerPublisher").getShouldUseGraphQLForPageCTA(c,G),J=b("XPagesComposerCustomCTAPublishAsyncController").getURIBuilder().setString("message",G.xhpc_message_text).setHackType("cta_data",G.cta_data).setFBID("photo_id",G.attachment.photoID).setFBID("video_id",G.attachment.videoID).setString("boosted_post_config",p).setHackType("raw_data",G).setInt("schedule_time",n).setBool("use_premade_video",G.attachment.usingPremadePostVideo).getURI();else if(s)J=this._postForSendGift(a);else if(t)J=new(b("URI"))("/ajax/groups/sell/save.php");else if(x){var O,P;b("ifRequired")("ReactComposerProfilePictureFrameStore",function(a){O=a.getSelectedOverlayID(d),P=a.getScheduledPostDate(d),N=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getCroppedPhotoForUpload(d))});var Q,R,S;H=!1;if(P){Q=b("formatDate")(P,"m/d/Y",{skipPatternLocalization:!0});E=P.getHours()*b("DateConsts").MIN_PER_HOUR+P.getMinutes();R=b("DateConsts").SEC_PER_MIN*E;S=P.getTime()/1e3;H=!0}J=new(b("URI"))("/media/upload/photos/composer/");Object.assign(G,babelHelpers["extends"]({},N,{scheduled:H,sticker_id:O,future_date:Q,future_time:R,scheduled_publish_time:S}))}else if(y)b("ifRequired")("ReactComposerGroupQAStore",function(a){J=new(b("URI"))("/group_qa/save/"),Object.assign(G,{composer_question_title:a.getTitle(d),composer_question_description:a.getDescription(d),source:M})}),Object.assign(G,b("ReactComposerPostDataUtils").getMediaUploadsData(d,K));else if(C)b("ifRequired")("ReactComposerSalesPromoStore",function(a){Object.assign(G,{availability_location:a.getAvailabilityLocation(d),description:a.getDescription(d),destination_uri:a.getDestinationURI(d),discount_code:a.getDiscountCode(d),expiration_time:a.getExpirationTime(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,K).composer_unpublished_photo,terms_and_conditions:a.getTermsAndConditions(d)})}),J=b("XSalesPromoCreateAsyncController").getURIBuilder().setEnum("availability_location",G.availability_location).setString("description",G.description).setString("destination_uri",G.destination_uri).setString("discount_code",G.discount_code).setInt("expiration_time",G.expiration_time).setFBID("group_id",a.targetID).setFBID("owner_id",c).setFBIDVector("photo_ids",G.photo_ids).setString("referrer","www_group_composer").setString("terms_and_conditions",G.terms_and_conditions).getURI(),Object.assign(G,b("ReactComposerPostDataUtils").getMediaUploadsData(d,K));else if(z)b("ifRequired")("ReactComposerFindPlayersStore",function(a){J=new(b("URI"))(b("XGamesFindPlayersSaveController").getURIBuilder().getURI()),Object.assign(G,{composer_find_players_title:a.getTitle(d),composer_find_players_tags:a.getTags(d),composer_find_players_name:a.getName(d),composer_find_players_description:b("ReactComposerStatusStore").getMessage(d),photo_ids:b("ReactComposerPostDataUtils").getMediaUploadsData(d,K).composer_unpublished_photo})});else if(B){var T,U=!0;b("ifRequired")("ReactComposerMediaEffectShareStore",function(a){__p&&__p();N=b("ReactComposerPostDataUtils").getMediaDataWithoutFiltering(d,a.getEffectPhotoForUpload(d));var c=a.getComposerData(d).effectStatus;T=a.getEffectToApply(d);c==="active"&&(U=!1);c=a.getUploadedVideoID(d);if(c){Object.assign(G,{draft:U});a.postVideo(d,G);return}});J=new(b("URI"))("/media/upload/photos/composer/");Object.assign(G,babelHelpers["extends"]({},N,{scheduled:!1,sticker_id:T,draft:U}))}else if(G.attachment&&G.attachment.params.canvas_video){J=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",G.attachment.params.canvas_video.video_id).setEnum("composer_entry_point_ref",w).getURI();A=n===null&&!G.draft;Object.assign(G,G.attachment.params.canvas_video);Object.assign(G,{description:G.xhpc_message,is_canvas_video:!0,publish:A,scheduled_publish_time:n,source:b("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var V={content_id:G.attachment.params.canvas_video.video_id,event:"publish",is_old_composer:!1,scraped_url:G.attachment.params.url,target_id:a.targetID};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(V)})}else if(G.attachment&&G.attachment.params.carousel_video_lpp){J=b("XVideoEditDialogSaveController").getURIBuilder().setInt("v",G.attachment.params.carousel_video_lpp.video_id).setEnum("composer_entry_point_ref",w).getURI();v=n===null&&!G.draft;Object.assign(G,G.attachment.params.carousel_video_lpp);Object.assign(G,{description:G.xhpc_message,scheduled_publish_time:n,publish:v,source:b("VideoEditSource").PAGE_VIDEO_LPP_PUBLISH});var W={child_attachments:G.attachment.params.child_attachments,event:"publish",target_id:a.targetID,content_id:G.attachment.params.carousel_video_lpp.video_id,is_old_composer:!1,scraped_url:G.attachment.params.url};b("ifRequired")("PagesComposerActionsLogger",function(a){a.log(W)})}else F?J=b("XComposerXStatusInterceptController").getURIBuilder().setString("xhpc_message",b("ReactComposerStatusStore").getMessageText(d)).setString("xhpc_composerid",a.composerID).setInt("xhpc_targetid",a.targetID).getURI():(i=b("ComposerPublisher").getShouldUseGraphQLForStatus(c,G),J=new(b("URI"))("/ajax/updatestatus.php"));o=J;D=!1;b("ifRequired")("ReactComposerVideoXEditDialogStore",function(e){__p&&__p();D=e.hasSelectedCustomThumbnails(a.composerID);if(D){var f=K.map(function(a){return a.id}),g=e.getThumbnailTypes(f.toArray(),a.composerID),h={};K.forEach(function(a){return h[a.id]=a.photoID});var i={};for(var g=g,j=Array.isArray(g),k=0,g=j?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=g.length)break;l=g[k++]}else{k=g.next();if(k.done)break;l=k.value}l=l;var n=l[0];l=l[1];i[h[n]]=l}Object.assign(G,{thumb_types:i});n=e.getUploadsWithTextOnThumbnail(f.toArray(),a.composerID);l=[];for(var k=n,j=Array.isArray(k),g=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(g>=k.length)break;i=k[g++]}else{g=k.next();if(g.done)break;i=g.value}n=i;l=l.concat(h[n])}Object.assign(G,{videos_with_text_thumbnails:l});var o=b("ReactComposerPostDataUtils").createFormData(G);e.getThumbnails(f.toArray(),a.composerID).then(function(e){e.forEach(function(a){o.append("thumb"+h[a[0]],a[1])});if(q&&m.hasFile(d)){e=m.getFile(d);o.append("file1",e)}e=b("ActorURI").create(J,c);e=new(b("ReactComposerAsyncRequest"))(a.composerID,e).setRawData(o).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);e.send()}).done()}});J===o||h(0,5904);b("ReactComposerAudienceStore").getStoriesSelected(a.composerID)&&(G.is_also_posting_video_to_feed=b("ReactComposerAudienceStore").getTimelineSelected(a.composerID),b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:this._onStorySuccess}),G,{type:b("SharesheetDestination").STORIES}));if(b("ReactComposerAudienceStore").getInstagramSelected(a.composerID)){I=b("ReactComposerAudienceStore").getInstagramBusinessAccountID(d);I&&(G.instagram_business_account_id=I)}if(b("ReactComposerAudienceStore").getAdsPePostSelected(a.composerID)){r=b("ActorURI").create(J,c);p=new(b("ReactComposerAsyncRequest"))(a.composerID,r).setData(G).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);p.send();return}b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID).isEmpty()||b("ComposerPublisher").publish(babelHelpers["extends"]({},a,{onPostSuccess:b("curry")(this._onMessengerSuccess,b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID))}),G,{type:b("SharesheetDestination").MESSENGER,messenger_ids:b("ReactComposerAudienceStore").getSelectedMessengerRecipientEntries(a.composerID)});if(!b("ReactComposerAudienceStore").getTimelineSelected(a.composerID))return;if(this._shouldSendPayloadToVideoUploadController(c,d,e,f)){b("ifRequired")("VideoComposerDialogUploadUtils",function(a){a.doPostFromPagesComposer(G)});return}if(i||j||k){b("ComposerPublisher").publish(a,G,{type:b("SharesheetDestination").TIMELINE});return}G.delight_ranges&&Object.assign(G,{delight_ranges:JSON.stringify(G.delight_ranges)});if(!D){s=b("ActorURI").create(J,c);t=new(b("ReactComposerAsyncRequest"))(a.composerID,s).setData(G).setHandler(a.onPostSuccess).setErrorHandler(a.onPostFailure);if(q&&m.hasFile(d)){x=m.getFile(d);E=new FormData();E.append("file1",x);t.setRawData(E)}t.send()}}};e.exports=c}),null);
if (self.CavalryLogger) { CavalryLogger.start_js(["6uRE+"]); }

__d("AdsSchedulingTooltipTheme",["cx"],(function(a,b,c,d,e,f,g){"use strict";a={wrapperClassName:"_3yee",arrowDimensions:{offset:14,length:18}};e.exports=a}),null);
__d("AdsSchedulingTooltip.react",["cx","AdsSchedulingTooltipTheme","React","ReactAbstractContextualDialog","ReactLayer","XUIAmbientNUXBody.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"AdsScheduleingTooltipTheme",theme:b("AdsSchedulingTooltipTheme")}));h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(i,babelHelpers["extends"]({autoFocus:!1,focusContextOnHide:!1},this.props),b("React").createElement(b("XUIAmbientNUXBody.react"),{className:"_1m17",onCloseButtonClick:this.props.onCloseButtonClick},this.props.children))};function a(){h.apply(this,arguments)}a.propTypes={alignment:c.oneOf(["left","center","right"]),behaviors:c.object,context:c.object,contextRef:c.func,customwidth:c.number,hasActionableContext:c.bool,offsetX:c.number,offsetY:c.number,position:c.oneOf(["above","below","left","right"]),shown:c.bool,onCloseButtonClick:c.func};e.exports=a}),null);
__d("ExploreFeedEndOfFeedTracking",["OnVisible","tidyEvent"],(function(a,b,c,d,e,f){"use strict";var g=null,h=!1,i=!1;e.exports={reset:function(){h=!1,i=!1,g&&g.remove(),g=null},onEOFUnitRendered:function(a){h=!1,i=!1,g=new(b("OnVisible"))(a.element,function(){h=!0,g&&g.remove()},!0),b("tidyEvent")(g)},onStoryRendered:function(){if(!h||i)return;i=!0}}}),null);
__d("XFeedSeeFirstStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/control/see_first/story/",{})}),null);
__d("SeeFirstStoryLogger",["AsyncRequest","XFeedSeeFirstStoryController"],(function(a,b,c,d,e,f){a=function(){var a=b("XFeedSeeFirstStoryController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).send()};e.exports={log:a}}),null);
__d("FeedImageErrorEventLogger",["Arbiter","BanzaiLogger","Bootloader","DataStore","DOMQuery","Parent","Run","URI","ge","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2;function a(a,b){return{containerId:b,errorsImageSrcs:{},numErrorUrlsLogged:0,surface:a}}var h=!1,i=0,j=!1,k=[a("feed","stream_pagelet"),a("profile","pagelet_timeline_main_column")];function l(a){return!!a&&(Object.prototype.hasOwnProperty.call(a.getQueryData(),"theater")||a.toString().indexOf("/videos/")>=0)}function m(a){b("BanzaiLogger").log("WebFeedImageErrorEventLoggerConfig",a)}function n(){__p&&__p();k.forEach(function(a){__p&&__p();var c=b("ge")(a.containerId);if(c){c=b("DOMQuery").scry(c,"img");var d=c.length,e=0,f=0;c.forEach(function(c){if(c&&c.src){var d="other";a.errorsImageSrcs[c.src]?(f++,d="error"):c.complete&&(e++,d="success");i>0&&Math.random()<1/i&&b("BanzaiLogger").log("WWWImageLoadSrcEventLoggerConfig",{surface:a.surface,src:c.src,result:d})}});j&&d>0&&b("BanzaiLogger").log("WWWImageLoadSummaryEventLoggerConfig",{surface:a.surface,num_total:d,num_success:e,num_errors:f,num_other:d-e-f});a.numErrorUrlsLogged=0}})}function o(a){__p&&__p();if(!a||!a.target||a.target.nodeName!=="IMG")return;var c=a.target,d=c.src;a=k.find(function(a){return b("Parent").bySelector(c,"#"+a.containerId)});if(!a)return;var e=a.surface;if(!b("DataStore").get(c,"retry"))b("DataStore").set(c,"retry",!0),c.src=d;else{a.errorsImageSrcs[d]=!0;if(a.numErrorUrlsLogged>=g)return;a.numErrorUrlsLogged++;b("Bootloader").loadModules(["XHRRequest"],function(a){a&&new a(d).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(){m({error_type:"SUCCESS",src:d,surface:e})}).setErrorHandler(function(a){if(a){var b=a.errorMsg;b.indexOf('id="facebook"')>0&&(b="FB ERROR PAGE");m({error_code:a.errorCode,error_type:a.errorType,error_message:b,src:d,surface:e})}}).setTimeoutHandler(function(a){m({error_type:"TIMEOUT",src:a,surface:e})}).send()},"FeedImageErrorEventLogger")}}c={init:function(a){__p&&__p();if(h)return;h=!0;i=a&&a.loadSampleRate||0;j=a&&a.alwaysLogCounts;window.addEventListener("error",o,!0);b("Run").onUnload(function(){return n()});b("Arbiter").subscribe(["pre_page_transition"],function(a,c){if(l(b("URI").getMostRecentURI())||l(b("URI").getNextURI()))return;n()})}};e.exports=c}),null);
__d("FeedImageLoadPerfLogger",["DOMQuery","Event","FeedQuickLogModule","QuickPerformanceLogger","Run","crc32"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FeedQuickLogModule").IMAGE_LOAD_WWW;function h(a){if(!a||!a.target||!a.target.src)return;a=a.target;var c=a.src;a.complete&&b("QuickPerformanceLogger").markerEnd(g,"SUCCESS",b("crc32")(c));j(a)}function i(a){if(!a||!a.target||!a.target.src)return;a=a.target;var c=a.src;if(!c)return;b("QuickPerformanceLogger").markerEnd(g,"FAIL",b("crc32")(c));j(a)}function j(a){if(!a)return;a.removeEventListener("load",h,!0);a.removeEventListener("error",i,!0)}function k(a){__p&&__p();if(!a||!a.src)return;b("QuickPerformanceLogger").markerStart(g,b("crc32")(a.src));if(a.complete){b("QuickPerformanceLogger").markerEnd(g,"SUCCESS",b("crc32")(a.src));return}a.addEventListener("load",h,!0);a.addEventListener("error",i,!0);b("Run").onLeave(function(){l(a)})}function l(a){if(!a||!a.src)return;if(a.complete)return;b("QuickPerformanceLogger").markerEnd(g,"CANCEL",b("crc32")(a.src));j(a)}a={startMarkers:function(a){if(!a)return;a=b("DOMQuery").scry(a,"img");a.forEach(function(a){k(a)})},cancelMarkers:function(a){if(!a)return;a=b("DOMQuery").scry(a,"img");a.forEach(function(a){l(a)})}};e.exports=a}),null);
__d("RightColumnTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RightColumnLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RightColumnLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RightColumnLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCegoService=function(a){this.$1.cego_service=a;return this};a.prototype.setContainer=function(a){this.$1.container=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventTargetRaw=function(a){this.$1.event_target_raw=a;return this};a.prototype.setPageletID=function(a){this.$1.pagelet_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={cego_service:!0,container:!0,event:!0,event_target_raw:!0,pagelet_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RightColumnLogger",["Arbiter","CSS","DOM","Event","Parent","RightColumnTypedLogger","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("RightColumnTypedLogger"))(),h={},i;a={init:function(a){__p&&__p();var c=a.log_clicks;a=a.log_impressions;if(i)return;i=new(b("SubscriptionsHandler"))();if(a){a=j("rightCol","rhc");var d=j("pagelet_sidebar","sidebar");a();d();i.addSubscriptions(b("Run").onLeave(l),b("Arbiter").subscribe("LitestandClassicRHC/loaded",a),b("Arbiter").subscribe("sidebar/visibility",d))}if(c){a=k("rightCol","rhc");d=k("pagelet_sidebar","sidebar");a&&i.addSubscriptions(a);d&&i.addSubscriptions(d)}}};function j(a,c){__p&&__p();return function(){__p&&__p();var d=document.getElementById(a);if(!d)return;var e=b("DOM").scry(d,"[data-referrer]");d.getAttribute("data-referrer")&&d.firstElementChild&&b("CSS").shown(d.firstElementChild)&&e.push(d);e.forEach(function(a){if(!a.childElementCount||h[a.id])return;h[a.id]=!0;var d=b("DOM").scry(a,"[data-ego-service]");g.clear().setEvent("impression").setContainer(c).setPageletID(a.id).setEventTargetRaw("");d.length>0?d.forEach(function(a){g.setCegoService(a.getAttribute("data-ego-service")).log()}):g.log()})}}function k(a,c){a=document.getElementById(a);return a?b("Event").listen(a,"click",function(a){a=a.target;var d=b("Parent").byAttribute(a,"data-referrer"),e=b("Parent").byAttribute(a,"data-ego-service");g.clear().setEvent("click").setContainer(c).setPageletID(d?d.id:null).setCegoService(e?e.getAttribute("data-ego-service"):null).setEventTargetRaw(n(a).join(",")).log()}):null}function l(){h={},i&&(i.release(),i=null)}function m(a){if(!a||!(a instanceof HTMLElement))return"";var b=a.id,c=a.nodeName;a=a.getAttribute("class");c=c?c.replace(/^#/,""):"unknown";b=b?"#"+b:"";a=a?" "+a.replace(/\s+/g," ").trim():"";return":"+c+b+a}function n(a){var b=[];while(a&&a instanceof HTMLElement&&a.id!=="rightCol"&&!a.hasAttribute("data-referrer"))b.push(m(a)),a=a.parentElement;b.reverse();return b}e.exports=a}),null);
__d("MarketplaceLoggingHelper",["Event","LocalSellUserActionsTypedLogger","MarketplaceImpressionsTypedLogger","WebStorage","ge","getStyleProperty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="marketplaceLoggingBookmarkLogTimestamp",h=60*60*6*1e3;a={logBookmarkImpression:function(a){__p&&__p();a=b("ge")(a);if(a&&b("getStyleProperty")(a,"display")==="none")return;a=b("WebStorage").getLocalStorage();var c=Date.now();if(a){var d=a.getItem(g);if(d){d=parseInt(d,10);if(d+h>c)return}a.setItem(g,c)}new(b("MarketplaceImpressionsTypedLogger"))().setEvent("impression").setUIComponent("app_tab").setSurface("app_tab").log()},addBookmarkClickLoggingHandler:function(a){a=b("ge")(a);if(!a)return;b("Event").listen(a,"click",function(){new(b("LocalSellUserActionsTypedLogger"))().setEvent("click").setUIComponent("app_tab").setSurface("app_tab").log()})}};e.exports=a}),null);
__d("collectSubtreeData",[],(function(a,b,c,d,e,f){__p&&__p();function g(a,b,c,d,e){__p&&__p();if(a.offsetWidth===0&&a.offsetHeight===0)return e;var f={};if(a.getAttribute)for(j=0;j<b.length;j++){k=b[j];var h=a.getAttribute(c[k]);if(h){f[k]={};h=JSON.parse(h);for(var i in d)h[i]!==void 0&&(f[k][i]=!0,e[k]===void 0&&(e[k]={}),e[k][i]===void 0&&(e[k][i]=[]),d[i].length>0&&e[k][i].push(d[i]),e[k][i].push("("+h[i]))}}for(var j=0;j<a.childNodes.length;j++){h=a.childNodes[j];g(h,b,c,d,e)}for(var k in f)for(var l in f[k]){h=e[k][l][e[k][l].length-1];h.length>0&&h.charAt(0)=="("?e[k][l][e[k][l].length-1]=h.substr(1):e[k][l].push(")")}return e}function a(a,b){__p&&__p();var c={};for(var d=0;d<b.length;++d)c[b[d]]="data-"+b[d];d={tn:"","tn-debug":","};var e={};g(a,b,c,d,e);for(var f in e)for(var h in e[f])e[f][h]=e[f][h].join("");return e}e.exports=a}),null);
__d("recordTNTreeData",["collectSubtreeData"],(function(a,b,c,d,e,f){function a(a,c){var d={},e=b("collectSubtreeData")(a,["ft"]);for(var f in e.ft)d[f+"_tree"]=e.ft[f],f==="tn-debug"&&a.setAttribute("tn-debug_subtree",e.ft[f]);d.evt_value=a.offsetHeight;c&&(d.offset=Math.max(0,a.offsetTop-c.offsetTop));return d}e.exports=a}),null);
__d("PagesBrowserUtils",["Event","QE2Logger","tidyEvent"],(function(a,b,c,d,e,f){var g="pages_browser_your_pages_tab_redesign",h="navItem_2530096808";a={init:function(){var a=document.getElementById(h);b("tidyEvent")(b("Event").listen(a,"click",function(a){b("QE2Logger").logExposureForUser(g)}))}};e.exports=a}),null);
__d("ScrollPerfMonitor",["Event","MainThreadPerformanceLoggerActions","MainThreadPerformanceMonitor","Run","debounce"],(function(a,b,c,d,e,f){__p&&__p();a=500;var g=!1,h;function i(){g?k():(g=!0,b("MainThreadPerformanceMonitor").start(b("MainThreadPerformanceLoggerActions").SCROLL))}function j(){g=!1,b("MainThreadPerformanceMonitor").stop(b("MainThreadPerformanceLoggerActions").SCROLL)}var k=b("debounce")(j,a);function l(){h&&(h.remove(),h=null),j()}c={init:function(){b("MainThreadPerformanceMonitor").isEnabled()&&(h=b("Event").listen(window,"scroll",i,b("Event").Priority.NORMAL,{passive:!0}),b("Run").onLeave(l))}};e.exports=c}),null);
__d("FBStoriesPrivacyActionTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({LOADING:"FB_STORIES_PRIVACY.LOADING",LOADED:"FB_STORIES_PRIVACY.LOADED",LOADED_ERROR:"FB_STORIES_PRIVACY.LOADED_ERROR",SET_IS_SAVING:"FB_STORIES_PRIVACY.SET_IS_SAVING",SET_AUDIENCE_MODE:"FB_STORIES_PRIVACY.SET_AUDIENCE_MODE",SET_LOADING_PROMISE:"FB_STORIES_PRIVACY.SET_LOADING_PROMISE",SET_SUBSCRIPTION_TOKEN:"FB_STORIES_PRIVACY.SET_SUBSCRIPTION_TOKEN",SUBSCRIPTION_UPDATE:"FB_STORIES_PRIVACY.SUBSCRIPTION_UPDATE"});e.exports=a}),null);
__d("FBStoriesPrivacyDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("FBStoriesPrivacyHelper",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getSelectedAudienceMode:function(a){return(a=a)!=null?(a=a.unified_stories_setting)!=null?a.audience_mode:a:a},getEligibleAudienceModesList:function(a){return((a=a)!=null?(a=a.stories_data)!=null?a.audience_mode_list:a:a)||[]},getCustomParticipants:function(a){return((a=a)!=null?(a=a.unified_stories_setting)!=null?(a=a.custom_participants)!=null?a.nodes:a:a:a)||[]},getBlockedParticipants:function(a){return((a=a)!=null?(a=a.unified_stories_setting)!=null?(a=a.blocked_participants)!=null?a.nodes:a:a:a)||[]},getCustomMenuText:function(a){var b=a.length;a=a.map(function(a){return(a=a)!=null?(a=a.actor)!=null?a.name:a:a});switch(b){case 0:return g._("No one can see your story");case 1:return g._("{name_of_friend_connection} can see your story",[g._param("name_of_friend_connection",a[0])]);case 2:return g._("{name_of_first_friend_connection} and {name_of_second_friend_connection} can see your story",[g._param("name_of_first_friend_connection",a[0]),g._param("name_of_second_friend_connection",a[1])]);case 3:return g._("{names_of_first_two_friends_connections} and {name_of_third_friend_connection} can see your story",[g._param("names_of_first_two_friends_connections",a.slice(0,2).join(", ")),g._param("name_of_third_friend_connection",a[2])]);default:return g._({"*":"{names_of_first_three_friends_connections} and {number} others can see your story","_1":"{names_of_first_three_friends_connections} and 1 other can see your story"},[g._param("names_of_first_three_friends_connections",a.slice(0,3).join(", ")),g._plural(b-3,"number")])}}};e.exports=a}),null);
__d("fbStoriesPrivacySelectors",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getLoadingPromise:function(a){return a.loadingPromise},getHasLoadingError:function(a){return a.data.hasError()},_getLoadedObject:function(a){a=a.data;return a.hasValue()?a.getValueEnforcing():{blockedParticipants:[],customParticipants:[],eligibleAudienceModesList:[],selectedAudienceMode:null}},getIsSaving:function(a){return a.isSaving},getSubscriptionToken:function(a){return a.subscriptionToken},getBlockedParticipants:function(a){return this._getLoadedObject(a).blockedParticipants},getCustomParticipants:function(a){return this._getLoadedObject(a).customParticipants},getEligibleAudienceModesList:function(a){return this._getLoadedObject(a).eligibleAudienceModesList},getSelectedAudienceMode:function(a){return this._getLoadedObject(a).selectedAudienceMode}};e.exports=a}),null);
__d("fbStoriesPrivacyReducer",["FBStoriesPrivacyActionTypes","FBStoriesPrivacyHelper","LoadObject","fbStoriesPrivacySelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();switch(c.type){case b("FBStoriesPrivacyActionTypes").LOADING:return babelHelpers["extends"]({},a,{data:b("LoadObject").loading()});case b("FBStoriesPrivacyActionTypes").LOADED:var d;d=(d=c.data)!=null?d.viewer:d;var e=b("FBStoriesPrivacyHelper").getBlockedParticipants(d),f=b("FBStoriesPrivacyHelper").getCustomParticipants(d),g=b("FBStoriesPrivacyHelper").getEligibleAudienceModesList(d);d=b("FBStoriesPrivacyHelper").getSelectedAudienceMode(d);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({blockedParticipants:e,customParticipants:f,eligibleAudienceModesList:g,selectedAudienceMode:d})});case b("FBStoriesPrivacyActionTypes").LOADED_ERROR:return babelHelpers["extends"]({},a,{data:b("LoadObject").withError(new Error(c.error.message))});case b("FBStoriesPrivacyActionTypes").SET_IS_SAVING:return babelHelpers["extends"]({},a,{isSaving:c.value});case b("FBStoriesPrivacyActionTypes").SET_AUDIENCE_MODE:return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({blockedParticipants:b("fbStoriesPrivacySelectors").getBlockedParticipants(a),customParticipants:b("fbStoriesPrivacySelectors").getCustomParticipants(a),eligibleAudienceModesList:b("fbStoriesPrivacySelectors").getEligibleAudienceModesList(a),selectedAudienceMode:c.value})});case b("FBStoriesPrivacyActionTypes").SET_LOADING_PROMISE:return babelHelpers["extends"]({},a,{loadingPromise:c.value});case b("FBStoriesPrivacyActionTypes").SET_SUBSCRIPTION_TOKEN:return babelHelpers["extends"]({},a,{subscriptionToken:c.value});case b("FBStoriesPrivacyActionTypes").SUBSCRIPTION_UPDATE:f=(e=c.data)!=null?(e=e.unified_stories_privacy_change_subscribe)!=null?e.viewer:e:e;g=b("FBStoriesPrivacyHelper").getBlockedParticipants(f);d=b("FBStoriesPrivacyHelper").getCustomParticipants(f);c=b("FBStoriesPrivacyHelper").getEligibleAudienceModesList(f);e=b("FBStoriesPrivacyHelper").getSelectedAudienceMode(f);return babelHelpers["extends"]({},a,{data:b("LoadObject").withValue({blockedParticipants:g,customParticipants:d,eligibleAudienceModesList:c,selectedAudienceMode:e})});default:return a}}e.exports=a}),null);
__d("FBStoriesPrivacyStore",["FBStoriesPrivacyDispatcher","FluxReduceStore","LoadObject","fbStoriesPrivacyReducer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{data:b("LoadObject").empty(),loadingPromise:null,isSaving:!1,subscriptionToken:null}};a.prototype.reduce=function(a,c){return b("fbStoriesPrivacyReducer")(a,c)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("FBStoriesPrivacyDispatcher"))}),null);
__d("FBStoriesPrivacyActions",["CurrentUser","FBLogger","FBStoriesGraphQLAPI","FBStoriesPrivacyActionTypes","FBStoriesPrivacyDispatcher","FBStoriesPrivacyHelper","FBStoriesPrivacyStore","FBStoriesProductionTypes","Run","fbStoriesPrivacySelectors","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBStoriesPrivacyDispatcher").dispatch;a=b("FBStoriesProductionTypes").UnifiedStoriesAudienceModeTypes;var h={_previousSelectedAudienceMode:a.CUSTOM,loadData:function(){__p&&__p();var a=b("fbStoriesPrivacySelectors").getLoadingPromise(b("FBStoriesPrivacyStore").getState());if(a)return a;g({type:b("FBStoriesPrivacyActionTypes").LOADING});a=b("FBStoriesGraphQLAPI").loadPrivacySettings();b("promiseDone")(a,function(a){var c;c=(c=a)!=null?c.viewer:c;this._previousSelectedAudienceMode=b("FBStoriesPrivacyHelper").getSelectedAudienceMode(c);g({type:b("FBStoriesPrivacyActionTypes").LOADED,data:a})}.bind(this),function(a){a=a.errors;var c={};a&&a.length>0&&(c=a[0]);g({type:b("FBStoriesPrivacyActionTypes").SET_LOADING_PROMISE,value:null});g({type:b("FBStoriesPrivacyActionTypes").LOADED_ERROR,error:c})});g({type:b("FBStoriesPrivacyActionTypes").SET_LOADING_PROMISE,value:a});var c=b("FBStoriesPrivacyStore").getState();c=b("fbStoriesPrivacySelectors").getSubscriptionToken(c);c||(c=b("FBStoriesGraphQLAPI").subscribeToPrivacyChanges(function(a){g({type:b("FBStoriesPrivacyActionTypes").SUBSCRIPTION_UPDATE,data:a})}),g({type:b("FBStoriesPrivacyActionTypes").SET_SUBSCRIPTION_TOKEN,value:c}));b("Run").onBeforeUnload(this.cleanup);return a},setIsSaving:function(a){g({type:b("FBStoriesPrivacyActionTypes").SET_IS_SAVING,value:a})},revertAudienceMode:function(){if(!this._previousSelectedAudienceMode)return;h.setAudienceMode(this._previousSelectedAudienceMode)},changeAudienceMode:function(a,c){__p&&__p();var d=b("FBStoriesPrivacyStore").getState();d=b("fbStoriesPrivacySelectors").getSelectedAudienceMode(d);if(!d){this._audienceChangeFailed(c);return}d=b("FBStoriesGraphQLAPI").changeAudienceMode(b("CurrentUser").getID(),d);b("promiseDone")(d.then(function(){this._audienceChangeSucceeded(a)}.bind(this),function(){this._audienceChangeFailed(c)}.bind(this)));h.setIsSaving(!0)},_audienceChangeSucceeded:function(a){h.setIsSaving(!1),a&&a()},_audienceChangeFailed:function(a){h.revertAudienceMode(),h.setIsSaving(!1),a&&a()},setAudienceMode:function(a){var c=b("FBStoriesPrivacyStore").getState();c=b("fbStoriesPrivacySelectors").getSelectedAudienceMode(c);this._previousSelectedAudienceMode=c;g({type:b("FBStoriesPrivacyActionTypes").SET_AUDIENCE_MODE,value:a})},cleanup:function(){var a=b("FBStoriesPrivacyStore").getState();a=b("fbStoriesPrivacySelectors").getSubscriptionToken(a);a&&a.unsubscribe();g({type:b("FBStoriesPrivacyActionTypes").SET_LOADING_PROMISE,value:null});g({type:b("FBStoriesPrivacyActionTypes").SET_SUBSCRIPTION_TOKEN,value:null})}};e.exports=h}),null);
__d("FBStoriesPrivacySelectorInit",["regeneratorRuntime","FBStoriesPrivacyActions"],(function(a,b,c,d,e,f){"use strict";e.exports={loadData:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",b("FBStoriesPrivacyActions").loadData());case 1:case"end":return a.stop()}},null,this)}}}),null);
__d("FBStoriesPrivacySelector",["regeneratorRuntime","CSS","Event","FBStoriesPrivacyDispatcher","FBStoriesPrivacySelectorInit","FBStoriesPrivacySelectorLoadingContainerBootloader.react","FBStoriesPrivacyStore","React","ReactDOM","Run"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={init:function(){b("FBStoriesPrivacyDispatcher").explicitlyRegisterStores([b("FBStoriesPrivacyStore")]),b("FBStoriesPrivacySelectorInit").loadData()},onClick:function(a){__p&&__p();var c,d,e,f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:e=a.buttonIcon,f=a.buttonSpinner,g=a.container,h=a.privateSharingOn,i=a.menuAlignh,j=a.menuPosition;b("FBStoriesPrivacyDispatcher").explicitlyRegisterStores([b("FBStoriesPrivacyStore")]);l.next=4;return b("regeneratorRuntime").awrap(b("FBStoriesPrivacySelectorInit").loadData());case 4:b("ReactDOM").render(b("React").createElement(b("FBStoriesPrivacySelectorLoadingContainerBootloader.react"),{editable:!0,openOnLoad:!0,privateSharingOn:h,menuAlignh:(c=i)!=null?c:void 0,menuPosition:(d=j)!=null?d:void 0}),g),b("CSS").hide(f),b("CSS").show(e),k=b("Event").listen(g,"click",function(a){a.stopPropagation()}),b("Run").onBeforeUnload(function(){k.remove()});case 9:case"end":return l.stop()}},null,this)}};e.exports=a}),null);
__d("FBStoriesPrivacySelectorGraphQLSubscriptionHandler",["Button","DOM","FBStoriesGraphQLAPI","FBStoriesPrivacyHelper","Run","SubscriptionsHandler","TooltipData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={registerForSubscriptionUpdates:function(a){var c=a.button,d=a.buttonLabel,e=a.audienceModeIcons,f=new(b("SubscriptionsHandler"))();f.addSubscriptions(b("FBStoriesGraphQLAPI").subscribeToPrivacyChanges(function(a){this._updateSelectorAfterGraphqlSubscription(a,c,d,e)}.bind(this)));b("Run").onBeforeUnload(function(){f.release()})},_updateSelectorAfterGraphqlSubscription:function(a,c,d,e){__p&&__p();a=(a=a)!=null?(a=a.unified_stories_privacy_change_subscribe)!=null?a.viewer:a:a;if(!a)return;var f=b("FBStoriesPrivacyHelper").getSelectedAudienceMode(a);a=b("FBStoriesPrivacyHelper").getEligibleAudienceModesList(a);if(!f||!a)return;a=a.find(function(a){return a.unified_stories_audience_mode===f});if(!a)return;b("DOM").setContent(d,a.header);d=e[f];d&&b("Button").setIcon(c,d.cloneNode());b("TooltipData").set(c,a.header)}};e.exports=a}),null);
__d("ReactFeedComposerXBody",["DOM","Event","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";function a(a){this.$2=a.get("root"),this.$4=b("DOM").find(this.$2,"textarea"),this.$1=b("DOM").find(this.$2,'input[type="hidden"]'),this.$3=new(b("SubscriptionsHandler"))(),this.$3.addSubscriptions(b("Event").listen(this.$4,"change",this.$5.bind(this)))}a.prototype.$5=function(a){this.$1.value=a.target.value};e.exports=a}),null);
__d("SharedTooltip.react",["ix","fbt","AdsSchedulingTooltip.react","Image.react","LayerFadeOnHide","LayerFadeOnShow","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.onHide=function(){this.setState({shown:!1})}.bind(this),this.state={shown:!0},setTimeout(this.onHide,5e3)}a.prototype.render=function(){return b("React").createElement(b("AdsSchedulingTooltip.react"),{shown:this.state.shown,hasActionableContext:!0,context:this.props.context,onBeforeHide:this.onHide,onCloseButtonClick:this.onHide,position:"right",alignment:"center",behaviors:{LayerFadeOnShow:b("LayerFadeOnShow"),LayerFadeOnHide:b("LayerFadeOnHide")}},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{src:g("479851"),style:{position:"relative",bottom:-3,paddingRight:8}}),b("React").createElement("span",{style:{paddingRight:3}},h._("Shared post to this group:")),this.props.groupName))};e.exports=a}),null);
__d("ShowSharedTooltip",["Arbiter","DOM","React","ReactRenderer","SharedTooltip.react"],(function(a,b,c,d,e,f){"use strict";a={showTooltip:function(a){b("Arbiter").subscribe(["casual_group_reshare"],function(c,d){c=b("DOM").create("div");b("DOM").appendContent(document.body,c);b("ReactRenderer").renderComponent(b("React").createElement(b("SharedTooltip.react"),{context:a,groupName:d.group_name}),c)})}};e.exports=a}),null);
__d("FeedAdsGapRuleViolationDetectionFix",["csx","Banzai","BanzaiODS","CSS","DataAttributeUtils","DOM","$","ge","isEmpty"],(function(a,b,c,d,e,f,g){__p&&__p();var h="ei",i="qid",j="gap rule violation",k="non violating ads gap",l="non violating ego gap",m="first position violation",n="not first position violation",o="feed load",p="first position invalidation",q="spacing invalidation",r="ego_pymk",s="ego_other",t=[],u=[],v=[],w=[],x=[],y={},z={},A={},B=[],C={registerFeedStories:function(a,c){__p&&__p();a.containerID=="substream_0"&&(t=[],u=[]);c=b("ge")(a.containerID);if(!c)return;A=a.egoGapRule;B=a.invalidateEgo?a.egoStories:{};y=babelHelpers["extends"]({},a.demoAdChecks,y);var d=C._getAllStoriesFromContainer(c);a.isLoggingEnabled&&d.length!==0&&C._logFeedLoad();a.isNewerStories?t=d.concat(t):t=t.concat(d);for(var e in a.minGaps)Object.prototype.hasOwnProperty.call(a.minGaps,e)&&(z[e]=a.minGaps[e]);b("isEmpty")(y)&&(a.isLoggingEnabled&&C._checkFirstPosViolation(a,c),(a.isLoggingEnabled||a.isGapRuleInvalidationEnabled)&&C._checkGapRuleViolation(a))},_getAllStoriesFromContainer:function(a){return b("DOM").scry(a,"div._5jmm").map(C._convertStoryNodeToObject).filter(function(a){return a!==null})},_convertStoryNodeToObject:function(a){__p&&__p();if(b("CSS").matchesSelector(a,"._170y"))return null;var c=a.getAttribute("data-dedupekey");if(y[c])return null;var d=b("DOM").scry(a,"div._hye"),e=b("DOM").scry(a,"li._170x"),f=[];d.length!==0?f=d.map(function(a){return b("DataAttributeUtils").getDataFt(a)}).filter(function(a){return a!==null}):e.length!==0?f=e.map(function(a){return b("DataAttributeUtils").getDataFt(a)}).filter(function(a){return a!==null}):b("DataAttributeUtils").getDataFt(a)&&(f=[b("DataAttributeUtils").getDataFt(a)]);if(!f.length)return null;d=JSON.parse(f[0]);e={dataFTArray:f,dedupKey:c,isSponsored:!!d[h],isEgoPymk:B[c]===r,isEgoOther:B[c]===s,height:a.offsetHeight,qid:parseInt(d[i],10),nodeID:a.id};return e},_checkFirstPosViolation:function(a,c){__p&&__p();if(t.length>0&&!t[0].isSponsored){var d={qid:t[0].qid};a.isLoggingEnabled&&!(t[0].dedupKey in x)&&(C._logNotFirstPosViolation(d),x[t[0].dedupKey]=d)}while(t.length>0&&t[0].isSponsored){var d={ftArray:t[0].dataFTArray,qid:t[0].qid,nodeid:t[0].nodeID,firstStoryType:a.firstStoryType},e=b("DOM").scry(c,".uiBoxRed")[0];if(e){e=e.textContent||e.innerText;e&&(d.error_msg=e)}a.isLoggingEnabled&&!(t[0].dedupKey in w)&&(C._logFirstPosViolation(d),w[t[0].dedupKey]=d);break}},_getMinGap:function(a,b,c){a=Math.min(a?a:Number.MAX_VALUE,b?b:Number.MAX_VALUE);return a!==Number.MAX_VALUE?a:c},_getStoryDedupKeys:function(){return t.map(function(a){return a.dedupKey})},_getStoryDedupKeysJSONString:function(a,b){var c=[];for(var a=a;a<=b;a++)c.push(t[a].dedupKey);return JSON.stringify(c)},_getIdxOfStoryToSwap:function(a,b){__p&&__p();if(b>=t.length-a)return-1;for(var a=a+1;a<t.length&&b>0;a++){if(!t[a].isSponsored&&!t[a].isEgoPymk&&!t[a].isEgoOther)b--;else return-1;if(b===0)return a}return-1},_checkGapRuleViolation:function(a){__p&&__p();var c=null,d=null,e=null;for(var f=0;f<t.length;f++){var g=t[f],h=b("ge")(g.nodeID);if(!h||!b("CSS").shown(h)){t.splice(f,1);continue}if(g.isSponsored){h=!1;var i=!1;if(d!==null){var m=f-d,n=null,o=null;c===d?o=C._getMinGap(z[e.dedupKey],z[g.dedupKey],a.defaultMinGap):o=C._getMinGapBetweenStories(e,g);var p;m<o?(n=j,p=d):(n=k,p=c);a.isLoggingEnabled&&((!(g.dedupKey in u)||u[g.dedupKey].event_type!==n)&&(C._logGapEvent(n,p,f),u[g.dedupKey]={event_type:n}));if(a.isGapRuleInvalidationEnabled&&n==j){p=-1;a.isSwapOnGapRuleViolationEnabled&&(p=C._getIdxOfStoryToSwap(f,o-m));if(p>0){C._shiftAdOrEgoBelowOrganicStory(g.nodeID,t[p].nodeID);n=t[f];t.splice(f,1);t.splice(p,0,n);if(a.isLoggingEnabled){o={ft:t[p].dataFTArray[0],dist:p-f,qid:t[p].qid,event_type:"ad_swap"};b("Banzai").post("feed_ads_gap_rule_violation",o)}i=!0}else a.isGapRuleInvalidationEnabled&&(C._invalidateGapRuleViolatedAd(e,g),h=!0,t.splice(f--,1))}}!h&&!i&&(c=f,d=f,e=g)}if(a.invalidateEgo&&(g.isEgoPymk||g.isEgoOther)){m=!1;if(d!==null){n=f-d;p=C._getMinGapBetweenStories(e,g);if(n<p){m=!0;o=-1;h=p-n;i=f+1;for(;i<t.length;i++){if(t[i].isSponsored||t[i].isEgoPymk||t[i].isEgoOther)break;else h--;if(h===0){o=i;break}}o>0?C._swapAndLogEgo(f,i):(C._invalidateAndLogEgo(f),f--)}else a.shouldLogEgo&&!v[g.dedupKey]&&(v[g.dedupKey]=!0,C._logGapEvent(l,d,f))}m||(d=f,e=g)}}},_getMinGapBetweenStories:function(a,b){__p&&__p();var c;if(a.isSponsored||a.isEgoOther)c="ad";else if(a.isEgoPymk)c="pymk";else return 0;if(b.isSponsored||b.isEgoOther)a="ad";else if(b.isEgoPymk)a="pymk";else return 0;return A[c+"_"+a]},_swapAndLogEgo:function(a,c){C._shiftAdOrEgoBelowOrganicStory(t[a].nodeID,t[c].nodeID);var d=t[a];t.splice(a,1);t.splice(c,0,d);b("BanzaiODS").bumpEntityKey("feed_ego_invalidation","swap")},_invalidateAndLogEgo:function(a){var c=b("ge")(t[a].nodeID);c&&b("CSS").hide(c);t.splice(a,1);b("BanzaiODS").bumpEntityKey("feed_ego_invalidation","invalidate")},_logFirstPosViolation:function(a){var c={ft:a.ftArray[0],event_type:m,intValues:{qid:a.qid},first_story_type:a.firstStoryType};a.error_msg&&(c.error_msg=a.error_msg);b("Banzai").post("feed_ads_gap_rule_violation",c)},_logNotFirstPosViolation:function(a){var c={event_type:n,intValues:{qid:a.qid}};a.error_msg&&(c.error_msg=a.error_msg);b("Banzai").post("feed_ads_gap_rule_violation",c)},_logGapEvent:function(a,c,d){if(c===null)return;var e=t[c],f=t[d],g=0;for(var h=c+1;h<d;h++)g+=t[h].height;h={ft_A:e.dataFTArray[0],ft_B:f.dataFTArray[0],event_type:a,intValues:{dist:d-c,pdist:g,pos:d+1,qid_A:e.qid,qid_B:f.qid},strValues:{previous_unit_type:C._getUnitTypeForLogging(e),unit_type:C._getUnitTypeForLogging(f)},dedup_keys:C._getStoryDedupKeysJSONString(c,d)};b("Banzai").post("feed_ads_gap_rule_violation",h)},_getUnitTypeForLogging:function(a){if(a.isSponsored)return"ad";else if(a.isEgoPymk)return"pymk";else if(a.isEgoOther)return"ego_other";return null},_logFeedLoad:function(){var a={event_type:o};b("Banzai").post("feed_ads_gap_rule_violation",a)},_invalidateFirstPosAd:function(a){b("CSS").hide(b("$")(a.nodeid));a={ft_array:a.ftArray,event_type:p};b("Banzai").post("feed_ads_gap_rule_violation",a)},_invalidateGapRuleViolatedAd:function(a,c){var d=b("ge")(c.nodeID);d&&b("CSS").hide(d);d={ft_array_A:a.dataFTArray[0],ft_array_B:c.dataFTArray[0],event_type:q};b("Banzai").post("feed_ads_gap_rule_violation",d)},_shiftAdOrEgoBelowOrganicStory:function(a,c){a=b("ge")(a);c=b("ge")(c);a&&c&&b("DOM").insertAfter(c,a)}};e.exports=C}),null);
__d("StoryPositionTracking",["csx","DataAttributeUtils","DOM","ge"],(function(a,b,c,d,e,f,g){var h="._5jmm",i=0;a={registerNewStories:function(a){a=="substream_0"&&(i=0),b("DOM").scry(b("ge")(a),h).forEach(function(a){var c=JSON.parse(b("DataAttributeUtils").getDataFt(a));c&&(c.insertion_position=i++,b("DataAttributeUtils").setDataFt(a,JSON.stringify(c)))})}};e.exports=a}),null);
__d("StreamViewportTracking",["DataAttributeUtils","DOM","DOMDimensions","FeedImageLoadPerfLogger","ViewportTracking","ge","gkx","recordTNTreeData","viewportTrackingBuilder"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=51;function j(a,c,d,e){__p&&__p();e===void 0&&(e=i);return{_stream:null,getDataFromConfig:function(a,b){b.isTimetrackingEnabled=!0},getAllStories:function(){var a=b("DOM").scry(this.getStream(),d);return a.filter(function(a){return b("DataAttributeUtils").getDataFt(a)})},getStream:function(){if(c)return c;this._stream||(this._stream=b("ge")("home_stream"));return this._stream},getStoryID:function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a&&a.mf_story_key},getDataToLog:function(a){__p&&__p();var c=this.getStream();c=b("recordTNTreeData")(a,c);var d=a.getAttribute("data-insertion-position");d!==null&&(c.inspos=d);c.evt=e;c.vpv_time=Math.round(Date.now()/1e3);d=b("DOM").scry(a,".fbStoryAttachmentImage")[0];if(d){a=b("DOMDimensions").getElementDimensions(d);c.story_image_height=a.height;c.story_image_width=a.width}return{ft:c}},afterStoryEntersViewport:b("gkx")("678827")?function(a){b("FeedImageLoadPerfLogger").startMarkers(a)}:function(a){},afterStoryExitsViewport:b("gkx")("678827")?function(a){b("FeedImageLoadPerfLogger").cancelMarkers(a)}:function(a){}}}g=babelHelpers.inherits(k,b("ViewportTracking"));h=g&&g.prototype;k.prototype.getQueryID=function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a.qid};k.prototype.getFBFeedLocations=function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a.fbfeed_location};k.prototype.getFBFeedInsertionPosition=function(a){a=JSON.parse(b("DataAttributeUtils").getDataFt(a));return a.insertion_position};k.prototype.getTimetrackingDataToLog=function(a){__p&&__p();var c=h.getTimetrackingDataToLog.call(this,a);if(this.ctaLoggingEnabled){a=b("DOM").scry(a.story,"[data-is-cta]").map(function(a){a=b("DataAttributeUtils").getDataFt(a);a=a&&JSON.parse(a);return a&&a.cta_types}).filter(function(a){return!!a});a.length>0&&(c.ft.cta_types=a)}return c};k.prototype.cleanup=function(){l.clearSingleton(),h.cleanup.call(this)};function k(){g.apply(this,arguments)}var l=b("viewportTrackingBuilder")(function(a,b){b=new k(j(a,b,".uiStreamStory"));b.init(a);return b});k.factory=l.factory.bind(l);k.singleton=l.singleton.bind(l);k.clearSingleton=l.clearSingleton.bind(l);k.getBehavior=j;e.exports=k}),null);
__d("AttachmentIssueDiversityShareConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARTICLE_CLICK:"issueDiversity/article_click"})}),null);
__d("FbFeedAttachmentRelatedShare",["csx","Arbiter","AttachmentIssueDiversityShareConstants","AttachmentRelatedShareConstants","DOMQuery","Event","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h={loadRelatedAttachment:function(a,c){b("tidyEvent")(b("Event").listen(a,"click",function(){b("Arbiter").inform(b("AttachmentRelatedShareConstants").ARTICLE_CLICK,{attachment:a,global_share_id:c})}))},loadRelatedGameAttachment:function(a,c){b("tidyEvent")(b("Event").listen(a,"click",function(){b("Arbiter").inform(b("AttachmentRelatedShareConstants").GAME_CLICK,{attachment:a,global_share_id:c})}))},loadRelatedAttachmentForStream:function(a){h._loadChainableAttachmentForStreamImpl(a,b("AttachmentRelatedShareConstants").ARTICLE_CLICK)},loadIssueDiversityAttachmentForStream:function(a){h._loadChainableAttachmentForStreamImpl(a,b("AttachmentIssueDiversityShareConstants").ARTICLE_CLICK)},_loadChainableAttachmentForStreamImpl:function(a,c){__p&&__p();var d=function(a,d){a=a.getTarget();if(a.getAttribute("target")!=="_blank")return;var e="^div._5pbx",f="^div._5pc9";e=b("DOMQuery").scry(a,e)[0]||b("DOMQuery").scry(a,f)[0];if(!e)return;b("Arbiter").inform(c,{attachment:e,global_share_id:0,link_url:a.getAttribute("href"),is_right_click:d})};b("tidyEvent")(b("Event").listen(a,"click",function(a){d(a,!1)}));b("tidyEvent")(b("Event").listen(a,"mousedown",function(a){(a.which==3||a.button==2)&&d(a,!0)}))}};e.exports=h}),null);
__d("FbFeedViewportTracking",["csx","Arbiter","LitestandMessages","LitestandStream","StreamViewportTracking","viewportTrackingBuilder"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,b("StreamViewportTracking"));i=h&&h.prototype;j.prototype.init=function(a){i.init.call(this,a),this.subscriptions.addSubscriptions(b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,function(){return this.invalidateAllStoriesCache()}.bind(this)),b("Arbiter").subscribe(b("LitestandMessages").LEAVE_HOME,function(){return this.updateTimeTrackingData(!0)}.bind(this)))};j.prototype.getSessionID=function(){return b("LitestandStream").isReady()?b("LitestandStream").getFeedStreamID():null};j.prototype.cleanup=function(){k.clearSingleton(),i.cleanup.call(this)};function j(){h.apply(this,arguments)}var k=b("viewportTrackingBuilder")(function(a){var c=b("StreamViewportTracking").getBehavior(a,b("LitestandStream").getStreamRoot(),"._5jmm");c=new j(c);c.init(a);return c});a=babelHelpers["extends"]({},k,{init:function(a){return this.factory(a)}});e.exports=a}),null);
__d("RHCVideoWNSController",["csx","cx","invariant","Arbiter","CSS","DOM","DOMDimensions","EventListener","Locale","Parent","ReactDOM","Run","Style","SubscriptionsHandler","Toggler","VideoPlayerExperiments","VideoWatchAndScrollController","ViewportBounds","getElementPosition","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("VideoPlayerExperiments").persistentWNSEnabled,k=350,l=10;a={init:function(a){__p&&__p();if(this._isInitialized)this._dock(a);else{this._container=a;this._root=this._find("._5-32");this._video=this._find("._o2t");this._isInitialized=!0;b("CSS").show(this._container);this._subscriptionsHandler=new(b("SubscriptionsHandler"))();(a=this._subscriptionsHandler).addSubscriptions.apply(a,this._createSubscriptions());if(b("VideoWatchAndScrollController").isActive()){a=b("VideoWatchAndScrollController").getReactContainer();if(!a)return;var c=this._root;a=b("ReactDOM").findDOMNode(a);a&&a.parentNode&&(a=a.parentNode);var d=b("getElementPosition")(b("DOM").find(a,"._360g")),e=d.x;d=d.y;this.mount(a);this._moveRoot(e,d);b("CSS").addClass(c,"_4nya");this.expand();c.offsetHeight;b("CSS").removeClass(c,"_4nya");this._animateThenCleanup(function(){var a=b("getElementPosition")(this._container).x,c=b("ViewportBounds").getTop();this._moveRoot(a,c)}.bind(this))}}b("Run").onLeave(function(){__p&&__p();if(b("VideoWatchAndScrollController").isActive()){if(j){this._eject();return}this.close()}this._subscriptionsHandler.release();this._isInitialized=!1;this._container=null;this._root=null;this._video=null}.bind(this))},_eject:function(){__p&&__p();var a=this._getRoot();a=b("getElementPosition")(a);var c=a.x;a=a.y;var d=this._getContainer();b("Arbiter").inform("RHCVideoWNSController/eject",d);this._moveRoot(c,a);b("Arbiter").subscribeOnce("page_transition",function(a,b){a=b.uri;["/","/home.php"].includes(a.getPath())||this._animate(function(){this._moveToViewportEdge()}.bind(this))}.bind(this))},_dock:function(a){b("DOM").replace(a,this._container);b("Arbiter").inform("RHCVideoWNSController/dock");a=this._getContainer();a=b("getElementPosition")(a);var c=a.x,d=b("ViewportBounds").getTop();this._animateThenCleanup(function(){this._moveRoot(c,d)}.bind(this))},_find:function(a){return b("DOM").find(this._getContainer(),a)},getAnimationTime:function(){return k},mount:function(a){b("DOM").setContent(this._video,""),this._video.appendChild(a),this._correctContainerHeight(),b("Arbiter").inform("RHCVideoWNSController/mount")},_setPosition:function(a){var c=this._getRoot();b("Style").set(c,"top",a.top==null?"":a.top+"px");b("Style").set(c,"left",a.left==null?"":a.left+"px");b("Style").set(c,"right",a.right==null?"":a.right+"px")},_moveRoot:function(a,b){this._setPosition({top:b,left:a})},_moveToViewportEdge:function(){var a;this._setPosition((a={top:b("ViewportBounds").getTop()+l},a[b("Locale").isRTL()?"left":"right"]=b("ViewportBounds").getRight()+l,a))},_animate:function(a,c){c===void 0&&(c=!1);var d=this._getRoot();b("CSS").addClass(d,"_1dq5");a();b("setTimeoutAcrossTransitions")(function(){b("CSS").removeClass(d,"_1dq5"),c&&this._setPosition({top:null,left:null,right:null})}.bind(this),k)},_animateThenCleanup:function(a){this._animate(a,!0)},_createSubscriptions:function(){__p&&__p();return[b("ViewportBounds").subscribe("change",function(){document.body===this._getContainer().parentNode&&this._moveToViewportEdge()}.bind(this)),b("Arbiter").subscribe("VideoWatchAndScrollController/resize",function(){this._correctContainerHeight(),b("Arbiter").inform("RHCVideoWNSController/resize")}.bind(this)),b("Arbiter").subscribe("VideoWatchAndScrollController/start",function(){if(this.isExpanded()){this._correctContainerHeight();b("Arbiter").inform("RHCVideoWNSController/resize");return}this.expand();this._correctContainerHeight()}.bind(this)),b("Arbiter").subscribe("VideoWatchAndScrollController/exit",function(){this.close()}.bind(this)),b("Arbiter").subscribe("VideoWatchAndScrollController/collapse",function(){this.collapse()}.bind(this)),b("EventListener").listen(this._getRoot(),"click",function(a){a=a.target;b("Parent").bySelector(a,"._2se8")||this.expand()}.bind(this)),b("Arbiter").subscribe("bluebarFixedBehaviorController/isfixed",function(a,c){a=this._getRoot();b("CSS").conditionClass(a,"_2rdq",!c)}.bind(this))]},_getRoot:function(){this._root||i(0,642);return this._root},_getContainer:function(){this._container||i(0,643);return this._container},_correctContainerHeight:function(){var a=m(this._video),c=this._getContainer();b("Style").set(c,"height",a+"px")},isExpanded:function(){var a=this._getContainer(),c="._2afq";return b("CSS").matchesSelector(a,c)},isCollapsed:function(){var a=this._getContainer(),c="._2afm";return b("CSS").matchesSelector(a,c)},isClosed:function(){var a=this._getContainer(),c="._2afo";return b("CSS").matchesSelector(a,c)},expand:function(){if(!b("VideoWatchAndScrollController").isActive()||!this._isInitialized||this.isExpanded())return;var a=this._getContainer();b("CSS").removeClass(a,"_2afm");b("CSS").removeClass(a,"_2afo");b("CSS").addClass(a,"_2afq");b("Arbiter").inform("RHCVideoWNSController/expandStart");b("setTimeoutAcrossTransitions")(function(){b("Arbiter").inform("RHCVideoWNSController/expandEnd"),b("VideoWatchAndScrollController").isActiveVideoDonePlaying()||b("VideoWatchAndScrollController").playActiveVideo()},k)},collapse:function(){__p&&__p();if(!this._isInitialized||this.isCollapsed())return;b("VideoWatchAndScrollController").pauseActiveVideo();b("Toggler").hide();var a=this._getContainer();b("CSS").removeClass(a,"_2afq");b("CSS").addClass(a,"_2afm");b("Arbiter").inform("RHCVideoWNSController/collapseStart");b("setTimeoutAcrossTransitions")(function(){b("Arbiter").inform("RHCVideoWNSController/collapseEnd")},k)},close:function(){if(!this._isInitialized||this.isClosed())return;b("VideoWatchAndScrollController").pauseActiveVideo();var a=this._getContainer();b("CSS").addClass(a,"_2afo");b("Arbiter").inform("RHCVideoWNSController/closeStart");b("setTimeoutAcrossTransitions")(function(){b("CSS").removeClass(a,"_2afm"),b("CSS").removeClass(a,"_2afq"),b("Arbiter").inform("RHCVideoWNSController/closeEnd")},k)}};function m(a){return b("DOMDimensions").getElementDimensions(a).height}e.exports=a}),null);
__d("GHLSurvey_DEPRECATED",["Banzai","ghlTestUBT"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1,h=2,i=3;a={doHasAdBlockCheck:function(){b("ghlTestUBT")(function(a){var c={};c[i]=a;b("Banzai").post("search_check",c)})},doBrowserExtensionCheck:function(a,c){__p&&__p();try{var d=document.getElementsByTagName("head")[0],e=document.documentElement?document.documentElement.shadowRoot:null,f=[];e&&(f=Array.prototype.slice.call(e.querySelectorAll("style")));e=Array.prototype.slice.call(d.querySelectorAll("style")).filter(function(a){return a&&a.textContent.length==0});d={};d[g]=f.length>0;d[h]=e.length>0;a&&f.forEach(function(a){a.disabled=!0});c&&e.forEach(function(a){a.disabled=!0});b("Banzai").post("search_check",d)}catch(a){}}};e.exports=a}),null);
__d("GoodwillTemplateBanzaiLogger",["Banzai"],(function(a,b,c,d,e,f){"use strict";a={logClickEvent:function(a,c){a.onclick=function(){c.goodwill_memories_and_celebrations&&b("Banzai").post("goodwill_memories_and_celebrations",c.goodwill_memories_and_celebrations),c.goodwill_video&&b("Banzai").post("goodwill_video",c.goodwill_video),c.goodwill_daily_dialogue&&b("Banzai").post("goodwill_cultural_moment_holiday_card",c.goodwill_daily_dialogue)}}};e.exports=a}),null);
__d("XDOMScannerResultsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ascend_mr_no/",{})}),null);
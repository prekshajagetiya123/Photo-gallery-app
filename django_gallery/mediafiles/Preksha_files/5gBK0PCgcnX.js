if (self.CavalryLogger) { CavalryLogger.start_js(["iWr9F"]); }

__d("VideoPlayerFormatsMap",[],(function(a,b,c,d,e,f){e.exports={live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",ufi_comment_attachment:"inline",media_collage:"inline",channel:"channel",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",tahoe:"tahoe",search_live_video_module:"inline",videohub_live:"inline",camera_post:"fb_stories",pages_cover:"inline",video_page_spotlight_unit:"inline",pages_cover_hover:"inline",pages_messaging_video:"inline",profile_overview:"inline",profile_cover:"inline",memory_leak_test:"inline",games_video_home_streamer_hub:"inline",games_video_live_recommendation:"inline",games_video_search_unit:"inline",games_video_streamer_unit:"inline",trivia_game_admin_dashboard:"misc",games_streamer_dashboard:"inline",ads_preview:"inline",discover:"inline",civic_proposal:"inline",business_feed:"inline",ads:null,animated_image_share:null,asset:null,ballot:null,broadcast_request_attachment:null,candidate_videos:null,embedded:null,embedded_page_plugin:null,gameroom_live_video_hero_banner:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,games_video_home:null,games_video_home_hero:null,games_video_single_game:null,games_video_top_weekly_clips_streamer_page:null,games_video_social_plugin:null,games_video_hub:null,games_video_hub_redirect_notification:null,games_video_hub_redirect_unknown:null,group_live_video_module:null,html5:null,insights:null,intern_curation:null,intern_example:null,issues_module:null,live_beeper:null,live_control_panel:null,live_map_tooltip_from_webgl:null,live_video_broadcast:null,live_video_preview:null,living_room:null,living_room_commentating:null,living_room_recap_fullscreen:null,living_room_recap_inline:null,lookback:null,messaging:null,misc:null,mobile:null,not_specified_please_fix:null,offers_detail:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,pages_timeline_pages_cover:null,pages_home_hero:null,video_page_video_list:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,report_flow:null,review:null,serp_videos_tab:null,slideshow:null,srt_review:null,topic_channel_living_room:null,topic_gaming:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,watchlist:null,video_inline_chaining:null,videohub_featured:null,videohub_playlist:null,live_autoplay_watch_and_scroll:null,video_page_unspecified:null,spotlight_live:null,spotlight_featured:null,spotlight_popular:null,spotlight_unknown:null,videos_card:null,videos_tab:null,playlists_tab:null,playlists_card:null,playlist_page:null,redirected_watch_serp:null}}),null);
__d("VideoQualityClassInternal",[],(function(a,b,c,d,e,f){e.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("crc16",[],(function(a,b,c,d,e,f){__p&&__p();var g=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];function h(a){var b=65535;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d>255)throw new RangeError();d=(d^b>>8)&255;b=g[d]^b<<8}return(b^0)&65535}function a(a){return h(a).toString(16).padStart(4,"0")}h.hex=a;e.exports=h}),null);
__d("SwapButtonDEPRECATED",["Arbiter","CSS","Event","Focus"],(function(a,b,c,d,e,f){function a(a,c,d){this._swapperButton=a,this._swappeeButton=c,b("Event").listen(a,"click",this.swap.bind(this)),d&&b("Event").listen(c,"click",this.unswap.bind(this)),b("Arbiter").subscribe("SwapButtonDEPRECATED/focusOnJoinButton",this.setFocusOnSwapper.bind(this),"all")}Object.assign(a.prototype,{_swapperButton:null,_swappeeButton:null,swap:function(a){b("CSS").hide(this._swapperButton),b("CSS").show(this._swappeeButton),a!==!1&&b("Focus").setWithoutOutline(this._swappeeButton)},unswap:function(a){b("CSS").show(this._swapperButton),b("CSS").hide(this._swappeeButton),a!==!1&&b("Focus").setWithoutOutline(this._swapperButton)},toggle:function(){b("CSS").toggle(this._swapperButton),b("CSS").toggle(this._swappeeButton)},setFocusOnSwapper:function(){this._swapperButton.focus()}});e.exports=a}),null);
__d("destroyOnUnload",["Run"],(function(a,b,c,d,e,f){function a(a){return b("Run").onLeave(a)}e.exports=a}),null);
__d("FeedBlacklistButton",["Arbiter","Event"],(function(a,b,c,d,e,f){__p&&__p();var g={BLACKLIST:"feed_blacklist",UNBLACKLIST:"feed_unblacklist",init:function(a,c,d,e){b("Event").listen(c,"click",function(){var a={profile_id:e};b("Arbiter").inform(g.BLACKLIST,a);b("Arbiter").inform("UnfollowingUser",a)}),b("Event").listen(d,"click",function(){var a={profile_id:e};b("Arbiter").inform(g.UNBLACKLIST,a);b("Arbiter").inform("FollowingUser",a)}),b("Arbiter").subscribe(g.BLACKLIST,function(b,c){e==c.profile_id&&a.swap()}),b("Arbiter").subscribe(g.UNBLACKLIST,function(b,c){e==c.profile_id&&a.unswap()})}};e.exports=a.FeedBlacklistButton||g}),null);
__d("MenuStaticItem",["cx","DOM","MenuItemBase","React","ReactDOM","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("MenuItemBase"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this),this._data=a}a.prototype._renderItemContent=function(){"use strict";var a=b("DOM").create("span",{className:"_54nc _54ah"});this._data.children?b("ReactDOM").render(b("React").createElement("span",{className:"_54nh"},this._data.children),a):b("DOM").setContent(a,b("DOM").create("span",{className:"_54nh"},this._data.markup));return a};Object.assign(a.prototype,{handleClick:b("emptyFunction")});e.exports=a}),null);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","TooltipData","XFollowPrivacyNuxLogViewAsyncController","XPubcontentChainedSuggestionsController"],(function(a,b,c,d,e,f){__p&&__p();var g={SUBSCRIBED:"FollowingUser",UNSUBSCRIBED:"UnfollowingUser",_enable:function(a){b("Button").setEnabled(a,!0),b("TooltipData").remove(a)},_disable:function(a,c){b("Button").setEnabled(a,!1),c&&b("TooltipData").set(a,c)},init:function(a,c,d,e,f,h,i,j,k,l,m,n,o){__p&&__p();var p=!m&&!o,q=!(k===void 0||k===null);q&&!i&&!j&&g._disable(c,k);b("Event").listen(c,"click",function(){b("Arbiter").inform(g.SUBSCRIBED,{profile_id:e,contextID:n,suppress:!0});if(l){l.show();var a=b("XFollowPrivacyNuxLogViewAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).send()}});b("Arbiter").subscribe(g.SUBSCRIBED,function(k,l){__p&&__p();if(e==l.profile_id){f||d.suppressNextMouseEnter&&d.suppressNextMouseEnter();q&&(typeof l.connected!=="undefined"&&(i=l.connected),(i||j)&&g._enable(c));l.focusOnClick!==void 0&&(p=l.focusOnClick);a.swap(p);if(h===!0&&l.chaining!==!1){k=b("XPubcontentChainedSuggestionsController").getURIBuilder().setInt("profileid",e).getURI();new(b("AsyncRequest"))().setURI(k).send()}}});b("Arbiter").subscribe(g.UNSUBSCRIBED,function(f,h){e==h.profile_id&&(a.unswap(p),d.hideFlyout&&d.hideFlyout(),q&&(typeof h.connected!=="undefined"&&(i=h.connected),!i&&!j&&g._disable(c,k)),b("Arbiter").inform("SubMenu/Reset"))})},initSubscribe:function(a,c){b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.SUBSCRIBED,{profile_id:c}),0)})},initUnsubscribe:function(a,c,d){b("Event").listen(a,"click",function(){setTimeout(b("Arbiter").inform.bind(b("Arbiter"),g.UNSUBSCRIBED,{profile_id:c,contextID:d}),0)})},initSubscribeMenuItem:function(a,c,d){b("CSS").hide(c),this._initMenuItem(a,c,d)},initUnsubscribeMenuItem:function(a,c,d){b("CSS").hide(a),this._initMenuItem(a,c,d)},_initMenuItem:function(a,c,d){this.initSubscribe(a,d),this.initUnsubscribe(c,d),b("Arbiter").subscribe(g.SUBSCRIBED,function(d,e){b("CSS").hide(a),b("CSS").show(c)}),b("Arbiter").subscribe(g.UNSUBSCRIBED,function(d,e){b("CSS").hide(c),b("CSS").show(a)})}};e.exports=g}),null);
__d("ProfileHoverButton",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","FollowRequestResultEnum","MenuStaticItem","ProfileSubFollowStatus","QE2Logger","Run","SeeFirstNuxEvents","SubscribeButton","SubscriptionsHandler","XFeedSeeFirstNuxController"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=1,j="live_notifs",k={follow:0,see_first:0,see_more:0,highlights_only:0,subscribe_all_live_notifications:j,subscribe_suggested_live_notifications:j,subscribe_none_live_notifications:j};function a(a,c,d,e,f){"use strict";__p&&__p();this.$1=c,this.$2=d,this.$3=f,this.$4=e,this.$5=a,this.$6=null,this.$7=new(b("SubscriptionsHandler"))(),this.$5.getPopover().subscribe("show",function(){b("QE2Logger").logExposureForUser("feed_control_highlight_only")}),this.$2.subscribe("itemclick",function(a,c){if(c.item instanceof b("MenuStaticItem"))return;a=c.item.getValue();a==="unfollow"?(b("Arbiter").inform(b("SubscribeButton").UNSUBSCRIBED,{profile_id:this.$3.id}),b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,{profile_id:this.$3.id}),this.$4&&this.$4.hide(),this.$5.getPopover().hideLayer()):(this.setSelected(a),a===b("ProfileSubFollowStatus").SEE_FIRST?(this.$4&&(this.$4.hide(),this.logNux(b("SeeFirstNuxEvents").SEE_FIRST_SELECTED)),b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!0,see_more:!1,highlights_only:!1})):a===b("ProfileSubFollowStatus").SEE_MORE?b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!1,see_more:!0,highlights_only:!1}):a===b("ProfileSubFollowStatus").HIGHLIGHTS_ONLY?b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!1,see_more:!1,highlights_only:!0}):b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!1,see_more:!1,highlights_only:!1}))}.bind(this)),this.$7.addSubscriptions(b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(a,c){if(this.$3.id!==c.profile_id)return;c.see_first?this.setSelected(b("ProfileSubFollowStatus").SEE_FIRST):c.see_more?this.setSelected(b("ProfileSubFollowStatus").SEE_MORE):c.highlights_only?this.setSelected(b("ProfileSubFollowStatus").HIGHLIGHTS_ONLY):this.setSelected(b("ProfileSubFollowStatus").REGULAR_FOLLOW)}.bind(this))),this.$7.addSubscriptions(b("Arbiter").subscribe(b("FollowRequestResultEnum").REVERT,this.handleResponse.bind(this))),this.$4&&(this.$4.show(),this.logNux(b("SeeFirstNuxEvents").IMP),this.$7.addSubscriptions(b("Event").listen(b("DOM").find(this.$4.getRoot(),"._50zy"),"click",this.logNux.bind(this,b("SeeFirstNuxEvents").XOUT)))),b("Run").onLeave(this.cleanUp.bind(this))}a.prototype.logNux=function(a){"use strict";var c=b("XFeedSeeFirstNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({event:a,id:this.$3.id}).send()};a.prototype.getButtons=function(){"use strict";return b("DOM").scry(this.$1,"._3oz-")};a.prototype.getSelected=function(){"use strict";var a=this.getButtons(),c=null;a.forEach(function(a){var d=a.getAttribute("data-status");b("CSS").matchesSelector(a,"._52-0")&&(c=d)});return c};a.prototype.setSelected=function(a){"use strict";__p&&__p();this.$6=this.getSelected();var c=this.getButtons(),d=k[a];c.forEach(function(c){if(d===j)return;var e=c.getAttribute("data-status");e===a?b("CSS").addClass(c,"_52-0"):b("CSS").removeClass(c,"_52-0")});this.$2.forEachItem(function(c){if(!c.getValue)return;var e=c.getValue(),f=k[e];if(e==="unfollow")return;c=c.getRoot();e===a?b("CSS").addClass(c,"_52-0"):f===d&&b("CSS").removeClass(c,"_52-0")})};a.prototype.handleResponse=function(a,c){"use strict";if(c.id!==this.$3.id||c.location!==i)return;a===b("FollowRequestResultEnum").REVERT&&this.revert()};a.prototype.revert=function(){"use strict";if(this.$6===null)return;this.setSelected(this.$6)};a.prototype.cleanUp=function(){"use strict";this.$7&&this.$7.release(),this.$7=null,this.$1=null,this.$2=null,this.$3=null};e.exports=a}),null);
__d("SeeFirstProfilePopoverMenu",["PopoverMenu"],(function(a,b,c,d,e,f){var g;g=babelHelpers.inherits(a,b("PopoverMenu"));g&&g.prototype;a.prototype._onMenuDone=function(a){"use strict"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("SparkMD5",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a+b&4294967295},h=function(a,b,c,d,e,f){b=g(g(b,a),g(d,f));return g(b<<e|b>>>32-e,c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){__p&&__p();var c=a[0],d=a[1],e=a[2],f=a[3];c=i(c,d,e,f,b[0],7,-680876936);f=i(f,c,d,e,b[1],12,-389564586);e=i(e,f,c,d,b[2],17,606105819);d=i(d,e,f,c,b[3],22,-1044525330);c=i(c,d,e,f,b[4],7,-176418897);f=i(f,c,d,e,b[5],12,1200080426);e=i(e,f,c,d,b[6],17,-1473231341);d=i(d,e,f,c,b[7],22,-45705983);c=i(c,d,e,f,b[8],7,1770035416);f=i(f,c,d,e,b[9],12,-1958414417);e=i(e,f,c,d,b[10],17,-42063);d=i(d,e,f,c,b[11],22,-1990404162);c=i(c,d,e,f,b[12],7,1804603682);f=i(f,c,d,e,b[13],12,-40341101);e=i(e,f,c,d,b[14],17,-1502002290);d=i(d,e,f,c,b[15],22,1236535329);c=j(c,d,e,f,b[1],5,-165796510);f=j(f,c,d,e,b[6],9,-1069501632);e=j(e,f,c,d,b[11],14,643717713);d=j(d,e,f,c,b[0],20,-373897302);c=j(c,d,e,f,b[5],5,-701558691);f=j(f,c,d,e,b[10],9,38016083);e=j(e,f,c,d,b[15],14,-660478335);d=j(d,e,f,c,b[4],20,-405537848);c=j(c,d,e,f,b[9],5,568446438);f=j(f,c,d,e,b[14],9,-1019803690);e=j(e,f,c,d,b[3],14,-187363961);d=j(d,e,f,c,b[8],20,1163531501);c=j(c,d,e,f,b[13],5,-1444681467);f=j(f,c,d,e,b[2],9,-51403784);e=j(e,f,c,d,b[7],14,1735328473);d=j(d,e,f,c,b[12],20,-1926607734);c=k(c,d,e,f,b[5],4,-378558);f=k(f,c,d,e,b[8],11,-2022574463);e=k(e,f,c,d,b[11],16,1839030562);d=k(d,e,f,c,b[14],23,-35309556);c=k(c,d,e,f,b[1],4,-1530992060);f=k(f,c,d,e,b[4],11,1272893353);e=k(e,f,c,d,b[7],16,-155497632);d=k(d,e,f,c,b[10],23,-1094730640);c=k(c,d,e,f,b[13],4,681279174);f=k(f,c,d,e,b[0],11,-358537222);e=k(e,f,c,d,b[3],16,-722521979);d=k(d,e,f,c,b[6],23,76029189);c=k(c,d,e,f,b[9],4,-640364487);f=k(f,c,d,e,b[12],11,-421815835);e=k(e,f,c,d,b[15],16,530742520);d=k(d,e,f,c,b[2],23,-995338651);c=l(c,d,e,f,b[0],6,-198630844);f=l(f,c,d,e,b[7],10,1126891415);e=l(e,f,c,d,b[14],15,-1416354905);d=l(d,e,f,c,b[5],21,-57434055);c=l(c,d,e,f,b[12],6,1700485571);f=l(f,c,d,e,b[3],10,-1894986606);e=l(e,f,c,d,b[10],15,-1051523);d=l(d,e,f,c,b[1],21,-2054922799);c=l(c,d,e,f,b[8],6,1873313359);f=l(f,c,d,e,b[15],10,-30611744);e=l(e,f,c,d,b[6],15,-1560198380);d=l(d,e,f,c,b[13],21,1309151649);c=l(c,d,e,f,b[4],6,-145523070);f=l(f,c,d,e,b[11],10,-1120210379);e=l(e,f,c,d,b[2],15,718787259);d=l(d,e,f,c,b[9],21,-343485551);a[0]=g(c,a[0]);a[1]=g(d,a[1]);a[2]=g(e,a[2]);a[3]=g(f,a[3])},n=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a.charCodeAt(c)+(a.charCodeAt(c+1)<<8)+(a.charCodeAt(c+2)<<16)+(a.charCodeAt(c+3)<<24);return b},o=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24);return b},p=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,n(a.substring(d-64,d)));a=a.substring(d-64);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a.charCodeAt(d)<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}e=b*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(e[2],16);d=parseInt(e[1],16)||0;f[14]=a;f[15]=d;m(c,f);return c},q=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,o(a.subarray(d-64,d)));a=d-64<b?a.subarray(d-64):new Uint8Array(0);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a[d]<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}a=b*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);e=parseInt(a[2],16);d=parseInt(a[1],16)||0;f[14]=e;f[15]=d;m(c,f);return c},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=function(a){var b="",c;for(c=0;c<4;c+=1)b+=r[a>>c*8+4&15]+r[a>>c*8&15];return b},t=function(a){var b;for(b=0;b<a.length;b+=1)a[b]=s(a[b]);return a.join("")};a=function(a){return t(p(a))};b=function(){this.reset()};a("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(g=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});b.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};b.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var b;for(b=64;b<=a;b+=64)m(this._state,n(this._buff.substring(b-64,b)));this._buff=this._buff.substr(b-64);return this};b.prototype.end=function(a){var b=this._buff,c=b.length,d,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<c;d+=1)e[d>>2]|=b.charCodeAt(d)<<(d%4<<3);this._finish(e,c);b=a?this._state:t(this._state);this.reset();return b};b.prototype._finish=function(a,b){__p&&__p();b=b;var c;a[b>>2]|=128<<(b%4<<3);if(b>55){m(this._state,a);for(b=0;b<16;b+=1)a[b]=0}b=this._length*8;b=b.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(b[2],16);b=parseInt(b[1],16)||0;a[14]=c;a[15]=b;m(this._state,a)};b.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length};b.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));a=p(a);return b?a:t(a)};b.hashBinary=function(a,b){a=p(a);return b?a:t(a)};b.ArrayBuffer=function(){this.reset()};b.ArrayBuffer.prototype.append=function(a){var b=this._concatArrayBuffer(this._buff,a),c=b.length;this._length+=a.byteLength;for(a=64;a<=c;a+=64)m(this._state,o(b.subarray(a-64,a)));this._buff=a-64<c?b.subarray(a-64):new Uint8Array(0);return this};b.ArrayBuffer.prototype.end=function(a){var b=this._buff,c=b.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(e=0;e<c;e+=1)d[e>>2]|=b[e]<<(e%4<<3);this._finish(d,c);b=a?this._state:t(this._state);this.reset();return b};b.ArrayBuffer.prototype._finish=b.prototype._finish;b.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.ArrayBuffer.prototype.destroy=b.prototype.destroy;b.ArrayBuffer.prototype._concatArrayBuffer=function(a,b){var c=a.length,d=new Uint8Array(c+b.byteLength);d.set(a);d.set(new Uint8Array(b),c);return d};b.ArrayBuffer.hash=function(a,b){a=q(new Uint8Array(a));return b?a:t(a)};e.exports=b}),null);
__d("LiveClockQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"client_time",type:"Float!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"live_video_clock",storageKey:null,args:[{kind:"Variable",name:"client_time",variableName:"client_time",type:"Float!"}],concreteType:"LiveClock",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"client_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"server_time",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"request_time",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"query",name:"LiveClockQuery",id:"1911660518872546",text:null,metadata:{},fragment:{kind:"Fragment",name:"LiveClockQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"LiveClockQuery",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("LiveVideoCopyrightActionSubscription",["BaseGraphQLSubscription","LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/video_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),video_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"live_video_copyright_action_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("LiveClockWWWTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveClockWWWLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveClockWWWLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveClockWWWLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClientReceiveTimeMs=function(a){this.$1.client_receive_time_ms=a;return this};a.prototype.setClientSendTimeMs=function(a){this.$1.client_send_time_ms=a;return this};a.prototype.setRequestTimeMs=function(a){this.$1.request_time_ms=a;return this};a.prototype.setServerTimeMs=function(a){this.$1.server_time_ms=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={client_receive_time_ms:!0,client_send_time_ms:!0,request_time_ms:!0,server_time_ms:!0,time:!0,weight:!0};e.exports=a}),null);
__d("LowLatencyPlaybackTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LowLatencyPlaybackLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LowLatencyPlaybackLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LowLatencyPlaybackLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppID=function(a){this.$1.appid=a;return this};a.prototype.setAppversion=function(a){this.$1.appversion=a;return this};a.prototype.setAuthFlag=function(a){this.$1.auth_flag=a;return this};a.prototype.setBehindByMs=function(a){this.$1.behind_by_ms=a;return this};a.prototype.setBufferMs=function(a){this.$1.buffer_ms=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setOsBuildNumber=function(a){this.$1.os_build_number=a;return this};a.prototype.setPlaybackDesiredTimeMs=function(a){this.$1.playback_desired_time_ms=a;return this};a.prototype.setRadioType=function(a){this.$1.radio_type=a;return this};a.prototype.setRawClientTime=function(a){this.$1.raw_client_time=a;return this};a.prototype.setReactBundleVersion=function(a){this.$1.react_bundle_version=a;return this};a.prototype.setSeekCount=function(a){this.$1.seek_count=a;return this};a.prototype.setServerTimeMs=function(a){this.$1.server_time_ms=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeSinceLastSeekMs=function(a){this.$1.time_since_last_seek_ms=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoTimeMs=function(a){this.$1.video_time_ms=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={appid:!0,appversion:!0,auth_flag:!0,behind_by_ms:!0,buffer_ms:!0,country:!0,os_build_number:!0,playback_desired_time_ms:!0,radio_type:!0,raw_client_time:!0,react_bundle_version:!0,seek_count:!0,server_time_ms:!0,time:!0,time_since_last_seek_ms:!0,video_id:!0,video_time_ms:!0,weight:!0};e.exports=a}),null);
__d("VideoPlayerAbrTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("vpabr_proxy:VideoPlayerAbrLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActiveIsHvq=function(a){this.$1.active_is_hvq=a;return this};a.prototype.setActiveRepresentationID=function(a){this.$1.active_representation_id=a;return this};a.prototype.setAvailableTracks=function(a){this.$1.available_tracks=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};a.prototype.setBufferedAhead=function(a){this.$1.buffered_ahead=a;return this};a.prototype.setBytes=function(a){this.$1.bytes=a;return this};a.prototype.setClientTime=function(a){this.$1.client_time=a;return this};a.prototype.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};a.prototype.setDelayMs=function(a){this.$1.delay_ms=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setFbQualityLabel=function(a){this.$1.fb_quality_label=a;return this};a.prototype.setIsHvq=function(a){this.$1.is_hvq=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};a.prototype.setPlayhead=function(a){this.$1.playhead=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$1.representation_id=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSession=function(a){this.$1.session=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setUnsampledReason=function(a){this.$1.unsampled_reason=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={active_is_hvq:!0,active_representation_id:!0,available_tracks:!0,bandwidth_estimate:!0,buffered_ahead:!0,bytes:!0,client_time:!0,client_time_begin:!0,client_time_end:!0,delay_ms:!0,event:!0,fb_quality_label:!0,is_hvq:!0,is_live:!0,player_origin_caller_specified:!0,playhead:!0,reason:!0,representation_id:!0,script_path:!0,session:!0,time:!0,unsampled_reason:!0,vc:!0,video_duration:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccessToken=function(a){this.$1.access_token=a;return this};a.prototype.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};a.prototype.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};a.prototype.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};a.prototype.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};a.prototype.setCode=function(a){this.$1.code=a;return this};a.prototype.setConcluder=function(a){this.$1.concluder=a;return this};a.prototype.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};a.prototype.setDevicePixelRatio=function(a){this.$1.device_pixel_ratio=a;return this};a.prototype.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};a.prototype.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};a.prototype.setEnded=function(a){this.$1.ended=a;return this};a.prototype.setError=function(a){this.$1.error=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExpectedLength=function(a){this.$1.expected_length=a;return this};a.prototype.setInitiator=function(a){this.$1.initiator=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setIsMuted=function(a){this.$1.is_muted=a;return this};a.prototype.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};a.prototype.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};a.prototype.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};a.prototype.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};a.prototype.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};a.prototype.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};a.prototype.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};a.prototype.setLength=function(a){this.$1.length=a;return this};a.prototype.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};a.prototype.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};a.prototype.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};a.prototype.setManifestType=function(a){this.$1.manifest_type=a;return this};a.prototype.setParentID=function(a){this.$1.parent_id=a;return this};a.prototype.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};a.prototype.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};a.prototype.setPlayerVersion=function(a){this.$1.player_version=a;return this};a.prototype.setPlayhead=function(a){this.$1.playhead=a;return this};a.prototype.setPreloadTime=function(a){this.$1.preload_time=a;return this};a.prototype.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};a.prototype.setPriorityFloat=function(a){this.$1.priority_float=a;return this};a.prototype.setPushed=function(a){this.$1.pushed=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$1.representation_id=a;return this};a.prototype.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};a.prototype.setResource=function(a){this.$1.resource=a;return this};a.prototype.setResult=function(a){this.$1.result=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSegmentCount=function(a){this.$1.segment_count=a;return this};a.prototype.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};a.prototype.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};a.prototype.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};a.prototype.setSequentialID=function(a){this.$1.sequential_id=a;return this};a.prototype.setSession=function(a){this.$1.session=a;return this};a.prototype.setState=function(a){this.$1.state=a;return this};a.prototype.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};a.prototype.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};a.prototype.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};a.prototype.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};a.prototype.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};a.prototype.setTotalFrames=function(a){this.$1.total_frames=a;return this};a.prototype.setType=function(a){this.$1.type=a;return this};a.prototype.setUpdatePeriod=function(a){this.$1.update_period=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};a.prototype.setWasDelayed=function(a){this.$1.was_delayed=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={access_token:!0,additional_buffered_ranges:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,device_pixel_ratio:!0,dropped_frames:!0,dynamic_bitrate:!0,ended:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("VideosInfraLoapTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setEventCreationTime=function(a){this.$1.event_creation_time=a;return this};a.prototype.setEventID=function(a){this.$1.event_id=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setEventSeverity=function(a){this.$1.event_severity=a;return this};a.prototype.setMetadata=function(a){this.$1.metadata=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setParentSource=function(a){this.$1.parent_source=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setStreamID=function(a){this.$1.stream_id=a;return this};a.prototype.setStreamType=function(a){this.$1.stream_type=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTraceID=function(a){this.$1.trace_id=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={clienttime:!0,event_creation_time:!0,event_id:!0,event_name:!0,event_severity:!0,metadata:!0,parent_source:!0,source:!0,stream_id:!0,stream_type:!0,time:!0,trace_id:!0,weight:!0};e.exports=a}),null);
__d("DialogHideOnSuccess",["csx","CSS"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this._layer=a}a.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("success",this._handle.bind(this))};a.prototype.disable=function(){"use strict";this._subscription.unsubscribe(),this._subscription=null};a.prototype._handle=function(a,c){"use strict";b("CSS").matchesSelector(c.getTarget(),"._s")&&this._layer.hide()};Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("PopoverMenuShowOnHover",["DOM","Event"],(function(a,b,c,d,e,f){__p&&__p();var g=250;function a(a){"use strict";this._handleOnSetMenu=function(){this._attachMouseListeners(this._popoverMenu.getPopover().getLayer().getRoot())}.bind(this),this._popoverMenu=a,this._listeners=[]}a.prototype.enable=function(){"use strict";this._attachMouseListeners(this._popoverMenu.getTriggerElem()),this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",this._handleOnSetMenu)};a.prototype.disable=function(){"use strict";this._lastHoverEventTime=null;while(this._listeners.length)this._listeners.pop().remove();this._setMenuSubscription&&(this._setMenuSubscription.unsubscribe(),this._setMenuSubscription=null)};a.prototype._attachMouseListeners=function(a){"use strict";this._listeners.push(b("Event").listen(a,"mouseleave",function(a){var c=this._popoverMenu.getMenu();if(!c||b("DOM").contains(c.getRoot(),a.relatedTarget)||b("DOM").contains(this._popoverMenu.getTriggerElem(),a.relatedTarget))return;this._popoverMenu.getPopover().hideLayer(a)}.bind(this)),b("Event").listen(a,"mouseenter",function(a){this._lastHoverEventTime=Date.now(),this._popoverMenu.getPopover().showLayer()}.bind(this)),b("Event").listen(a,"click",function(a){Date.now()<this._lastHoverEventTime+g&&a.stop()}.bind(this)))};e.exports=a}),null);
__d("getInlineBoundingRect",["Rect"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){__p&&__p();var d=a.getClientRects();if(!c||d.length===0)return b("Rect").getElementBounds(a);var e,f=!1;for(var g=0;g<d.length;g++){var h=new(b("Rect"))(Math.round(d[g].top),Math.round(d[g].right),Math.round(d[g].bottom),Math.round(d[g].left),"viewport").convertTo("document"),i=h.getPositionVector(),j=i.add(h.getDimensionVector());if(!e||i.x<=e.l&&i.y>e.t){if(f)break;e=new(b("Rect"))(i.y,j.x,j.y,i.x,"document")}else e.t=Math.min(e.t,i.y),e.b=Math.max(e.b,j.y),e.r=j.x;h.contains(c)&&(f=!0)}e||(e=b("Rect").getElementBounds(a));return e}e.exports=a}),null);
__d("nl2br",["DOM"],(function(a,b,c,d,e,f){var g=/(\r\n|[\r\n])/;function a(a){return a.split(g).map(function(a){return g.test(a)?b("DOM").create("br"):a})}e.exports=a}),null);
__d("Tooltip",["fbt","invariant","Arbiter","AsyncRequest","ContextualLayer","ContextualLayerAutoFlip","CSS","DOM","Event","Style","TooltipData","Vector","emptyFunction","getElementText","getInlineBoundingRect","getOrCreateDOMID","gkx","nl2br","setImmediate"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=!1,q=[],r=[];function s(){__p&&__p();if(!m){n=b("DOM").create("div",{className:"tooltipContent","data-testid":"tooltip_testid"});o=b("getOrCreateDOMID")(n);var a=b("DOM").create("i",{className:"arrow"});a=b("DOM").create("div",{className:"uiTooltipX"},[n,a]);m=new(b("ContextualLayer"))({},a);m.shouldSetARIAProperties(!1);m.enableBehavior(b("ContextualLayerAutoFlip"));b("gkx")("764802")&&(m.getRoot().style.pointerEvents="none")}}function t(a,c){v._show(a,g._("Loading...")),new(b("AsyncRequest"))(c).setHandler(function(b){v._show(a,b.getPayload()),m&&m.updatePosition()}).setErrorHandler(b("emptyFunction")).send()}var u;b("Event").listen(document.documentElement,"mouseover",function(a){u=a,b("setImmediate")(function(){u=null})});var v=babelHelpers["extends"]({},b("TooltipData"),{isActive:function(a){return a===i},process:function(a,c){if(!b("DOM").contains(a,c))return;if(a!==i){v.fetchIfNecessary(a);c=v._get(a);if(c.suppress)return;c.delay?v._showWithDelay(a,c.delay):v.show(a)}},fetchIfNecessary:function(a){var b=a.getAttribute("data-tooltip-uri");b&&(a.removeAttribute("data-tooltip-uri"),t(a,b))},suspend:function(){p=!0},hide:function(){var a=i,c,d=p;p=!1;try{b("Arbiter").inform("tooltip/requesthide",{context:a}),c=p}finally{p=d}c||v.commitHide(a)},commitHide:function(a){if(!j||a!==j){if(a&&m){m.hide();i=null;while(q.length)q.pop().remove()}b("Arbiter").inform("tooltip/hide",{context:a})}},_show:function(a,b){v._store({context:a,content:b}),v.isActive(a)&&v.show(a)},show:function(a){var c,d=p;p=!1;try{b("Arbiter").inform("tooltip/requestshow",{context:a}),c=p}finally{p=d}c||v.commitShow(a)},commitShow:function(a){__p&&__p();var c=function(){a.removeAttribute("aria-describedby");var c=v._get(a);c.className&&m&&b("CSS").removeClass(m.getRoot(),c.className);v.hide()},d=function(a){b("DOM").contains(i,a.getTarget())||c()};j=a;s();a!==i&&v.commitHide(a);j=null;a!==i&&b("Arbiter").inform("tooltip/beforeshow",{context:a});var e=v._get(a);if(e.suppress||v.allSuppressed)return;var f=e.content;if(e.overflowDisplay){if(a.offsetWidth>=a.scrollWidth)return;f||(f=b("getElementText")(a))}var g=f?function(){a.setAttribute("aria-describedby",o),m&&m.show()}:function(){},k=0,l=e.offsetY?parseInt(e.offsetY,10):0;if(e.position==="left"||e.position==="right")l=(a.offsetHeight-28)/2;else if(e.alignH!=="center"){var p=a.offsetWidth;p<32&&(k=(p-32)/2*(e.alignH==="right"?-1:1))}p=u?b("Vector").getEventPosition(u):b("Vector").getElementPosition(a);m||h(0,4328);m.setContextWithBounds(a,b("getInlineBoundingRect")(a,p)).setOffsetX(k).setOffsetY(l).setPosition(e.position).setAlignment(e.alignH);if(typeof f==="string"){b("CSS").addClass(m.getRoot(),"invisible_elem");p=b("DOM").create("span",{},b("nl2br")(f));k=b("DOM").create("div",{className:"tooltipText"},p);b("DOM").setContent(n,k);g();b("CSS").removeClass(m.getRoot(),"invisible_elem")}else b("DOM").setContent(n,f),g();q.push(b("Event").listen(document.documentElement,"mouseover",d),b("Event").listen(document.documentElement,"focusin",d));l=b("Style").getScrollParent(a);l!==window&&q.push(b("Event").listen(l,"scroll",c));e.persistOnClick||q.push(b("Event").listen(a,"click",c));e.className&&b("CSS").addClass(m.getRoot(),e.className);i=a},_showWithDelay:function(a,c){a!==k&&v._clearDelay();if(!l){var d=function(a){b("DOM").contains(k,a.getTarget())||v._clearDelay()};r.push(b("Event").listen(document.documentElement,"mouseover",d),b("Event").listen(document.documentElement,"focusin",d));k=a;l=setTimeout(function(){v._clearDelay(),v.show(a)},c)}},_clearDelay:function(){clearTimeout(l);k=null;l=null;while(r.length)r.pop().remove()}});b("Event").listen(window,"scroll",v.hide);e.exports=v}),null);
__d("ViewportTrackingHelper",["DOMDimensions","ge","getElementPosition","getElementRect","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isDescendantOf:function(a,b){if(a===b)return!0;while(a&&a.parentElement){if(a.parentElement===b)return!0;a=a.parentElement}return!1},isVisible:function(a,c){return g.isVisibleInDimension(b("getViewportDimensions")(),a,c)},isVisibleUnderBluebar:function(a,c){var d=b("ge")("pagelet_bluebar");return d==null?g.isVisible(a,c):g.isVisibleInDimension(b("getViewportDimensions")(),a,c,d.clientHeight)},isFullyVisibleInContainer:function(a,c){a=b("getElementRect")(a);c=b("getElementRect")(c);return c.top>=a.top&&c.bottom<=a.bottom&&c.left>=a.left&&c.right<=a.right},isVisibleInDimension:function(a,c,d,e){e===void 0&&(e=0);var f=b("getElementPosition")(c);c=b("DOMDimensions").getElementDimensions(c);if(!f.x&&!f.y&&!c.height&&!c.width)return!1;e=Math.max(f.y,e);f=Math.min(f.y+c.height,a.height);a=Math.min(c.height,d);return f-e>=a},getHeightIfVisible:function(a,c){var d=this.getHeightInViewport(a);a=b("DOMDimensions").getElementDimensions(a);a=Math.min(a.height,c);return d>=a?d:0},getHeightInViewport:function(a){var c=b("getElementPosition")(a);a=b("DOMDimensions").getElementDimensions(a);if(!c.x&&!c.y&&!a.x&&!a.y)return 0;var d=b("getViewportDimensions")().height,e=Math.max(c.y,0);c=Math.min(c.y+a.height,d);return c-e},getElementsInViewIgnoreHeight:function(a){var b=!1,c=[];for(var d=0;d<a.length;d++){var e=a[d];if(this.isVisible(e,0,null))c.push(e),b=!0;else if(b)break}return c}};e.exports=g}),null);
__d("dispatchCustomEvent",[],(function(a,b,c,d,e,f){function b(b,c,d){var e;typeof a.CustomEvent==="function"?e=new a.CustomEvent(c,{detail:d}):(e=a.document.createEvent("CustomEvent"),e.initCustomEvent(c,!0,!0,d));b.dispatchEvent(e)}e.exports=b}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}e.exports=b}),null);
__d("getFullScreenElement",[],(function(a,b,c,d,e,f){function a(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}e.exports=a}),null);
__d("UITinyViewportAction",["Arbiter","ArbiterMixin","BanzaiScuba","CSS","Event","getDocumentScrollElement","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=document.documentElement,h,i,j,k,l=!1,m=!1,n=!1,o=!1,p={init:function(a){__p&&__p();a=b("queryThenMutateDOM").bind(null,function(){k=k||b("getDocumentScrollElement")(),i=g.clientWidth<k.scrollWidth-1,j=g.clientHeight<400,h=j||i},function(){(h!==l||i!==m||j!==n)&&(b("CSS").conditionClass(g,"tinyViewport",h),b("CSS").conditionClass(g,"tinyWidth",i),b("CSS").conditionClass(g,"tinyHeight",j),b("CSS").conditionClass(g,"canHaveFixedElements",!h),p.inform("change",h),b("Arbiter").inform("tinyViewport/change",{tiny:h,tinyWidth:i,tinyHeight:j},"state"),l=h,m=i,n=j);if(!o){var a=new(b("BanzaiScuba"))("www_tinyview_port",null,{addBrowserFields:!0});a.addInteger("clientWidth",g.clientWidth);a.addInteger("clientHeight",g.clientHeight);a.addNormal("view",h?"tiny":"normal");a.post();o=!0}},"TinyViewport");a();b("Arbiter").subscribe("quickling/response",a);b("Event").listen(window,"resize",a)},isTiny:function(){return h},isTinyWidth:function(){return i},isTinyHeight:function(){return j}};Object.assign(p,b("ArbiterMixin"));e.exports=p}),null);
__d("MenuSeparator",["cx","CSS","DOM","MenuItemInterface"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("MenuItemInterface"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this,a),this._data=a,this.showFn=this._data.should_show_fn}a.prototype.updateShownState=function(a){"use strict";this.showFn&&(this._isHidden=!this.showFn(a),this._root&&b("CSS").conditionShow(this._root,!this._isHidden))};a.prototype.isShown=function(a){"use strict";a=this.showFn?this.showFn(a):!0;return a};a.prototype.render=function(){"use strict";var a="_54ak";this._data.className&&(a+=" "+this._data.className);var c=this._data.label||"";a=b("DOM").create("li",{className:a,role:"separator"},c);this._isHidden&&b("CSS").hide(a);return a};e.exports=a}),null);
__d("ContextualLayerInlineTabOrder",["DOM","DOMTraverser","Event","Focus","Keys","SubscriptionsHandler","TabbableElements","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._layer=a,this._isSetup=!1,this._ignoreFocus=!1,this._layerFocused=!0,this._layerRoot=this._layer.getContentRoot(),this._layerID=b("getOrCreateDOMID")(this._layerRoot),this._mutedTabbables=new Map([]),this._subscriptions=new(b("SubscriptionsHandler"))(),this._tabbableLayerElements=[]}a.prototype.enable=function(){"use strict";this._subscriptions.addSubscriptions(this._layer.subscribe("aftershow",this._onAfterShow.bind(this)),this._layer.subscribe("hide",this._onAfterHide.bind(this))),this._layer.isShown()&&this._onAfterShow()};a.prototype.disable=function(){"use strict";this._subscriptions.release(),this._isSetup=!1};a.prototype._getContext=function(){"use strict";return this._layer.getCausalElement()};a.prototype._getContextOwns=function(){"use strict";var a=this._getContext();if(!a)return[];a=(a.getAttribute("aria-owns")||"").trim();a=a?a.match(/[^ ]+/g):[];return a};a.prototype._identifyTabbableElements=function(){"use strict";this._tabbableLayerElements=b("TabbableElements").find(this._layerRoot),!this._tabbableLayerElements.length&&!this._mutedTabbables.size&&this._layerRoot.setAttribute("tabindex","0"),this._layerRoot.tabIndex>=0&&this._tabbableLayerElements.unshift(this._layerRoot)};a.prototype._onAfterShow=function(){"use strict";this._setupTabBehavior();var a=this._getContext(),b=this._getContextOwns();a&&!b.includes(this._layerID)&&(b.push(this._layerID),a.setAttribute("aria-owns",b.join(" ")))};a.prototype._onAfterHide=function(){"use strict";var a=this._getContext();if(a){var b=this._getContextOwns(),c=b.indexOf(this._layerID);c>-1&&(b.splice(c,1),a.setAttribute("aria-owns",b.join(" ")))}};a.prototype._setupTabBehavior=function(){"use strict";if(!this._isSetup){var a=this._getContext();if(!this._layerRoot||!a)return;this._setupTabTriggers();this._setupTabToggle();this._isSetup=!0}};a.prototype._setupTabTriggers=function(){"use strict";var a=this._getContext();b("TabbableElements").isTabbable(a)||a.setAttribute("tabindex","0");this._subscriptions.addSubscriptions(b("Event").listen(a,"keyup",this._checkNUXFocus.bind(this)),b("Event").listen(a,"keydown",this._checkNUXFocus.bind(this)),b("Event").listen(this._layerRoot,"keydown",this._checkContextFocus.bind(this)),b("Event").listen(this._layerRoot,"layerFocus",this._setNUXFocusStart.bind(this)),b("Event").listen(this._layerRoot,"layerFocusEnd",this._setNUXFocusEnd.bind(this)),b("Event").listen(this._layerRoot,"tempFocusIgnore",this._tempIgnoreFocus.bind(this)))};a.prototype._setupTabToggle=function(){"use strict";this._handleLayerBlur(),this._subscriptions.addSubscriptions(b("Event").listen(document.documentElement,"click",this._checkForFocus.bind(this)),b("Event").listen(document.documentElement,"keydown",this._checkForFocus.bind(this)))};a.prototype._handleLayerBlur=function(){"use strict";__p&&__p();if(!this._layerFocused)return;this._identifyTabbableElements();this._tabbableLayerElements.forEach(function(a){if(!this._mutedTabbables.has(a)){var b=a.getAttribute("tabindex");a.setAttribute("tabindex","-1");this._mutedTabbables.set(a,b)}},this);this._layerFocused=!1};a.prototype._handleLayerFocus=function(){"use strict";__p&&__p();if(this._layerFocused)return;for(var a=this._mutedTabbables,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=d[0];d=d[1];d===null?e.removeAttribute("tabindex"):e.setAttribute("tabindex",d)}this._mutedTabbables.clear();this._layerFocused=!0};a.prototype._checkNUXFocus=function(a){"use strict";__p&&__p();if(this._ignoreFocus){a.preventDefault();this._ignoreFocus=!1;return}if(a.getTarget()!==this._getContext()||!this._layer.isShown())return;var c=b("Event").getKeyCode(a),d=this._getContextOwns();if(!d.length||c!==b("Keys").TAB)return;c=a.getModifiers();c=c.shift;var e=d[0]===this._layerID;d=d[d.length-1]===this._layerID;(a.type==="keydown"&&c&&d||a.type==="keyup"&&!c&&e)&&(a.preventDefault(),b("Event").fire(this._layerRoot,c?"layerFocusEnd":"layerFocus"))};a.prototype._setNUXFocusStart=function(){"use strict";this._handleLayerFocus(),this._identifyTabbableElements(),b("Focus").set(this._tabbableLayerElements[0])};a.prototype._setNUXFocusEnd=function(){"use strict";this._handleLayerFocus(),this._identifyTabbableElements(),b("Focus").set(this._tabbableLayerElements[this._tabbableLayerElements.length-1])};a.prototype._tempIgnoreFocus=function(){"use strict";this._ignoreFocus=!0};a.prototype._checkContextFocus=function(a){"use strict";__p&&__p();var c=b("Event").getKeyCode(a),d=a.getModifiers();d=d.shift;this._handleLayerFocus();this._identifyTabbableElements();if(!this._tabbableLayerElements.length||c!==b("Keys").TAB||!this._getContext())return;c=this._tabbableLayerElements[0];var e=this._tabbableLayerElements[this._tabbableLayerElements.length-1];a.getTarget()===e&&!d?this._setFocusAfterLayer()&&a.preventDefault():a.getTarget()===c&&d&&(this._setFocusBeforeLayer()&&a.preventDefault())};a.prototype._isTabbableNode=function(a){"use strict";return b("TabbableElements").isTabbable(a)&&!b("DOM").contains(this._layerRoot,a)};a.prototype._setFocusBeforeLayer=function(){"use strict";__p&&__p();var a=this._getContextOwns();if(!a||!a.length)return!1;if(a[0]===this._layerID){var c=b("DOMTraverser").previousFilteredNode(document.body,this._getContext(),this._isTabbableNode.bind(this));b("Focus").set(c);return!0}if(a.includes(this._layerID)){c=a[a.indexOf(this._layerID)-1];return this._focusOnElement(c,!0)}return!1};a.prototype._setFocusAfterLayer=function(){"use strict";__p&&__p();var a=this._getContextOwns();if(!a||!a.length)return!1;if(a[a.length-1]===this._layerID){this._refocusOnContext();return!0}if(a.includes(this._layerID)){a=a[a.indexOf(this._layerID)+1];return this._focusOnElement(a,!1)}return!1};a.prototype._focusOnElement=function(a,c){"use strict";a=document.getElementById(a);if(!a)return!1;b("Event").fire(a,c?"layerFocusEnd":"layerFocus");this._handleLayerBlur();return!0};a.prototype._refocusOnContext=function(a){"use strict";a=this._getContext();var c=this._getContextOwns();b("Event").fire(document.getElementById(c[0]),"tempFocusIgnore");this._handleLayerBlur();a&&(a.tabIndex==null?(a.tabIndex=-1,b("Focus").setWithoutOutline(a)):b("Focus").set(a))};a.prototype._checkForFocus=function(a){"use strict";a=a.getTarget();var c=this._layer.getContentRoot();c=b("DOM").contains(c,a);!this._ignoreFocus&&!this._layerFocused&&c&&this._handleLayerFocus();this._layerFocused&&!c&&this._handleLayerBlur()};e.exports=a}),null);
__d("LiveClock",["regeneratorRuntime","LiveClockWWWTypedLogger","RelayFBEnvironment","RelayModern","promiseDone","LiveClockQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").fetchQuery;b("RelayModern").graphql;var h=5e3,i=12e4,j=5,k=2e3,l=50,m=1e4,n=1e4,o=function(){return b("LiveClockQuery.graphql")};function a(){this.$1=!1,this.$3=0,this.$4=n,this.$5=0,this.$6=0,this.$7=!1,this.$2=0,this.$9(0)}a.prototype.$9=function(a){this.$5=0};a.prototype.startClock=function(a){this.$7||(this.$7=!0,a&&a(),this.$10())};a.prototype.stopClock=function(){this.$7=!1,window.clearTimeout(this.$8)};a.prototype.$10=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!this.$7){c.next=4;break}a=this.currentTimeMillis();c.next=4;return b("regeneratorRuntime").awrap(this.fetchTimes(a));case 4:case"end":return c.stop()}},null,this)};a.prototype.$11=function(a,c,d,e){var f,g;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:f=(c-a+(d-e))/2,g=e-a-(d-c),this.$12(a,c,d,e),this.$13(f,g),this.$14(f,g),this.$1=!0;case 6:case"end":return b.stop()}},null,this)};a.prototype.$14=function(a,c){var d;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:d=this.$15(a),d||(this.$6=0),d?(this.$6++,this.$4=l,this.$6>j&&(this.$4=k)):this.$16(c)?this.$4=n:(this.$4*=2,this.$4>i&&(this.$4=i),this.$4<n&&(this.$4=n));case 3:case"end":return b.stop()}},null,this)};a.prototype.$13=function(a,b){if(this.$16(b)){this.$3==0&&(this.$5+=a);return}this.$5+=a;this.$3++};a.prototype.fetchTimes=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:b("promiseDone")(g(b("RelayFBEnvironment"),o,{client_time:a},{force:!0}).then(function(a){if(a){var b=a.live_video_clock.client_time,c=a.live_video_clock.server_time*1e3;a=a.live_video_clock.request_time*1e3;var d=this.currentTimeMillis();this.$11(b,a,c,d);this.$8=window.setTimeout(function(){this.$10()}.bind(this),this.$4)}else return}.bind(this)));case 1:case"end":return c.stop()}},null,this)};a.prototype.currentTimeMillis=function(){return this.elapsedRealTimeMillis()+this.$2+this.$5};a.prototype.elapsedRealTimeMillis=function(){return Date.now()};a.prototype.$15=function(a){return Math.abs(a)>h};a.prototype.$16=function(a){return a>m};a.prototype.isRunning=function(){return this.$7};a.prototype.isReady=function(){return this.$1};a.prototype.$12=function(a,c,d,e){new(b("LiveClockWWWTypedLogger"))().setClientSendTimeMs(a).setRequestTimeMs(c).setServerTimeMs(d).setClientReceiveTimeMs(e).log()};e.exports=a}),null);
__d("Duration.react",["React","ServerTime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=500,i=1e3,j=60,k=60;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.state={duration:0}}a.prototype.UNSAFE_componentWillMount=function(){this.$2()};a.prototype.componentWillUnmount=function(){b("clearTimeout")(this.$1)};a.prototype.$2=function(){var a;this.props.useLocalTime?a=Date.now():a=b("ServerTime").getMillis();this.setState({duration:Math.max(a-this.props.startTime,0)});this.$1=b("setTimeout")(function(){return this.$2()}.bind(this),h)};a.prototype.render=function(){__p&&__p();var a=Math.floor(this.state.duration/i),c=a%j;a=Math.floor(a/j);var d=a%k;a=Math.floor(a/k);var e="";a>0&&(e=a+":");a=d+":";a.length<3&&e.length>0&&(a="0"+a);d=""+c;d.length<2&&(d="0"+d);return b("React").createElement("span",null,e,a,d)};a.defaultProps={useLocalTime:!1};e.exports=a}),null);
__d("RlAbrUtils",["Promise","AsyncRequest","XRlAbrController"],(function(a,b,c,d,e,f){__p&&__p();a={_unavailableBitrate:-1,_networkFeatureCount:8,_labelBrackets:["144p","240p","360p","480p","720p","1080p","1440p","2160p","4320p"],_reasonGetAction:"get_action",_reasonGetPolicy:"get_policy",_reasonPutExperience:"put_exp",getQualityLabelBracket:function(a,b){__p&&__p();b===void 0&&(b=!1);if(b){if(!a.endsWith("p")||a=="p")return null;b=a.replace(/p$/,"");if(isNaN(b))return null;b=parseInt(b,10);if(b<=0||b>=4320)return null;if(b<162)return"label_0";else if(b<210)return"label_1";else if(b<315)return"label_2";else if(b<420)return"label_3";else if(b<590)return"label_4";else if(b<780)return"label_5";else if(b<1260)return"label_6";else if(b<1520)return"label_7";else if(b<1880)return"label_8";else return"label_9"}var c=parseInt(a,10);return isNaN(c)||c<=0?null:this._labelBrackets.find(function(a){return c<=parseInt(a,10)})||this._labelBrackets[this._labelBrackets.length-1]},getRlAbrFeaturesDeprecated:function(a,b,c,d,e,f){__p&&__p();var g=[];for(var h=0;h<b.length;h++){var i=this.getQualityLabelBracket(b[h].fbQualityLabel);if(!i)continue;var j=b[h].bandwidth;(!j||j<=0)&&(j=1e9);g.push({label:i,bitrate:j})}i=this._labelBrackets.map(function(a){var b=g.find(function(b){return b.label===a});return b?b.bitrate:1e9});var k=null;j=0;h=0;c&&(k=this.getQualityLabelBracket(c.fbQualityLabel),j=c.bandwidth||0,h=c.isHVQ?1:0);b=this._labelBrackets.map(function(a){return a===k?1:0});c=a.currentTime||0;a=a.duration||0;a=Math.max(a-c,0)*1e3;c=[].concat(j,b,h,e,a);j=[];for(var b=0;b<this._networkFeatureCount;b++)b<d.length?j.push(d[d.length-b-1][0]||0,d[d.length-b-1][1]||0):j.push(0,0);h=[].concat(i,c,j,f);return h},getRlAbrAvailableBitrates:function(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c].bandwidth);return b},getRemainingPlayback:function(a){var b=a.duration;a=a.currentTime;b=!isNaN(b)&&!isNaN(a)&&b>a?(b-a)*1e3:-1;return b},getRlAbrFeatures:function(a,b,c,d,e){__p&&__p();b=this.getRemainingPlayback(a);a=[];if(e){e.update(Date.now());var f=e.getWatchTimeSinceLastReport(),g=e.getStallCountSinceLastReport(),h=e.getStallTimeSinceLastReport();e=e.getBufferedTimeSinceLastReport();a.push(f);a.push(e);a.push(g);a.push(h)}else a.push(-1,-1,-1,-1);return[].concat(d,c,b,a)},getRlAbrShortFeatures:function(a,b,c,d){__p&&__p();var e=Array(10).fill(this._unavailableBitrate),f=!1;for(var g=b.length-1;g>=0;g--){var h=this.getQualityLabelBracket(b[g].fbQualityLabel,!0);if(h){f=!0;h=parseInt(h.substr(-1,1),10);e[h]=b[g].bandwidth}}if(!f)return null;h=this.getRemainingPlayback(a);return[].concat(d,c,h,e)},_getRlQuery:function(a,b){if(b.length===0)return[];if(!a)a=b;else if(b.length!==a.length)return[];var c=b[b.length-1]-a[a.length-1];return[].concat(a.slice(0,a.length-1),b.slice(0,b.length-1),c)},genRlAbrShortFeaturesRecommendation:function(a,c,d){var e=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetAction).setInt("id",d).setFloatVector("query",[a[0],a[1],a[2]]);e=self._setAvailableBitrateFeatures(a,e);e=e.getURI();return new(b("Promise"))(function(a,d){new(b("AsyncRequest"))(e).setMethod("GET").setURI(e).setReadOnly(!0).setHandler(function(b){b=b.payload.data;a(b||[])}).setErrorHandler(function(a){d([])}).setTimeoutHandler(c,function(a){d([])}).send()})},genRlAbrRecommendationDeprecated:function(a,c,d,e){a=this._getRlQuery(a,c);var f=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetAction).setInt("id",e).setFloatVector("query",a).getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(f).setMethod("GET").setURI(f).setReadOnly(!0).setHandler(function(b){b=b.payload.data;a(b||[])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(d,function(a){c([])}).send()})},genRlAbrRecommendation:function(a,c,d,e){var f=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetAction).setString("session_id",e).setFloatVector("query",a).setFloatVector("bitrates",c);f=f.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(f).setMethod("GET").setURI(f).setReadOnly(!0).setHandler(function(b){b=b.payload.data;a(b||[])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(d,function(a){c([])}).send()})},fetchRlAbrModel:function(a,c,d){var e=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonGetPolicy).setString("session_id",a).setString("smc_tier",c);e=e.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(e).setMethod("GET").setURI(e).setReadOnly(!0).setHandler(function(b){var c=b.payload.model_id,d=b.payload.weights;b=b.payload.biases;a([c,d,b]||[])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(d,function(a){c([])}).send()})},_setAvailableBitrateFeatures:function(a,b){for(var c=0;c<10;c++)a[c+3]!==this._unavailableBitrate&&(b=b.setFloat("label_"+c,a[c+3]));return b},putExperience:function(a,c,d,e,f,g,h,i,j,k){var l=b("XRlAbrController").getURIBuilder().setString("reason",this._reasonPutExperience).setString("smc_tier",c).setString("model_id",d).setInt("mdp_step",e).setString("session_id",a).setFloatVector("query",f).setFloatVector("bitrates",g).setFloat("prev_reward",h).setInt("action",i).setFloatVector("action_prob",j);l=l.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(l).setMethod("GET").setURI(l).setReadOnly(!0).setHandler(function(b){a([])}).setErrorHandler(function(a){c([])}).setTimeoutHandler(k,function(a){c([])}).send()})}};e.exports=a}),null);
__d("RlAlgebra",["Random"],(function(a,b,c,d,e,f){__p&&__p();a={matrixMultiply:function(a,b){__p&&__p();if(a.length==0||a[0].length==0||b.length==0)throw new Error("Matrix or vector has 0 size.");var c=[];for(var d=0;d<a.length;d++){if(a[d].length!==b.length)throw new Error("Matrix and vector not compatible");var e=0;for(var f=0;f<b.length;f++)e+=a[d][f]*b[f];c.push(e)}return c},vectorAdd:function(a,b){if(a.length!==b.length)throw new Error("Two vectors have different length");var c=[];for(var d=0;d<a.length;d++)c.push(a[d]+b[d]);return c},vectorRelu:function(a){var b=[];for(var c=0;c<a.length;c++)a[c]>0?b.push(a[c]):b.push(0);return b},vectorSoftmax:function(a){__p&&__p();if(a.length==0)throw new Error("vector length is 0");var b=[],c=0,d=Math.max.apply(Math,a);for(var e=0;e<a.length;e++){var f=Math.exp(a[e]-d);b.push(f);c+=f}for(var f=0;f<a.length;f++)b[f]/=c;return b},vectorSample:function(a,c){__p&&__p();c===void 0&&(c=1e-6);if(a.length==0)throw new Error("vector length is 0");var d=1/c,e=[],f=0;for(var g=0;g<a.length;g++)f+=a[g],e.push(f);if(Math.abs(e[e.length-1]-1)>c)throw new Error("probability distribution does not sum to 1");g=(Math.floor(b("Random").random()*d)+1)/d;f=-1;for(var a=0;a<e.length;a++)if(g<=e[a]){f=a;break}return f},policyInference:function(a,b,c,d){__p&&__p();var e=[];for(var f=0;f<d.length;f++){var g=[].concat(c,d[f]);g=g;for(var h=0;h<a.length;h++)g=this.matrixMultiply(a[h],g),g=this.vectorAdd(g,b[h]),h<a.length-1&&(g=this.vectorRelu(g));e.push(g[0])}h=this.vectorSoftmax(e);return h}};e.exports=a}),null);
__d("StaleVideoMonitor",["EventEmitter","EventListener","SubscriptionsHandler","clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g,h=1500;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$StaleVideoMonitor4=null,this.$StaleVideoMonitor1=new(b("SubscriptionsHandler"))(),this.$StaleVideoMonitor2=a.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor5=a,this.$StaleVideoMonitor1.addSubscriptions(b("EventListener").listen(a,"playing",function(){return this.$StaleVideoMonitor6()}.bind(this)),b("EventListener").listen(a,"play",function(){return this.$StaleVideoMonitor6()}.bind(this)),b("EventListener").listen(a,"timeupdate",function(){return this.$StaleVideoMonitor6()}.bind(this)))}a.prototype.$StaleVideoMonitor7=function(){"use strict";__p&&__p();if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var a=this.$StaleVideoMonitor5.currentTime,c=this.$StaleVideoMonitor5.buffered,d=!1,e;for(e=0;e<c.length;++e){var f=c.start(e),g=c.end(e);if(f>a)break;if(f<=a&&g>=a+1){d=!0;break}}d&&(a===this.$StaleVideoMonitor2?this.emit("stale",b("performanceNow")()-this.$StaleVideoMonitor3,(a-this.$StaleVideoMonitor2)*1e3):this.$StaleVideoMonitor8())}};a.prototype.$StaleVideoMonitor9=function(a){"use strict";this.$StaleVideoMonitor10(),this.$StaleVideoMonitor4=b("setTimeout")(function(){return this.$StaleVideoMonitor7()}.bind(this),a)};a.prototype.$StaleVideoMonitor10=function(){"use strict";this.$StaleVideoMonitor4!==null&&(b("clearTimeout")(this.$StaleVideoMonitor4),this.$StaleVideoMonitor4=null)};a.prototype.$StaleVideoMonitor8=function(){"use strict";this.$StaleVideoMonitor6()};a.prototype.$StaleVideoMonitor6=function(){"use strict";this.$StaleVideoMonitor5&&(this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor9(h))};a.prototype.$StaleVideoMonitor11=function(){"use strict";this.$StaleVideoMonitor1&&this.$StaleVideoMonitor1.release()};a.prototype.notifyBuffering=function(){"use strict";this.$StaleVideoMonitor10()};a.prototype.notifyBuffered=function(){"use strict";this.$StaleVideoMonitor9(h)};a.prototype.destroy=function(){"use strict";this.$StaleVideoMonitor11(),this.$StaleVideoMonitor10(),this.$StaleVideoMonitor5=null};e.exports=a}),null);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=[],this.$1=a}a.prototype.start=function(a){"use strict";this.$1[a]||g(0,2205);return this.$1[a].startTime};a.prototype.end=function(a){"use strict";this.$1[a]||g(0,2205);return this.$1[a].endTime};a.prototype.length=function(){"use strict";return this.$1.length};e.exports=a}),null);
__d("VideoData",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){"use strict";this.$1=a||{aspect_ratio:0,original_height:0,original_width:0,video_id:""}}h.prototype.hasHD=function(){"use strict";return!!this.$1.hd_src};h.prototype.getEncodingTag=function(){"use strict";return this.$1.encoding_tag};h.prototype.getContentCategory=function(){"use strict";return this.$1.content_category};h.prototype.getVideoID=function(){"use strict";return this.$1.video_id};h.prototype.getVideoURL=function(){"use strict";return this.$1.video_url};h.prototype.getAspectRatio=function(){"use strict";return this.$1.aspect_ratio};h.prototype.getRotation=function(){"use strict";return this.$1.rotation||0};h.prototype.hasSubtitles=function(){"use strict";return!!this.$1.subtitles_src};h.prototype.hasDashManifest=function(){"use strict";return!!this.$1.dash_manifest};h.prototype.getDashManifest=function(){"use strict";return this.$1.dash_manifest};h.prototype.hasHighlightsManifest=function(){"use strict";return!!this.$1.highlights_manifest};h.prototype.getHighlightsManifest=function(){"use strict";return this.$1.highlights_manifest};h.prototype.getDashPrefetchedRepresentationIDs=function(){"use strict";return this.$1.dash_prefetched_representation_ids};h.prototype.getSubtitlesSrc=function(){"use strict";this.$1.subtitles_src||g(0,1109);return this.$1.subtitles_src};h.prototype.getPlayableSrcSD=function(){"use strict";return this.$1.sd_src_no_ratelimit?this.$1.sd_src_no_ratelimit:this.getPlayableSrcRateLimitedSD()};h.prototype.getPlayableSrcHD=function(){"use strict";return this.$1.hd_src_no_ratelimit?this.$1.hd_src_no_ratelimit:this.getPlayableSrcRateLimitedHD()};h.prototype.getPlayableSrcRateLimitedSD=function(){"use strict";return this.$1.sd_src};h.prototype.getPlayableSrcRateLimitedHD=function(){"use strict";return this.$1.hd_src};h.prototype.getLiveManifestUrl=function(){"use strict";this.isLiveStream()||g(0,1110);return this.getPlayableSrcRateLimitedSD()};h.prototype.hasRateLimit=function(){"use strict";return!!this.$1.sd_src_no_ratelimit};h.prototype.getStreamType=function(){"use strict";this.$1.stream_type||g(0,1111);return this.$1.stream_type};h.prototype.isBroadcast=function(){"use strict";return!!this.$1.is_broadcast};h.prototype.isServableViaFbms=function(){"use strict";return!!this.$1.is_servable_via_fbms};h.prototype.isLiveStream=function(){"use strict";return!!this.$1.is_live_stream};h.prototype.isLowLatency=function(){"use strict";return!!this.$1.is_low_latency};h.prototype.getDesiredLatencyMs=function(){"use strict";return this.$1.desired_latency_ms};h.prototype.isPredictiveDash=function(){"use strict";return!!this.$1.is_predictive_dash};h.prototype.isEnabledForCVCv3=function(){"use strict";return!!this.$1.is_enabled_for_cvc_v3};h.prototype.isFacecastAudio=function(){"use strict";return!!this.$1.is_facecast_audio};h.prototype.liveRoutingToken=function(){"use strict";return this.$1.live_routing_token};h.prototype.getHDTag=function(){"use strict";return this.$1.hd_tag};h.prototype.getSDTag=function(){"use strict";return this.$1.sd_tag};h.prototype.getProjection=function(){"use strict";return this.$1.projection};h.prototype.getPlayerVersionOverwrite=function(){"use strict";return this.$1.player_version_overwrite};h.prototype.getFalloverData=function(){"use strict";var a=this.$1.fallover_data;return a?a.map(function(a){return new h(a)}):[]};h.prototype.getSphericalConfig=function(){"use strict";return this.$1.spherical_config};h.prototype.isSpherical=function(){"use strict";return!!this.$1.is_spherical};h.prototype.getOriginalHeight=function(){"use strict";return this.$1.original_height};h.prototype.getOriginalWidth=function(){"use strict";return this.$1.original_width};h.prototype.getOverrideConfig=function(){"use strict";return this.$1.override_config};h.prototype.getRawData=function(){"use strict";return this.$1};h.prototype.getPrefetchCache=function(){"use strict";return this.$1.prefetch_cache};h.prototype.getWidevineCert=function(){"use strict";return this.$1.widevine_cert};e.exports=h}),null);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}f="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b={h264baseline:a(g,b(30),f),h264main30avc:a(g,c(30),f),h264main31avc:a(g,c(31),f),h264high50avc:a(g,d(50),f),h264high51avc:a(g,d(51),f)};e.exports=b}),null);
__d("canVideoPlayType",["DOM"],(function(a,b,c,d,e,f){var g=null;function a(a){g=g||b("DOM").create("video");return!("canPlayType"in g)?"":g.canPlayType(a)}e.exports=a}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("VideoPlayerMetaData",["regeneratorRuntime","Promise","AsyncRequest","AsyncResponse","TimeSlice","VideoData","XVideoDataAsyncController","isHTML5VideoImplementationUnavailable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=12e4;function i(a){this.videoID=a}i.prototype.getVideoID=function(){return this.videoID};i.prototype.genVideoData=function(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a===void 0&&(a={});e.prev=1;d=this.$1;(!d||a.forceRefetch)&&(this.$2&&(clearTimeout(this.$2),this.$2=null),d=this.$1=this.$3(a),this.$2=setTimeout(b("TimeSlice").guard(function(){this.$1=null,c()}.bind(this),"VideoPlayerMetaData cacheTimeout",{propagationType:b("TimeSlice").PropagationType.ORPHAN}),a.cacheTimeout||h));e.next=6;return b("regeneratorRuntime").awrap(d);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9;e.t0=e["catch"](1);throw e.t0;case 12:case"end":return e.stop()}},null,this,[[1,9]])};i.prototype.$3=function(a){__p&&__p();var c=b("XVideoDataAsyncController").getURIBuilder().setString("video_id",this.videoID).setBool("supports_html5_video",!b("isHTML5VideoImplementationUnavailable")(!0)),d=a.forceFlash,e=a.allowDashPrefetch;a=a.forceHD;d!==void 0&&(c=c.setBool("force_flash",d));e!==void 0&&(c=c.setBool("allow_dash_prefetch",e));a!==void 0&&(c=c.setBool("force_hd",a));var f=c.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(f).setMethod("GET").setURI(f).setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(d){d=d.payload;!d.error?a(new(b("VideoData"))(d)):c(d.error)}).setErrorHandler(function(a){c(a.getErrorDescription())}).send()})};i.get=function(a){g[a]||(g[a]=new i(a));return g[a]};i.genVideoData=function(a,c,d){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c===void 0&&(c={});d===void 0&&(d=function(){});e.next=4;return b("regeneratorRuntime").awrap(i.get(a).genVideoData(c,d));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},null,this)};e.exports=i}),null);
__d("VideoPlayerUtils",[],(function(a,b,c,d,e,f){__p&&__p();a={getBufferedAheadOf:function(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}};e.exports=a}),null);
__d("VideoPushParametersHelper",["URI","VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=/(.*)\.(xx|fna)\.fbcdn\.net/;function a(a){"use strict";this.$1=new(b("URI"))(a);return this}a.prototype.setStreamEndOffset=function(a){"use strict";this.$2=Math.min(Math.floor(a)+1,b("VideoPlayerShakaGlobalConfig").getNumber("live_max_segments_to_push",2));this.$4=Math.floor(a)+1;return this};a.prototype.setSegmentStartTime=function(a){"use strict";this.$3=a;return this};a.prototype.setPushVideoRepresentationID=function(a){"use strict";this.$5=a;return this};a.prototype.setPushAudioRepresentationID=function(a){"use strict";this.$6=a;return this};a.prototype.setUseLongCacheForManifest=function(a){"use strict";this.$7=a;return this};a.prototype.getURL=function(){"use strict";var a=this.getPushQueryParameters();a.forEach(function(a,b){this.$1.addQueryData(b,a)}.bind(this));return this.$1.toString()};a.prototype.getPushQueryParameters=function(){"use strict";var a=new Map(),c=g.test(this.$1.toString());c&&b("VideoPlayerShakaGlobalConfig").getBool("live_send_push_headers",!0)&&(this.$2!=null&&a.set("_nc_p_n",this.$2),this.$3!=null?a.set("_nc_p_ts",this.$3):this.$4!=null&&a.set("_nc_p_o",this.$4),this.$5!=null&&this.$6!=null&&(a.set("_nc_p_rid",this.$5),a.set("_nc_p_arid",this.$6)),this.$7&&a.set("_nc_nc","1"));return a};a.prototype.getSegmentsToPush=function(){"use strict";return this.$2};a.prototype.getSegmentStartTime=function(){"use strict";return this.$3};a.prototype.getSegmentOffset=function(){"use strict";return this.$4};a.prototype.getPushVideoRepresentationID=function(){"use strict";return this.$5};a.prototype.getPushAudioRepresentationID=function(){"use strict";return this.$6};a.prototype.getUseLongCacheForManifest=function(){"use strict";return this.$7};e.exports=a}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function(a,b,c,d,e,f){e.exports=b("VideoQualityClassInternal").orderedValues}),null);
__d("VideoVisibilityObserver",["EventEmitter","IntersectionObserver","VideoPlayerExperiments","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){__p&&__p();var g,h=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];c=44;var i="-"+c+"px 0px 0px";d=babelHelpers.inherits(a,b("EventEmitter"));g=d&&d.prototype;function a(a){"use strict";__p&&__p();g.constructor.call(this);this.$VideoVisibilityObserver4=function(a){a=a[a.length-1];var c=this.$VideoVisibilityObserver1,d=this.$VideoVisibilityObserver2;this.$VideoVisibilityObserver1=a.intersectionRatio;this.$VideoVisibilityObserver2=b("intersectionObserverEntryIsIntersecting")(a);(c!==this.$VideoVisibilityObserver1||d!==this.$VideoVisibilityObserver2)&&this.emit("visibilityChanged",this.$VideoVisibilityObserver1)}.bind(this);this.$VideoVisibilityObserver1=0;this.$VideoVisibilityObserver2=!1;var c=h,d=b("VideoPlayerExperiments").videoVisibilityObserverUseMinimumThreshold;d&&(c=[.5]);this.$VideoVisibilityObserver3=new(b("IntersectionObserver"))(this.$VideoVisibilityObserver4,{threshold:c,rootMargin:i});this.$VideoVisibilityObserver3.observe(a)}a.prototype.destroy=function(){"use strict";this.$VideoVisibilityObserver3&&(this.$VideoVisibilityObserver3.disconnect(),this.$VideoVisibilityObserver3=null)};a.prototype.getIsIntersecting=function(){"use strict";return this.$VideoVisibilityObserver2};a.prototype.getCurrentIntersectionRatio=function(){"use strict";return this.$VideoVisibilityObserver1};e.exports=a}),null);
__d("VideoWatchTimeTracker",["VideoPlayerUtils"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=this.$2.currentTime,this.$12=0,this.$13=0,this.$14=null,this.STATE_PAUSE="pause",this.STATE_PLAYING="playing",this.STATE_BUFFERING_START="buffering_start",this.STATE_BUFFERING_END="buffering_end"}a.prototype.$15=function(){"use strict";var a=Math.max(this.$2.currentTime-this.$11,0);this.$4+=a;this.$3+=a;this.$11=this.$2.currentTime};a.prototype.$16=function(a){"use strict";if(this.$13>0){a=Math.max(a-this.$13,0);this.$8+=a;this.$7+=a}};a.prototype.$17=function(){"use strict";var a=b("VideoPlayerUtils").getBufferedAheadOf(this.$2),c=Math.max(this.$2.currentTime+a-this.$11-this.$12,0);this.$10+=c;this.$9+=c;this.$12=a};a.prototype.seekStart=function(){"use strict";this.$17(),this.$15()};a.prototype.seekEnd=function(){"use strict";this.$11=this.$2.currentTime,this.$12=b("VideoPlayerUtils").getBufferedAheadOf(this.$2)};a.prototype.pause=function(){"use strict";this.$14=this.STATE_PAUSE,this.$17(),this.$15()};a.prototype.playing=function(){"use strict";this.$17(),this.$15(),this.$14=this.STATE_PLAYING};a.prototype.bufferingStart=function(a){"use strict";this.$14!=this.STATE_PAUSE?(this.$13=a,this.$6+=1,this.$5+=1):(this.$11=this.$2.currentTime,this.$12=b("VideoPlayerUtils").getBufferedAheadOf(this.$2)),this.$14=this.STATE_BUFFERING_START};a.prototype.bufferingEnd=function(a){"use strict";this.$17(),this.$15(),this.$16(a),this.$14=this.STATE_BUFFERING_END,this.$13=0};a.prototype.update=function(a){"use strict";this.$14==this.STATE_PLAYING?(this.$17(),this.$15()):this.$14==this.STATE_BUFFERING_START&&this.$16(a)};a.prototype.getWatchTimeSinceLastReport=function(){"use strict";var a=this.$4;this.$4=0;return a};a.prototype.getTotalWatchTime=function(){"use strict";return this.$3};a.prototype.getStallTimeSinceLastReport=function(){"use strict";var a=this.$8;this.$8=0;return a};a.prototype.getTotalStallTime=function(){"use strict";return this.$7};a.prototype.getStallCountSinceLastReport=function(){"use strict";var a=this.$6;this.$6=0;return a};a.prototype.getTotalStallCount=function(){"use strict";return this.$5};a.prototype.getBufferedTimeSinceLastReport=function(){"use strict";var a=this.$10;this.$10=0;return a};a.prototype.getTotalBufferedTime=function(){"use strict";return this.$9};a.prototype.getGuid=function(){"use strict";return this.$1};e.exports=a}),null);
__d("VideoWithFallbackMode",["Event","SubscriptionsHandler","TimeSlice","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerReason","Visibility"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";this.$1=!1,this.$2=!1,this.$5=function(){this.$1=!0,b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&this.$2&&(this.$6.play(b("VideoPlayerReason").FALLBACK_MODE),this.$2=!1)}.bind(this),this.$8=function(){this.$1=!1}.bind(this),this.$3=new(b("SubscriptionsHandler"))(),c||(c=a,a=null),this.$4=c,a&&this.enable(a)}a.prototype.enable=function(a){"use strict";__p&&__p();this.$3.engage();this.$6=a;if(this.$6.isImplementationUnavailable()||this.$6.getOption("SphericalVideoPlayer","isUnavailable")){this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_UNAVAILABLE);return}this.$3.addSubscriptions(b("Event").listen(window,"blur",this.$8),b("Event").listen(window,"focus",this.$5),b("Visibility").addListener(b("Visibility").HIDDEN,this.$8),b("Visibility").addListener(b("Visibility").VISIBLE,this.$5),a.addListener("error",this.$9.bind(this)));if(this.$4.fallbackTimeoutMs){a=this.$4.fallbackTimeoutMs;this.$10=setTimeout(b("TimeSlice").guard(function(){this.$6.isState("loading")&&(this.$6.pause(b("VideoPlayerReason").FALLBACK_MODE),this.$7(b("VideoPlayerLoggerFallbackReasons").TIMEOUT),this.$2=!0)}.bind(this),"VideoWithFallbackMode fallbackTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),a)}};a.prototype.disable=function(){"use strict";this.$3.release(),clearTimeout(this.$10),this.$10=null,this.$6=null};a.prototype.$9=function(a){"use strict";if(this.$6.isState("fallback"))return;this.$6.isState("playing")&&this.$6.pause(b("VideoPlayerReason").FALLBACK_MODE);this.$6.abortLoading();a?this.$7(a):(this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_ERROR),this.$2=!0)};a.prototype.$7=function(a){"use strict";if(b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&!this.$1)return;this.$6.setState("fallback");a===b("VideoPlayerLoggerFallbackReasons").TIMEOUT&&this.$6.emit("VideoWithStallRecoveryOverlay/timeout");this.$6.logEvent(b("VideoPlayerLoggerEvent").ENTERED_FALLBACK,{debug_reason:a})};e.exports=a}),null);
__d("VideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["buffered","buffering","bufferingProgress","beginPlayback","updateStatus","logEvent","pausePlayback","playbackNotAllowed","clickVideo","clickForTracking","finishPlayback","unmuteVideo","muteVideo","changeVolume","turnOffAutoplay","updateBuffer","updateMetadata","qualityChange","updateViewportBegin","updateViewportMove","updateViewportEnd","dimensionsChange","viewportChange","wheelScroll","error","loadedSubtitles","toggleSubtitles","toggleFullscreen","seekEnd","seekRangeChanged","streamInterrupted","streamResumed","networkInterrupted","networkResumed","debug/dashPlayerEvent","abortedLoading","restoringAfterAbort","restoredAfterAbort","sphericalOrientationChange","videoNodeStaled","switchReplica"];e.exports=a}),null);
__d("AbstractVideoPlayerApi",["invariant","EventEmitter","VideoPlayerApiEvents"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(a,b("EventEmitter"));i=h&&h.prototype;a.prototype.addListener=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.addListener.apply(this,b)};a.prototype.emit=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.emit.apply(this,b)};a.prototype.setRelativeSphericalOrientation=function(a,b){"use strict"};a.isImplementationUnavailable=function(){"use strict";return!0};a.prototype.isDrm=function(){"use strict";return!1};a.prototype.setup=function(){"use strict"};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("VideoConfig",[],(function(a,b,c,d,e,f){function a(a){Object.assign(this,a)}e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c){"use strict";g.constructor.call(this),this.$MediaBufferingDetector1=a,this.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))(),this.$MediaBufferingDetector1.paused||this.$MediaBufferingDetector8(),this.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(this.$MediaBufferingDetector1,"playing",function(){return this.$MediaBufferingDetector9()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"pause",function(){return this.$MediaBufferingDetector10()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"ended",function(){return this.$MediaBufferingDetector11()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"timeupdate",function(){return this.$MediaBufferingDetector12()}.bind(this))),this.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&this.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(this.$MediaBufferingDetector1,"waiting",function(){return this.$MediaBufferingDetector14()}.bind(this)))}a.prototype.$MediaBufferingDetector15=function(){"use strict";var a=b("performanceNow")(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};a.prototype.$MediaBufferingDetector18=function(){"use strict";this.$MediaBufferingDetector5=b("performanceNow")(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};a.prototype.$MediaBufferingDetector8=function(){"use strict";if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return this.$MediaBufferingDetector15()}.bind(this),500)};a.prototype.$MediaBufferingDetector19=function(){"use strict";b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};a.prototype.$MediaBufferingDetector16=function(){"use strict";if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};a.prototype.$MediaBufferingDetector17=function(){"use strict";if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};a.prototype.$MediaBufferingDetector9=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};a.prototype.$MediaBufferingDetector10=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};a.prototype.$MediaBufferingDetector11=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};a.prototype.$MediaBufferingDetector12=function(){"use strict";this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};a.prototype.$MediaBufferingDetector14=function(){"use strict";this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};a.prototype.$MediaBufferingDetector13=function(a,c){"use strict";return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};a.prototype.destroy=function(){"use strict";b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}a.prototype.updateFrameBuffer=function(){"use strict";__p&&__p();this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};a.prototype.getDOMNode=function(){"use strict";return this.$1};a.prototype.updateDimensions=function(a,b){"use strict";this.$4=a,this.$5=b};e.exports=a}),null);
__d("VideoPlaybackQuality",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().droppedVideoFrames;a=a.webkitDroppedFrameCount;return typeof a==="number"?a:0}function b(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().totalVideoFrames;a=a.webkitDecodedFrameCount;return typeof a==="number"?a:0}e.exports={getDroppedFrames:a,getTotalFrames:b}}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=i(a,function(){if(!c)return;c.remove();c=null;for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];b.apply(this,d)}.bind(this))};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=h(a,function(){c.remove();for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];b.apply(this,d)}.bind(this))};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("VideoPlayerHTML5Api",["cx","Promise","regeneratorRuntime","AbstractVideoPlayerApi","Arbiter","Bootloader","CSS","Deferred","DOM","DOMDimensions","Event","EventListener","FBLogger","HVideoPlayerMixin","MediaBufferingDetector","Run","StaleVideoMonitor","SubscriptionsHandler","TimeRanges","VideoData","VideoFrameBuffer","VideoPlaybackQuality","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoPlayerVersions","VideoQualityClasses","VideoWatchTimeTracker","classWithMixins","clearTimeout","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","getHTMLMediaElementMutedState","isHTML5VideoImplementationUnavailable","mixin","onCanPlayHTMLMediaElement","requireWeak","seekHTMLMediaElementTo","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("VideoPlaybackQuality").getDroppedFrames,j=b("VideoPlaybackQuality").getTotalFrames,k=null;b("requireWeak")("TVViewerConfigsManager",function(a){return k=a});function l(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function m(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}var n=-1,o=.05,p=476,q=476;a=babelHelpers.inherits(r,b("classWithMixins")(b("AbstractVideoPlayerApi"),b("mixin")(b("HVideoPlayerMixin"))));h=a&&a.prototype;function r(a,c){"use strict";__p&&__p();h.constructor.call(this);this.$VideoPlayerHTML5Api37=a;this.$VideoPlayerHTML5Api43=c?c.shakaConfig:null;this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api37.id;this.preventSeekLoggingInMixin=!0;this.$VideoPlayerHTML5Api62("allow_seek_logging_in_mixin",!1)&&(this.preventSeekLoggingInMixin=!1);a=this.$VideoPlayerHTML5Api63();this.$VideoPlayerHTML5Api55=a.width;this.$VideoPlayerHTML5Api14=a.height;c?this.$VideoPlayerHTML5Api9=c:this.$VideoPlayerHTML5Api9=JSON.parse(this.$VideoPlayerHTML5Api37.getAttribute("data-config"));this.$VideoPlayerHTML5Api5=new(b("MediaBufferingDetector"))(this.$VideoPlayerHTML5Api37,this.$VideoPlayerHTML5Api43);this.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api64()}.bind(this));this.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api65()}.bind(this));this.$VideoPlayerHTML5Api24=n;this.$VideoPlayerHTML5Api26=b("getHTMLMediaElementMutedState")(this.$VideoPlayerHTML5Api37);this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume;this.$VideoPlayerHTML5Api25=!1;this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api30=!1;this.$VideoPlayerHTML5Api3=!1;this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api37.getAttribute("preload")=="auto";this.$VideoPlayerHTML5Api33=null;this.$VideoPlayerHTML5Api39=new(b("StaleVideoMonitor"))(this.$VideoPlayerHTML5Api37);this.$VideoPlayerHTML5Api39.addListener("stale",function(a,b){return this.$VideoPlayerHTML5Api66(a,b)}.bind(this));this.$VideoPlayerHTML5Api12=!1;this.$VideoPlayerHTML5Api42=!1;this.$VideoPlayerHTML5Api9.lazyPreload&&(this.$VideoPlayerHTML5Api9.onafterloadRegister?b("Run").onAfterLoad(function(){return this.$VideoPlayerHTML5Api37.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload)}.bind(this)):this.$VideoPlayerHTML5Api37.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload));this.$VideoPlayerHTML5Api11=this.$VideoPlayerHTML5Api9.disableNativeControls;this.$VideoPlayerHTML5Api46=this.$VideoPlayerHTML5Api9.subtitlesActive;this.$VideoPlayerHTML5Api67();this.preventPauseLoggingInMixin=!1;this.$VideoPlayerHTML5Api44=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api9.useRateLimited;this.$VideoPlayerHTML5Api69(!1);a=b("VideoQualityClasses").indexOf("hd");this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api9.minQuality!==null&&b("VideoQualityClasses").indexOf(this.$VideoPlayerHTML5Api9.minQuality)>=a;this.$VideoPlayerHTML5Api27=this.$VideoPlayerHTML5Api9.minQuality;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api9.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api9.accessToken;this.$VideoPlayerHTML5Api40=this.$VideoPlayerHTML5Api9.startTimestamp;this.$VideoPlayerHTML5Api34=o;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api9.autoFullscreenHD;this.$VideoPlayerHTML5Api31=null;this.$VideoPlayerHTML5Api56=!1;this.$VideoPlayerHTML5Api57=!1;this.$VideoPlayerHTML5Api58=this.$VideoPlayerHTML5Api9.unloadShouldCancelPendingRequest;this.$VideoPlayerHTML5Api52=this.$VideoPlayerHTML5Api43?this.$VideoPlayerHTML5Api43.getBool("enable_video_watch_time_tracker",!1)?new(b("VideoWatchTimeTracker"))(this.$VideoPlayerHTML5Api9.playerInstanceKey,this.$VideoPlayerHTML5Api37):null:null}r.prototype.setup=function(){"use strict";this.switchVideo(0),this.initLogger(this.$VideoPlayerHTML5Api70.bind(this),this.$VideoPlayerHTML5Api9.useEventTime,this.$VideoPlayerHTML5Api62("overwrite_video_current_time_property",!1),this.$VideoPlayerHTML5Api62("fix_overwritten_get_video_current_time",!1),this.$VideoPlayerHTML5Api62("fire_seek_events",!1),this.$VideoPlayerHTML5Api62("fix_pause_current_time_in_mixin",!1)),this.$VideoPlayerHTML5Api71()};r.prototype.getAdClientToken=function(){"use strict";this.$VideoPlayerHTML5Api9.ad_client_token};r.prototype.$VideoPlayerHTML5Api66=function(a,c){"use strict";this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").STALE,{stale_detect_time_delta:a,stale_video_current_time_delta:c}),this.$VideoPlayerHTML5Api9.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs==="number"&&this.seek(this.getCurrentTimePosition()+this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs/1e3),b("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled&&this.emit("videoNodeStaled")};r.prototype.$VideoPlayerHTML5Api64=function(){"use strict";this.emit("buffering"),this.$VideoPlayerHTML5Api39.notifyBuffering(),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.bufferingStart(Date.now())};r.prototype.$VideoPlayerHTML5Api65=function(){"use strict";this.emit("buffered"),this.$VideoPlayerHTML5Api39.notifyBuffered(),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.bufferingEnd(Date.now())};r.prototype.$VideoPlayerHTML5Api72=function(a){"use strict";this.emit("bufferingProgress",a)};r.prototype.$VideoPlayerHTML5Api73=function(a){"use strict";this.emit("switchReplica",a)};r.prototype.$VideoPlayerHTML5Api74=function(){"use strict";this.emit("networkInterrupted")};r.prototype.$VideoPlayerHTML5Api75=function(){"use strict";this.emit("networkResumed")};r.prototype.$VideoPlayerHTML5Api76=function(){"use strict";this.emit("streamInterrupted"),this.$VideoPlayerHTML5Api56=!0};r.prototype.$VideoPlayerHTML5Api77=function(){"use strict";this.emit("seekRangeChanged")};r.prototype.$VideoPlayerHTML5Api78=function(){"use strict";this.emit("streamResumed"),this.$VideoPlayerHTML5Api56=!1};r.prototype.$VideoPlayerHTML5Api62=function(a,c){"use strict";return this.$VideoPlayerHTML5Api43?this.$VideoPlayerHTML5Api43.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};r.prototype.getVideoPlayerShakaConfig=function(){"use strict";return this.$VideoPlayerHTML5Api43||b("VideoPlayerShakaGlobalConfig")};r.prototype.isStreamInterrupted=function(){"use strict";return this.$VideoPlayerHTML5Api56};r.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerHTML5Api10?this.$VideoPlayerHTML5Api10.getVideoID():this.$VideoPlayerHTML5Api9.video_id};r.prototype.getDroppedFrames=function(){"use strict";return i(this.$VideoPlayerHTML5Api37)};r.prototype.getTotalFrames=function(){"use strict";return j(this.$VideoPlayerHTML5Api37)};r.prototype.isDrm=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isDrm():!1};r.prototype.getDebug=function(){"use strict";return{VideoPlayerHTML5DashPlayer:this.$VideoPlayerHTML5Api38}};r.prototype.getDOMElement=function(){"use strict";return this.$VideoPlayerHTML5Api37};r.prototype.getVideoElement=function(){"use strict";return this.$VideoPlayerHTML5Api37};r.prototype.getSubscriptions=function(){"use strict";return this.$VideoPlayerHTML5Api44};r.onImplementationReady=function(a,b){"use strict";b()};r.prototype.destroy=function(a){"use strict";if(this.$VideoPlayerHTML5Api12)return;a=a||{};this.$VideoPlayerHTML5Api12=!0;this.$VideoPlayerHTML5Api79();b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api5.destroy();a.renderStillFrame?this.abortLoading(a):(b("VideoPlayerHTML5Experiments").destroyWithoutStillFrame?this.abortLoadingWithoutStillFrame():this.abortLoading(a),this.$VideoPlayerHTML5Api80(),this.$VideoPlayerHTML5Api81&&b("DOM").remove(this.$VideoPlayerHTML5Api81));b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api44.release()};r.prototype.getVideoInfo=function(){"use strict";if(!this.$VideoPlayerHTML5Api10)return null;var a=this.getAvailableVideoQualities();return{isHD:a&&this.getSelectedVideoQuality()==a[a.length-1],streamType:this.$VideoPlayerHTML5Api10.getStreamType(),hasHD:a&&a.length>1,areSubtitlesActive:this.areSubtitlesActive(),areSubtitlesAutogenerated:this.areSubtitlesAutogenerated(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api18,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api38?"DASH manifest":this.$VideoPlayerHTML5Api82(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api10.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api20,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api10.getSDTag(),tagHD:this.$VideoPlayerHTML5Api10.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api10.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api10.isLiveStream()?this.$VideoPlayerHTML5Api10.getLiveManifestUrl():null,isEnabledForCVCv3:this.$VideoPlayerHTML5Api10.isEnabledForCVCv3()}};r.isImplementationUnavailable=function(a){"use strict";return b("isHTML5VideoImplementationUnavailable")(a)};r.prototype.pause=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api22=a;if(a==="unloaded"&&!this.isPaused()){a=this.$VideoPlayerHTML5Api58||b("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;a&&this.$VideoPlayerHTML5Api17?this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:"unloaded"})):this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api57=!0;this.preventPauseLoggingInMixin=!0}this.$VideoPlayerHTML5Api83();this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.pause():this.$VideoPlayerHTML5Api37.pause()};r.prototype.$VideoPlayerHTML5Api69=function(a){"use strict";this.$VideoPlayerHTML5Api17=a};r.prototype.preload=function(){"use strict";this.$VideoPlayerHTML5Api32||(this.$VideoPlayerHTML5Api1&&this.$VideoPlayerHTML5Api84(),this.$VideoPlayerHTML5Api32=!0,this.$VideoPlayerHTML5Api37.setAttribute("preload","auto"))};r.prototype.isPreloading=function(){"use strict";return this.$VideoPlayerHTML5Api32};r.prototype.play=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api51||(this.$VideoPlayerHTML5Api51=a);this.$VideoPlayerHTML5Api23=a;if(!this.isPaused()){b("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent?(b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play"),b("setTimeout")(function(){return b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"playing")}.bind(this),0)):this.$VideoPlayerHTML5Api85();return}this.$VideoPlayerHTML5Api30=!0;this.$VideoPlayerHTML5Api69(!0);if(this.$VideoPlayerHTML5Api1){b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play");this.$VideoPlayerHTML5Api84();this.$VideoPlayerHTML5Api3=!0;return}this.$VideoPlayerHTML5Api86()};r.prototype.$VideoPlayerHTML5Api83=function(){"use strict";this.$VideoPlayerHTML5Api3&&this.isPaused()&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"pause"),this.$VideoPlayerHTML5Api69(!1),this.$VideoPlayerHTML5Api87()};r.prototype.$VideoPlayerHTML5Api87=function(){"use strict";this.$VideoPlayerHTML5Api30=!1,this.$VideoPlayerHTML5Api3=!1};r.prototype.$VideoPlayerHTML5Api88=function(){"use strict";this.$VideoPlayerHTML5Api37.setAttribute("preload","auto"),this.$VideoPlayerHTML5Api32=!0,this.$VideoPlayerHTML5Api37.load(),this.$VideoPlayerHTML5Api37.muted=this.$VideoPlayerHTML5Api26};r.prototype.seek=function(a){"use strict";__p&&__p();var b=this.$VideoPlayerHTML5Api62("clear_buffer_on_seek_back",!1),c=this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.getNumber("clear_buffer_on_seek_back_delta",0);this.$VideoPlayerHTML5Api38&&b&&typeof c==="number"&&this.$VideoPlayerHTML5Api37.currentTime-a>=c&&this.$VideoPlayerHTML5Api38.clearBufferAfterSeekingIfLowerQuality(a);this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.seekStart();this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api62("current_time_during_ready_state_zero_throws",!1))this.$VideoPlayerHTML5Api37.readyState!==0&&(this.$VideoPlayerHTML5Api37.currentTime=a);else try{this.$VideoPlayerHTML5Api37.currentTime=a}catch(a){}this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.seekEnd()};r.prototype.removeRotation=function(){"use strict";b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56jr"),b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56js"),b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56jt"),this.$VideoPlayerHTML5Api37.style.marginLeft="",this.$VideoPlayerHTML5Api37.style.marginTop="",this.$VideoPlayerHTML5Api37.style.width="",this.$VideoPlayerHTML5Api37.style.height=""};r.prototype.applyRotation=function(a){"use strict";__p&&__p();if(!a)return;b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56jr",a==90);b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56js",a==180);b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56jt",a==270);if(a==180)return;a=this.$VideoPlayerHTML5Api14;var c=this.$VideoPlayerHTML5Api55,d=(a-c)/2,e=(c-a)/2;this.$VideoPlayerHTML5Api37.style.marginLeft=e+"px";this.$VideoPlayerHTML5Api37.style.marginTop=d+"px";this.$VideoPlayerHTML5Api37.style.height=c+"px";this.$VideoPlayerHTML5Api37.style.width=a+"px"};r.prototype.$VideoPlayerHTML5Api89=function(a){"use strict";this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.setContext("content_category",a.getContentCategory()||"content_category"),this.$VideoPlayerHTML5Api43&&a.isLowLatency()?this.$VideoPlayerHTML5Api43.setContext("latency_level","low"):this.$VideoPlayerHTML5Api43&&a.isPredictiveDash()&&this.$VideoPlayerHTML5Api43.setContext("latency_level","predictive"),this.$VideoPlayerHTML5Api43&&a.isServableViaFbms()&&this.$VideoPlayerHTML5Api43.setContext("servable_via_fmbs",a.isServableViaFbms())};r.prototype.switchVideo=function(a){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Api9.videoData||this.$VideoPlayerHTML5Api9.videoData.length<=a)return;a=new(b("VideoData"))(this.$VideoPlayerHTML5Api9.videoData[a]);this.$VideoPlayerHTML5Api10=a;a.getOverrideConfig()&&this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.setOverrideConfig(a.getOverrideConfig());this.$VideoPlayerHTML5Api89(a);if((a.hasDashManifest()||a.isLiveStream())&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.isSupported(a)&&!this.$VideoPlayerHTML5Api9.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var c,d;this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api9.isHighlightEnabled&&a.hasHighlightsManifest();c=a.getDashManifest();a.isLiveStream()&&(d=a.getLiveManifestUrl());var e=a.getDashPrefetchedRepresentationIDs(),f=this.$VideoPlayerHTML5Api9.seekHandler,g=f;f&&(g=function(a){!this.getCurrentTimePosition()?this.$VideoPlayerHTML5Api37.currentTime=a:this.$VideoPlayerHTML5Api17?this.seek(a):f(a)}.bind(this));e=new this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api37,e,{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api9.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api27,maxPlayQuality:this.$VideoPlayerHTML5Api28,width:this.$VideoPlayerHTML5Api55,height:this.$VideoPlayerHTML5Api14,manifest:c,manifestUrl:d,isLive:a.isLiveStream(),isServableViaFbms:a.isServableViaFbms(),startTimestamp:this.$VideoPlayerHTML5Api40,videoID:this.getVideoID(),playerInstanceKey:this.$VideoPlayerHTML5Api9.playerInstanceKey,disableStreaming:this.$VideoPlayerHTML5Api9.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api9.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api9.playerSuborigin,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxHeight,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxWidth,useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Api9.useStrictTrackDimensionsExclusionLogic,isSpherical:this.$VideoPlayerHTML5Api9.isSpherical,getSource:this.$VideoPlayerHTML5Api9.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api9.vpcPlayingStateEmitter,seekHandler:g,streamPriorityAdjuster:this.$VideoPlayerHTML5Api9.streamPriorityAdjuster,videoLiveTrace:this.$VideoPlayerHTML5Api9.videoLiveTrace?this.$VideoPlayerHTML5Api9.videoLiveTrace:null,videoLicenseUri:this.$VideoPlayerHTML5Api9.videoLicenseUri?this.$VideoPlayerHTML5Api9.videoLicenseUri:null,prefetchCache:a.getPrefetchCache(),isGraphApiVideoLicenseUri:this.$VideoPlayerHTML5Api9.isGraphApiVideoLicenseUri,widevineCert:a.getWidevineCert(),videoWatchTimeTracker:this.$VideoPlayerHTML5Api52,desiredLatencyMs:a.getDesiredLatencyMs()});e.addListener("seekRangeChanged",function(){return this.$VideoPlayerHTML5Api77()}.bind(this));e.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api64()}.bind(this));e.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api65()}.bind(this));e.addListener("bufferingProgress",this.$VideoPlayerHTML5Api72.bind(this));e.addListener("tracksChanged",function(){return this.emit("qualityChange")}.bind(this));e.addListener("streamInterrupted",function(){return this.$VideoPlayerHTML5Api76()}.bind(this));e.addListener("streamResumed",function(){return this.$VideoPlayerHTML5Api78()}.bind(this));e.addListener("switchReplica",this.$VideoPlayerHTML5Api73.bind(this));e.addListener("networkInterrupted",function(){return this.$VideoPlayerHTML5Api74()}.bind(this));e.addListener("networkResumed",function(){return this.$VideoPlayerHTML5Api75()}.bind(this));e.addListener("adaptation",function(a){a=a.reason;b("VideoPlayerHTML5Experiments").dropQualityChange||this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").QUALITY_CHANGE,{reason:a});this.emit("qualityChange")}.bind(this));e.addListener("representation_ended",function(a){this.logRepresentationEnded(a)}.bind(this));e.addListener("blocked_paused_representation_ended",function(){this.onBlockedPausedRepresentationEnded()}.bind(this));e.addListener("debug/dashPlayerEvent",function(a){return this.emit("debug/dashPlayerEvent",a)}.bind(this));e.addListener("error",function(a){return this.$VideoPlayerHTML5Api90(a)}.bind(this));e.addListener("cea608AvailabilityChanged",function(){this.$VideoPlayerHTML5Api91()}.bind(this));e.addListener("cea608CaptionsParsed",function(a){this.$VideoPlayerHTML5Api61||(this.$VideoPlayerHTML5Api61=this.$VideoPlayerHTML5Api92()),this.$VideoPlayerHTML5Api61.then(function(b){b.appendFragments(a),this.$VideoPlayerHTML5Api91()}.bind(this))["catch"](function(a){return b("FBLogger")("video").catching(a).mustfix("Caught error in cea608 stream")})}.bind(this));e.setup();this.$VideoPlayerHTML5Api38=e}else{c=this.$VideoPlayerHTML5Api82();c&&(this.$VideoPlayerHTML5Api37.src=c);this.$VideoPlayerHTML5Api40&&this.seek(this.$VideoPlayerHTML5Api40)}this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();a.hasSubtitles()&&this.$VideoPlayerHTML5Api93(this.$VideoPlayerHTML5Api10.getSubtitlesSrc());this.removeRotation();this.applyRotation(a.getRotation())};r.prototype.switchToStreamType=function(a){"use strict"};r.prototype.replaceVideoDataFromURL=function(a){"use strict"};r.prototype.getDashAudioConfiguration=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getDashAudioConfiguration():"none"};r.prototype.getAudioStreamInfoIDDebug=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api38.getDebug();if(a.VideoSource){a=a.VideoSource.getAudioTracks();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.active)return d.streamInfoID}}}return null};r.prototype.getVideoTracksDebug=function(){"use strict";if(this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api38.getDebug();if(a.VideoSource)return a.VideoSource.getVideoTracks()}return null};r.prototype.getCurrentlyPlayingVideoStreamInfoID=function(){"use strict";var a=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api38)return a!=null?this.$VideoPlayerHTML5Api38.getVideoStreamInfoIDForTimePosition(a):null;else return this.$VideoPlayerHTML5Api19?this.$VideoPlayerHTML5Api10.getHDTag():this.$VideoPlayerHTML5Api10.getSDTag()};r.prototype.getCurrentlyPlayingAudioStreamInfoID=function(){"use strict";var a=this.getCurrentTimePosition();return this.$VideoPlayerHTML5Api38&&a!=null?this.$VideoPlayerHTML5Api38.getAudioStreamInfoIDForTimePosition(a):null};r.prototype.getLocalEstimator=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getLocalEstimator():null};r.prototype.unmute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!1;this.$VideoPlayerHTML5Api26=!1;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api37.muted=!1};r.prototype.mute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!0;this.$VideoPlayerHTML5Api26=!0;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api37.muted=!0};r.prototype.setRotation=function(a){"use strict";this.removeRotation(),this.applyRotation(a)};r.prototype.setDimensions=function(a,b){"use strict";this.removeRotation(),this.$VideoPlayerHTML5Api55=a,this.$VideoPlayerHTML5Api14=b,this.applyRotation(this.$VideoPlayerHTML5Api10.getRotation()),this.$VideoPlayerHTML5Api41&&this.$VideoPlayerHTML5Api41.updateDimensions(a,b),this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setDimensions(a,b),this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.setDimensions(a),this.emit("dimensionsChange",a,b)};r.prototype.setVideoStreamOffset=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setVideoStreamOffset(a)};r.prototype.$VideoPlayerHTML5Api94=function(){"use strict";this.$VideoPlayerHTML5Api37.controls=!this.$VideoPlayerHTML5Api11};r.prototype.$VideoPlayerHTML5Api67=function(){"use strict";this.$VideoPlayerHTML5Api37.controls=this.$VideoPlayerHTML5Api37.controls&&!this.$VideoPlayerHTML5Api11};r.prototype.$VideoPlayerHTML5Api68=function(){"use strict";this.$VideoPlayerHTML5Api13=b("EventListener").listen(this.$VideoPlayerHTML5Api37,"error",this.$VideoPlayerHTML5Api95.bind(this)),b("VideoPlayerMemLeakExperiments").clear_html5_error_handler||this.$VideoPlayerHTML5Api44.addSubscriptions(this.$VideoPlayerHTML5Api13),this.$VideoPlayerHTML5Api44.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Api37,"playing",this.$VideoPlayerHTML5Api96.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"play",this.$VideoPlayerHTML5Api85.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"ended",this.$VideoPlayerHTML5Api97.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"waiting",this.$VideoPlayerHTML5Api98.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"pause",this.$VideoPlayerHTML5Api99.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"volumechange",this.$VideoPlayerHTML5Api100.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"mousedown",this.$VideoPlayerHTML5Api101.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"mouseup",this.$VideoPlayerHTML5Api102.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"timeupdate",this.$VideoPlayerHTML5Api103.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"click",this.$VideoPlayerHTML5Api104.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"loadedmetadata",this.$VideoPlayerHTML5Api105.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"progress",this.$VideoPlayerHTML5Api106.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"seeked",this.$VideoPlayerHTML5Api107.bind(this)),b("EventListener").capture(this.$VideoPlayerHTML5Api37.parentNode,"pause",this.$VideoPlayerHTML5Api108.bind(this)))};r.prototype.$VideoPlayerHTML5Api109=function(a){"use strict";this.preventPauseLoggingInMixin=!1,a.preventDefault(),a.stopPropagation()};r.prototype.$VideoPlayerHTML5Api108=function(a){"use strict";if(a.target!==this.$VideoPlayerHTML5Api37)return;this.$VideoPlayerHTML5Api37.ended||(this.$VideoPlayerHTML5Api57&&this.$VideoPlayerHTML5Api109(a),a.lastPauseReason=this.$VideoPlayerHTML5Api22);this.$VideoPlayerHTML5Api57=!1;this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.pause()};r.prototype.$VideoPlayerHTML5Api106=function(){"use strict";__p&&__p();var a=this.$VideoPlayerHTML5Api37.buffered,b=0,c=0,d=a.length;while(d-->0){var e=a.end(d),f=a.start(d);if(f<=this.$VideoPlayerHTML5Api37.currentTime){c=f;b=e-f;break}}this.$VideoPlayerHTML5Api71();this.$VideoPlayerHTML5Api110("flash/updateBuffer",{duration:b,offset:c})};r.prototype.$VideoPlayerHTML5Api79=function(){"use strict";b("clearTimeout")(this.$VideoPlayerHTML5Api29)};r.prototype.$VideoPlayerHTML5Api71=function(){"use strict";this.$VideoPlayerHTML5Api79(),this.$VideoPlayerHTML5Api37.networkState===this.$VideoPlayerHTML5Api37.NETWORK_LOADING&&(this.$VideoPlayerHTML5Api29=b("setTimeout")(function(){return this.$VideoPlayerHTML5Api111()}.bind(this),r.networkTimeout))};r.prototype.$VideoPlayerHTML5Api111=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered,c=0;for(var d=0;d<a.length;d++){var e=a.start(d),f=a.end(d);c+=f-e}this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").NETWORK_TIMEOUT,{buffered:c})};r.prototype.$VideoPlayerHTML5Api103=function(){"use strict";var a;this.$VideoPlayerHTML5Api1?a=this.$VideoPlayerHTML5Api1.currentTime:a=this.$VideoPlayerHTML5Api37.currentTime;this.$VideoPlayerHTML5Api110("flash/updateStatus",{position:+a.toFixed(3)})};r.prototype.$VideoPlayerHTML5Api104=function(a){"use strict";if(a.button!==0)return;this.emit("clickVideo");a.preventDefault()};r.prototype.isPaused=function(){"use strict";return b("VideoPlayerHTML5Experiments").fixIE11EndedPausedState?this.$VideoPlayerHTML5Api37.paused||this.$VideoPlayerHTML5Api37.ended:this.$VideoPlayerHTML5Api37.paused};r.prototype.$VideoPlayerHTML5Api112=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered;return a.length>0&&a.start(0)===0&&a.end(0)===this.$VideoPlayerHTML5Api37.duration};r.prototype.$VideoPlayerHTML5Api98=function(){"use strict";if(this.$VideoPlayerHTML5Api62("drop_buffering_detection_from_html5_api",!1))return;this.$VideoPlayerHTML5Api112()||(this.$VideoPlayerHTML5Api54=!0,this.$VideoPlayerHTML5Api110("flash/buffering"))};r.prototype.setVolume=function(a){"use strict";this.$VideoPlayerHTML5Api37.volume=a};r.prototype.$VideoPlayerHTML5Api100=function(){"use strict";this.$VideoPlayerHTML5Api37.muted!==this.$VideoPlayerHTML5Api26&&this.$VideoPlayerHTML5Api37.volume===this.$VideoPlayerHTML5Api53&&this.$VideoPlayerHTML5Api37.volume>0?(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api37.muted,this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume,!this.$VideoPlayerHTML5Api37.muted?this.$VideoPlayerHTML5Api110("flash/unmuteVideo"):this.$VideoPlayerHTML5Api110("flash/muteVideo")):(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api37.muted,this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume,this.$VideoPlayerHTML5Api110("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api37.volume})),this.$VideoPlayerHTML5Api37.muted||this.$VideoPlayerHTML5Api110("flash/turnOffAutoplay",{reason:"unmuted"})};r.prototype.$VideoPlayerHTML5Api101=function(a){"use strict";a.button===0&&(this.$VideoPlayerHTML5Api25=!0)};r.prototype.$VideoPlayerHTML5Api102=function(a){"use strict";a.button===0&&(this.$VideoPlayerHTML5Api25=!1)};r.prototype.$VideoPlayerHTML5Api96=function(){"use strict";this.$VideoPlayerHTML5Api69(!1),this.$VideoPlayerHTML5Api54&&(this.$VideoPlayerHTML5Api54=!1,this.$VideoPlayerHTML5Api110("flash/buffered")),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.playing()};r.prototype.$VideoPlayerHTML5Api85=function(){"use strict";this.$VideoPlayerHTML5Api18=!0,this.$VideoPlayerHTML5Api94(),this.$VideoPlayerHTML5Api91(),this.$VideoPlayerHTML5Api110("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api37.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api23}),this.$VideoPlayerHTML5Api71()};r.prototype.$VideoPlayerHTML5Api99=function(a){"use strict";__p&&__p();var c=this.$VideoPlayerHTML5Api62("abort_loading_decisioning_logic",!1);if(this.$VideoPlayerHTML5Api37.ended||c&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)){this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);return}if(this.$VideoPlayerHTML5Api37.seeking&&this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").SEEK)return;if(!this.$VideoPlayerHTML5Api62("ignore_left_button_when_pausing",!0)&&this.$VideoPlayerHTML5Api25)return;if(this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").SEEK){this.$VideoPlayerHTML5Api22=null;return}(this.$VideoPlayerHTML5Api22===null||this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").USER)&&this.$VideoPlayerHTML5Api110("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api110("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api37.currentTime.toFixed(2)})};r.prototype.$VideoPlayerHTML5Api97=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);this.$VideoPlayerHTML5Api110("flash/finishPlayback");this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.hideSubtitles()};r.prototype.$VideoPlayerHTML5Api107=function(){"use strict";this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api37.currentTime.toFixed(3)})};r.prototype.getEstimatedBandwidth=function(){"use strict";return this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka?this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.getEstimatedBandwidth():null};r.prototype.$VideoPlayerHTML5Api105=function(){"use strict";this.$VideoPlayerHTML5Api110("flash/updateMetadata")};r.prototype.$VideoPlayerHTML5Api90=function(a){"use strict";this.emit("error",babelHelpers["extends"]({},a,{isPlayback:this.$VideoPlayerHTML5Api30}))};r.prototype.$VideoPlayerHTML5Api95=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api37.error)return;var a=this.$VideoPlayerHTML5Api37.error,b=a.message;b||(b=l(a.code));this.emit("error",{error:m(a.code),isPlayback:this.$VideoPlayerHTML5Api30,message:b})};r.prototype.$VideoPlayerHTML5Api70=function(a,c){"use strict";a===b("VideoPlayerLoggerEvent").STARTED_PLAYING&&this.$VideoPlayerHTML5Api38&&(c.longest_init_response_time=this.$VideoPlayerHTML5Api38.getLongestInitResponseTime()),c.projection=this.getVideoProjection(),this.$VideoPlayerHTML5Api110("flash/logEvent",{logData:babelHelpers["extends"]({event:a},c)})};r.prototype.$VideoPlayerHTML5Api110=function(a,c){"use strict";b("Arbiter").inform(a,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api15},c)),this.emit(a.substr("flash/".length),c)};r.prototype.getLastPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api23};r.prototype.getVideoPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api51};r.prototype.isMuted=function(){"use strict";return this.$VideoPlayerHTML5Api26};r.prototype.setPlaybackRate=function(a){"use strict";this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.setPlaybackRate(a):this.$VideoPlayerHTML5Api37.playbackRate=a};r.prototype.getPlaybackRate=function(){"use strict";if(this.$VideoPlayerHTML5Api38)return this.$VideoPlayerHTML5Api38.getPlaybackRate();else return this.$VideoPlayerHTML5Api37.playbackRate};r.prototype.getPlaybackDuration=function(){"use strict";return this.$VideoPlayerHTML5Api1?this.$VideoPlayerHTML5Api1.playbackDuration:this.$VideoPlayerHTML5Api37.duration||0};r.prototype.getVolume=function(){"use strict";return this.$VideoPlayerHTML5Api37.volume};r.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerHTML5Api37.currentTime};r.prototype.getBufferEndPosition=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered;if(a&&a.length>0){var b=a.length-1;return a.end(b)}return null};r.prototype.$VideoPlayerHTML5Api82=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api9.fallbackSources.HD?this.$VideoPlayerHTML5Api9.fallbackSources.HD:this.$VideoPlayerHTML5Api9.fallbackSources.SD;if(this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api10.hasHD())return this.$VideoPlayerHTML5Api113();else return this.$VideoPlayerHTML5Api114()};r.prototype.$VideoPlayerHTML5Api113=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedHD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcHD()};r.prototype.$VideoPlayerHTML5Api114=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedSD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcSD()};r.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerHTML5Api46=!this.$VideoPlayerHTML5Api46,this.$VideoPlayerHTML5Api91(),this.emit("toggleSubtitles")};r.prototype.hasSubtitles=function(){"use strict";return this.$VideoPlayerHTML5Api10.hasSubtitles()||!!this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.hasSubtitles()};r.prototype.areSubtitlesActive=function(){"use strict";return this.$VideoPlayerHTML5Api46};r.prototype.areSubtitlesAutogenerated=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.areSubtitlesAutogenerated():!1};r.prototype.areHLSActive=function(){"use strict";return!1};r.prototype.isRTMP=function(){"use strict";return!1};r.prototype.setSubtitlesStyle=function(a,b,c,d){"use strict";this.$VideoPlayerHTML5Api47=a,this.$VideoPlayerHTML5Api48=b,this.$VideoPlayerHTML5Api49=c,this.$VideoPlayerHTML5Api50=d};r.prototype.$VideoPlayerHTML5Api91=function(){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.hasSubtitles()&&this.$VideoPlayerHTML5Api38.enableSubtitles(this.$VideoPlayerHTML5Api46),this.$VideoPlayerHTML5Api46?this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.showSubtitles():this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.hideSubtitles()};r.prototype.$VideoPlayerHTML5Api115=function(){"use strict";this.$VideoPlayerHTML5Api18&&this.$VideoPlayerHTML5Api91(),this.emit("loadedSubtitles"),this.$VideoPlayerHTML5Api45.setSubtitlesStyle(this.$VideoPlayerHTML5Api47,this.$VideoPlayerHTML5Api48,this.$VideoPlayerHTML5Api49,this.$VideoPlayerHTML5Api50)};r.prototype.$VideoPlayerHTML5Api93=function(a){"use strict";__p&&__p();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(b,c){this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();var d=this.$VideoPlayerHTML5Api9.subtitleDrawer;c=new c(this.$VideoPlayerHTML5Api37,a);this.$VideoPlayerHTML5Api45=new b(this.$VideoPlayerHTML5Api37,c);this.$VideoPlayerHTML5Api45.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api115()}.bind(this));this.$VideoPlayerHTML5Api45.registerDrawer(d);this.$VideoPlayerHTML5Api45.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api")};r.prototype.$VideoPlayerHTML5Api92=function(){"use strict";__p&&__p();var a=new(b("Deferred"))();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(b,c){c=new c(this.$VideoPlayerHTML5Api37);a.resolve(c);this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();var d=this.$VideoPlayerHTML5Api9.subtitleDrawer;this.$VideoPlayerHTML5Api45=new b(this.$VideoPlayerHTML5Api37,c);this.$VideoPlayerHTML5Api45.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api115()}.bind(this));this.$VideoPlayerHTML5Api45.registerDrawer(d);this.$VideoPlayerHTML5Api45.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api");return a.getPromise()};r.prototype.setStillFrameEnabled=function(a){"use strict";this.$VideoPlayerHTML5Api42=!a};r.prototype.$VideoPlayerHTML5Api63=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api62("use_dimensions_fallbacks",!0)){var a=b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api37);if(a.width!==0&&a.height!==0)return a;else{a=this.$VideoPlayerHTML5Api37.getAttribute("data-video-width");var c=this.$VideoPlayerHTML5Api37.getAttribute("data-video-height");return{width:Number(a)||this.$VideoPlayerHTML5Api37.width||p,height:Number(c)||this.$VideoPlayerHTML5Api37.height||q}}}else return b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api37)};r.prototype.getDimensionsForDevice=function(){"use strict";var a=window.devicePixelRatio||1,b=this.$VideoPlayerHTML5Api63();return{width:b.width*a,height:b.height*a}};r.prototype.$VideoPlayerHTML5Api116=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api42)return;if(!this.$VideoPlayerHTML5Api41){var a=this.$VideoPlayerHTML5Api63();a=b("DOM").create("canvas",{width:a.width,height:a.height,className:"_3t5i"});b("DOM").insertAfter(this.$VideoPlayerHTML5Api37,a);this.$VideoPlayerHTML5Api41=a=new(b("VideoFrameBuffer"))(a,this.$VideoPlayerHTML5Api37)}else a=this.$VideoPlayerHTML5Api41;b("CSS").show(a.getDOMNode());a.updateFrameBuffer();b("CSS").hide(this.$VideoPlayerHTML5Api37)};r.prototype.$VideoPlayerHTML5Api80=function(){"use strict";if(!this.$VideoPlayerHTML5Api41)return;b("CSS").hide(this.$VideoPlayerHTML5Api41.getDOMNode());b("CSS").show(this.$VideoPlayerHTML5Api37)};r.prototype.$VideoPlayerHTML5Api84=function(a){__p&&__p();a===void 0&&(a=null);var c=this.$VideoPlayerHTML5Api1;if(!c)return;if(this.$VideoPlayerHTML5Api21)return;this.$VideoPlayerHTML5Api21=!0;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();a=a==null?c.currentTime:a;if(this.$VideoPlayerHTML5Api38)this.$VideoPlayerHTML5Api38.reload(a);else{var d=this.$VideoPlayerHTML5Api82();d&&(this.$VideoPlayerHTML5Api37.src=d);this.$VideoPlayerHTML5Api37.preload=c.preload}b("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api37,a,function(){this.$VideoPlayerHTML5Api80(),this.$VideoPlayerHTML5Api1&&(this.$VideoPlayerHTML5Api37.muted=this.$VideoPlayerHTML5Api1.mutedState,this.$VideoPlayerHTML5Api1=null,this.emit("restoredAfterAbort")),this.$VideoPlayerHTML5Api21=!1,b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api37,function(){return this.$VideoPlayerHTML5Api86()}.bind(this))}.bind(this))};r.prototype.abortLoadingWithoutStillFrame=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api1)return;var a=this.$VideoPlayerHTML5Api37.currentTime,c=this.isMuted(),d=this.$VideoPlayerHTML5Api37.duration,e=this.isPaused(),f=this.$VideoPlayerHTML5Api37.preload;if(b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_live_head_as_current_time",!1)&&this.$VideoPlayerHTML5Api10&&this.$VideoPlayerHTML5Api10.isLiveStream()){var g=this.getSeekableRanges();if(g){var h=g.length()-1;g=g.end(h);a=g}}this.$VideoPlayerHTML5Api32=!1;this.$VideoPlayerHTML5Api1={mutedState:c,currentTime:a,playbackDuration:d,preload:f};e&&this.$VideoPlayerHTML5Api18&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"pause");this.emit("abortedLoading");if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api38.unload();return}this.$VideoPlayerHTML5Api37.preload="none";this.$VideoPlayerHTML5Api37.removeAttribute("src");this.$VideoPlayerHTML5Api37.load()};r.prototype.abortLoading=function(a){"use strict";if(this.$VideoPlayerHTML5Api1)return;a=a||{};a.disableStillFrame||this.$VideoPlayerHTML5Api116();this.abortLoadingWithoutStillFrame()};r.prototype.setPreferredVideoQuality=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api31=a;if(!this.$VideoPlayerHTML5Api10)return;if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api38.setPreferredVideoQuality(a);return}b("VideoPlayerHTML5Experiments").newStateChangeCalculation||(this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"toggle_hd"})),this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,{reason:b("VideoPlayerReason").USER}));this.$VideoPlayerHTML5Api19=!this.$VideoPlayerHTML5Api19;var c=this.$VideoPlayerHTML5Api37.currentTime,d=this.$VideoPlayerHTML5Api37.muted,e=this.$VideoPlayerHTML5Api37.volume;a=this.$VideoPlayerHTML5Api82();a&&(this.$VideoPlayerHTML5Api37.src=a);b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api37,function(){this.$VideoPlayerHTML5Api37.currentTime=c,this.$VideoPlayerHTML5Api37.muted=d,this.$VideoPlayerHTML5Api37.volume=e,this.$VideoPlayerHTML5Api86(),this.emit("qualityChange")}.bind(this));this.$VideoPlayerHTML5Api30=!0;this.$VideoPlayerHTML5Api69(!0);this.$VideoPlayerHTML5Api88()};r.prototype.unsetPreferredVideoQuality=function(){"use strict";this.$VideoPlayerHTML5Api31=null,this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.unsetPreferredVideoQuality()};r.prototype.getPreferredVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api31};r.prototype.getSelectedVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getSelectedVideoQuality():this.$VideoPlayerHTML5Api19?"HD":"SD"};r.prototype.getAvailableVideoQualities=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api9.fallbackSources.HD?["SD","HD"]:["SD"];if(!this.$VideoPlayerHTML5Api10)return[];return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getAvailableVideoQualities():this.$VideoPlayerHTML5Api10.hasHD()?["SD","HD"]:["SD"]};r.prototype.getIsAbrEnabled=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getIsAbrEnabled():!1};r.prototype.canAutoSelectVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.canAutoSelectVideoQuality():!1};r.prototype.setPreloadDisabled=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setPreloadDisabled(a)};r.prototype.restoreStreamBufferSize=function(){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.restoreStreamBufferSize()};r.prototype.setSmartBufferAdjustmentEnabled=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setSmartBufferAdjustmentEnabled(a)};r.getPlayerVersion=function(){"use strict";return b("VideoPlayerVersions").PLEASANTVILLE};r.prototype.getUpdatedPlayerVersion=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getPlayerVersion()||r.getPlayerVersion():r.getPlayerVersion()};r.prototype.getVideoNodeSource=function(){"use strict";return this.$VideoPlayerHTML5Api37.src||""};r.prototype.getVideoProjection=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33;if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api38.getVideoProjection();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33}this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api10.getProjection();return this.$VideoPlayerHTML5Api33};r.prototype.$VideoPlayerHTML5Api117=function(){"use strict";this.$VideoPlayerHTML5Api7=this.getCurrentTimePosition()};r.prototype.$VideoPlayerHTML5Api118=function(){"use strict";this.$VideoPlayerHTML5Api7?(this.$VideoPlayerHTML5Api34=this.$VideoPlayerHTML5Api7,this.$VideoPlayerHTML5Api7=null):this.$VideoPlayerHTML5Api34=o};r.prototype.$VideoPlayerHTML5Api119=function(){"use strict";this.$VideoPlayerHTML5Api8=this.getVolume(),this.$VideoPlayerHTML5Api6=this.isMuted()};r.prototype.$VideoPlayerHTML5Api120=function(){"use strict";this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api6&&(this.setVolume(this.$VideoPlayerHTML5Api8),this.$VideoPlayerHTML5Api6?this.mute():this.unmute(),this.$VideoPlayerHTML5Api8=null,this.$VideoPlayerHTML5Api6=null)};r.prototype.reloadDashManifest=function(){"use strict";var a=this.$VideoPlayerHTML5Api38;if(a){this.$VideoPlayerHTML5Api117();this.abortLoading();return this.$VideoPlayerHTML5Api121(function(){return a.refreshDashManifest()},this.$VideoPlayerHTML5Api34)}return b("Promise").reject()};r.prototype.reloadLiveVODHighlightsManifest=function(){"use strict";var a=this.$VideoPlayerHTML5Api38;if(a){this.$VideoPlayerHTML5Api117();this.abortLoading();return this.$VideoPlayerHTML5Api121(function(){return a.refreshLiveVODHighlightsManifest()},this.$VideoPlayerHTML5Api34)}return b("Promise").reject()};r.prototype.$VideoPlayerHTML5Api121=function(a,b){"use strict";return a().then(function(){this.$VideoPlayerHTML5Api84(b),this.$VideoPlayerHTML5Api118()}.bind(this))};r.prototype.switchReplicaSet=function(a){"use strict";var b=this.$VideoPlayerHTML5Api38;b&&(this.abortLoading(),b.switchReplicaSet(a),this.$VideoPlayerHTML5Api84())};r.prototype.isPlayingVODHighlights=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isPlayingLiveVODHighlights():!1};r.prototype.$VideoPlayerHTML5Api86=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api30){if(this.$VideoPlayerHTML5Api3)var a=b("EventListener").capture(this.$VideoPlayerHTML5Api37.parentNode,"play",function(c){b("Event").kill(c),a.remove()});this.$VideoPlayerHTML5Api37.ended&&!this.$VideoPlayerHTML5Api37.paused&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play");if(this.$VideoPlayerHTML5Api38){var c=this.$VideoPlayerHTML5Api38,d=k&&k.isReady()&&k.get("www_videos_shaka_wait_for_buffered");d=d?this.$VideoPlayerHTML5Api122():c.play()}else b("VideoPlayerHTML5Experiments").preloadOnPlay&&(this.$VideoPlayerHTML5Api37.preload="auto"),d=this.$VideoPlayerHTML5Api37.play();d&&d["catch"]&&d["catch"](function(a){a.name==="NotAllowedError"&&(this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"}),this.$VideoPlayerHTML5Api110("flash/playbackNotAllowed")),this.$VideoPlayerHTML5Api69(!1)}.bind(this))}this.$VideoPlayerHTML5Api87()};r.prototype.isLiveVODHighlightsAvailable=function(){"use strict";return this.$VideoPlayerHTML5Api16};r.prototype.setEnableLiveheadCatchup=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setEnableLiveheadCatchup(a)};r.prototype.isFBWasLive=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBWasLive())};r.prototype.isFBIsLiveTemplated=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBIsLiveTemplated())};r.prototype.isFBMS=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBMS())};r.prototype.isLiveheadCatchupEnabled=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isLiveheadCatchupEnabled():!1};r.prototype.getSeekableRanges=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api38)return this.$VideoPlayerHTML5Api38.getSeekableRanges();var a=[];if(this.$VideoPlayerHTML5Api37){var c=this.$VideoPlayerHTML5Api37.seekable;for(var d=0;d<c.length;++d)a.push({startTime:c.start(d),endTime:c.end(d)})}a.length===0&&a.push({startTime:0,endTime:0});return new(b("TimeRanges"))(a)};r.prototype.$VideoPlayerHTML5Api122=function(){"use strict";__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:a=3;case 1:if(!(!this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api38)){f.next=12;break}if(!(this.$VideoPlayerHTML5Api37.buffered.length>0)){f.next=8;break}c=this.$VideoPlayerHTML5Api37.buffered.start(0);d=this.$VideoPlayerHTML5Api37.buffered.end(0);e=Math.round(d-c)>=a;if(!(e&&this.$VideoPlayerHTML5Api38)){f.next=8;break}return f.abrupt("return",this.$VideoPlayerHTML5Api38.play());case 8:f.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return b("setTimeout")(a,100)}));case 10:f.next=1;break;case 12:return f.abrupt("return",null);case 13:case"end":return f.stop()}},null,this)};r.getStartMutedFromConfig=function(a){"use strict";return a.muted};r.getStreamTypeFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.getStreamType()};r.getIsServableViaFbmsFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isServableViaFbms()};r.getIsPlayingLiveFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isLiveStream()};r.getIsFacecastAudioFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isFacecastAudio()};r.getIsSpherical=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isSpherical()};r.networkTimeout=5e3;e.exports=r}),null);
__d("AbrEvaluationSignal",["EventEmitter","EventListener","SubscriptionsHandler","VideoPlayerUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c,d,e){__p&&__p();g.constructor.call(this);this.$AbrEvaluationSignal3=!0;this.$AbrEvaluationSignal4=!1;this.$AbrEvaluationSignal5=0;this.$AbrEvaluationSignal6=0;this.$AbrEvaluationSignal7=0;this.$AbrEvaluationSignal10=a;this.$AbrEvaluationSignal1=c;this.$AbrEvaluationSignal11=d;this.$AbrEvaluationSignal8=e;this.$AbrEvaluationSignal9=new(b("SubscriptionsHandler"))();a=[b("EventListener").listen(this.$AbrEvaluationSignal11,"adaptation",this.$AbrEvaluationSignal12.bind(this))];e.evaluateAbrOnTracksAndBandwidthChange&&(a.push(b("EventListener").listen(this.$AbrEvaluationSignal11,"trackschanged",this.$AbrEvaluationSignal13.bind(this))),a.push(b("EventListener").listen(this.$AbrEvaluationSignal1.getEstimator(),"bandwidth",this.$AbrEvaluationSignal14.bind(this))));e.evaluateAbrOnFetchEnd&&a.push(b("EventListener").listen(this.$AbrEvaluationSignal11,"fetch_end",this.$AbrEvaluationSignal15.bind(this)));(c=this.$AbrEvaluationSignal9).addSubscriptions.apply(c,a)}a.prototype.notifySwitch=function(){this.$AbrEvaluationSignal4=!0};a.prototype.destroy=function(){this.$AbrEvaluationSignal9.release(),this.$AbrEvaluationSignal9.engage(),this.removeAllListeners()};a.prototype.$AbrEvaluationSignal12=function(){this.$AbrEvaluationSignal4=!1,this.$AbrEvaluationSignal7=Date.now()};a.prototype.$AbrEvaluationSignal16=function(){return this.$AbrEvaluationSignal8.useLowBufferVelocityInterval&&b("VideoPlayerUtils").getBufferedAheadOf(this.$AbrEvaluationSignal10)<this.$AbrEvaluationSignal8.lowBufferVelocityIntervalBufferThreshold};a.prototype.$AbrEvaluationSignal15=function(a){var b=this.$AbrEvaluationSignal5;this.$AbrEvaluationSignal5=Date.now();a=a.detail&&a.detail.stream_fetch_time_ms&&a.detail.segment_length_ms?{streamFetchTimeMs:a.detail.stream_fetch_time_ms,segmentLengthMs:a.detail.segment_length_ms}:void 0;this.$AbrEvaluationSignal17(this.$AbrEvaluationSignal8.ignoreRecentBandwidthEvalOnFetchEnd?b:this.$AbrEvaluationSignal6,a)};a.prototype.$AbrEvaluationSignal14=function(){this.$AbrEvaluationSignal17(this.$AbrEvaluationSignal6)};a.prototype.$AbrEvaluationSignal17=function(a,b){__p&&__p();if(this.$AbrEvaluationSignal3&&this.$AbrEvaluationSignal8.ignoreTimeLimitForInitialSample){this.$AbrEvaluationSignal3=!1;this.$AbrEvaluationSignal18(b);return}var c=this.$AbrEvaluationSignal8.minEvalInterval,d=this.$AbrEvaluationSignal8.minSwitchInterval;this.$AbrEvaluationSignal16()&&(c=d=this.$AbrEvaluationSignal8.lowBufferVelocityAbrInterval);if(!this.$AbrEvaluationSignal4&&Date.now()>=a+c&&Date.now()>=this.$AbrEvaluationSignal7+d){this.$AbrEvaluationSignal18(b);return}};a.prototype.$AbrEvaluationSignal13=function(){this.$AbrEvaluationSignal18()};a.prototype.$AbrEvaluationSignal18=function(a){a=Object.assign({},{clearBufferIfUpgrading:!1,clearBufferOffset:0},a);this.emit("evaluate",a);this.$AbrEvaluationSignal6=Date.now()};e.exports=a}),null);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getQualityLabel:function(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b},getMosValue:function(a,b){__p&&__p();var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0},parsePlaybackMos:function(a){__p&&__p();a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b},filterTracksWithExpensiveMos:function(a,b,c,d,e,f){__p&&__p();if(a.length<2)return a;var h=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?g.getMosValue(a.playbackResolutionMos,g.getQualityLabel(b,c)):-1}}),i=[],j=e;for(var k=h.length-1;k>0;k--){if(h[k].mosValue===-1||h[k-1].mosValue===-1)return a;var l=h[k].track.bandwidth||-1,m=h[k-1].track.bandwidth||-1;if(l===-1||m===-1)return a;if(h[k].mosValue<h[k-1].mosValue&&l>=m)continue;l=h[k-1].track.bandwidth!==null?h[k].mosValue-h[k-1].mosValue:Infinity;if(l<=j&&h[k].track.bandwidth&&d/h[k].track.bandwidth<=f){j-=l;continue}else j=e;i.push(h[k].track)}i.push(h[0].track);i.reverse();return i}};e.exports=g}),null);
__d("VideoAsyncLoggerHelper",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e,f=new(b("SubscriptionsHandler"))(),g=!1,h=function(){g||(a(),g=!0),e&&(clearTimeout(e),e=null),f.release()};e=setTimeout(h,0);c.forEach(function(a){f.addSubscriptions(d.addListener(a,h))})}e.exports={operateAsync:a}}),null);
__d("VideoPlayerConnectionQuality",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},h=[{bandwidth:5e5,connectionQuality:g.POOR},{bandwidth:2e6,connectionQuality:g.MODERATE},{bandwidth:1e7,connectionQuality:g.GOOD}],i=100,j=null,k=null;a={evaluate:function(a){__p&&__p();if(j!==null&&k!==null&&j>=Date.now()-i)return k;a=a();var b=null;for(var c=0;c<h.length;c++)if(a<h[c].bandwidth){b=h[c].connectionQuality;break}b===null&&(b=g.EXCELLENT);j=Date.now();k=b;return b}};e.exports=a}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=function(){},this.$2=0}a.prototype.setOnPriorityChanged=function(a){this.$1=a};a.prototype.getPriorityAdjustment=function(){return this.$2};a.prototype.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};a.prototype.cleanup=function(){this.$1=function(){}};e.exports=a}),null);
__d("SphericalVideoPlayerEvents",[],(function(a,b,c,d,e,f){e.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:"setRelativeSphericalOrientation",SET_ABSOLUTE_SPHERICAL_ORIENTATION:"setAbsoluteSphericalOrientation",SET_FIELD_OF_VIEW:"setFieldOfView",SET_VIDEO_PROJECTION:"setVideoProjection",SET_STEREO_MODE:"setStereoMode",SET_PARTIAL_LIMITS:"setPartialLimits",SET_VIEWPORT_CONTROL_CONFIG:"setViewportControlConfig"}}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter3=a}a.prototype.enable=function(){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var a=this.$VideoControllerPlayingStateEmitter2;this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();if(this.$VideoControllerPlayingStateEmitter2===a)return;this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)}.bind(this))),this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState(),this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};a.prototype.setOnPlaying=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",a))};a.prototype.setOnPaused=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",a))};a.prototype.disable=function(){this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter1&&(this.$VideoControllerPlayingStateEmitter1.release(),this.$VideoControllerPlayingStateEmitter1=null)};a.prototype.$VideoControllerPlayingStateEmitter4=function(){this.$VideoControllerPlayingStateEmitter1||(this.$VideoControllerPlayingStateEmitter1=new(b("SubscriptionsHandler"))());return this.$VideoControllerPlayingStateEmitter1};a.prototype.$VideoControllerPlayingStateEmitter5=function(a){a==="playing"?this.emit("play"):a==="paused"&&this.emit("pause")};e.exports=a}),null);
__d("VideoLiveTrace",["VideosInfraLoapTypedLogger","gkx","guid"],(function(a,b,c,d,e,f){__p&&__p();var g="x-fb-video-livetrace-ids",h="x-fb-video-livetrace-parentsource",i=/[\r\n]+/;function a(a,b){"use strict";this.$1=a,this.$2=b,this.$3=0}a.prototype.setStreamType=function(a){"use strict";this.$3=a};a.prototype.$4=function(a,c,d,e,f){"use strict";var g="PLY:WWW:",h=Date.now(),i=b("guid")();i=new(b("VideosInfraLoapTypedLogger"))().setStreamID(this.$1).setEventID(i).setStreamType(this.$3).setEventName(a).setEventSeverity(e).setEventCreationTime(h).setSource(g+this.$2).setTraceID(c).setParentSource(d).setMetadata(f);i.log()};a.prototype.handleHeaders=function(a){"use strict";__p&&__p();if(!b("gkx")("678910"))return;var c=[],d="";a=a.trim().split(i);a.forEach(function(a){a=a.split(": ");var b=a.shift().toLowerCase();a=a.shift();if(b===g&&a){var e=a.split(",");c.push.apply(c,e.map(function(a){return+a.split(":")[0]}))}b===h&&(d=a)});if(c.length&&d!==""){var e=d;c.forEach(function(a){return this.$4("SEGMENT",a,e,"SUCCESS")}.bind(this))}};a.prototype.handleXHR=function(a){"use strict";this.handleHeaders(a.getAllResponseHeaders())};e.exports=a}),null);
__d("VideoPlayerABRQualityTracker",["VideoPlayerAbrEvaluation"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2=null}a.prototype.setLastQualitySwitchReason=function(a){"use strict";this.$2=a};a.prototype.getABREvaluation=function(){"use strict";__p&&__p();var a=[];this.$1&&(a=this.$1.flushABREvaluationSet());var c=0,d=0,e=0,f=0,g=this.$2;for(var h=0;h<a.length;h++)switch(a[h]){case b("VideoPlayerAbrEvaluation").IDEAL:c++;break;case b("VideoPlayerAbrEvaluation").CONSERVATIVE:d++;break;case b("VideoPlayerAbrEvaluation").AGGRESSIVE:e++;break;case b("VideoPlayerAbrEvaluation").CONSERVATIVE_RESOLUTION_CONSTRAINED:f++;break}return{idealSamples:c,conservativeSamples:d,aggressiveSamples:e,conservativeResolutionConstrainedSamples:f,lastQualitySwitchReason:g}};e.exports=a}),null);
__d("VideoPlayerReasonTransitionHelper",["VideoPlayerReasonTransitionExperiment"],(function(a,b,c,d,e,f){function a(a){"use strict";this.$1=a}a.prototype.getReason=function(){"use strict";return!b("VideoPlayerReasonTransitionExperiment").provideReason?null:this.$1};e.exports=a}),null);
__d("VideoPlayerShakaBandwidthEstimator",["CacheStorage","Run","VideoPlayerShakaGlobalConfig","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;b("requireWeak")("Shaka",function(a){g=a.util.EWMACacheBandwidthEstimator});var h=null,i=!1;function j(){"use strict";var a=new(b("CacheStorage"))("localstorage","_video_"),c=a.get("bandwidthEstimate");this.$1={isMockObject:!0,getBandwidth:function(a){return c},getFastMovingBandwidth:function(){return c}};g&&(this.$1=new g(b("VideoPlayerShakaGlobalConfig").getNumber("cache_delay",30),b("VideoPlayerShakaGlobalConfig").getNumber("cache_bandwidth",2e6),c),this.$1.isMockObject=!1);b("Run").onUnload(function(){a.set("bandwidthEstimate",this.$1.getBandwidth())}.bind(this))}j.prototype.getEstimator=function(){"use strict";return this.$1};j.getInstance=function(){"use strict";(h===null||h.getEstimator().isMockObject&&g)&&(h=new j());return h};j.getEstimator=function(){"use strict";return j.getInstance().getEstimator()};j.getBandwidth=function(a){"use strict";var b=j.getEstimator();return b.getBandwidth(a)};j.getBandwidthByVideoType=function(a){"use strict";return j.getBandwidth(j.getBandwidthModel(a))};j.getBandwidthModel=function(a){"use strict";return a?"aggressive":"conservative"};j.isAutoplayBandwidthRestrained=function(a){"use strict";var c=j.getEstimator(),d;b("VideoPlayerShakaGlobalConfig").getBool("block_autoplay_use_fast_moving_average",!0)&&i?d=c.getFastMovingBandwidth():d=c.getBandwidth();c=a?b("VideoPlayerShakaGlobalConfig").getNumber("live_block_autoplay_bandwidth_threshold",25e4):b("VideoPlayerShakaGlobalConfig").getNumber("block_autoplay_bandwidth_threshold",123034);d===null||d>=c?i=!1:i=!0;return i};e.exports=j}),null);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=Object.assign({},this.$1,(c={},c[a]=b,c))}};a.prototype.setAllContexts=function(a){this.$1=a};a.prototype.getAllContexts=function(){return this.$1};e.exports=a}),null);
__d("VideoPlayerShakaConfig",["ContextualConfig","VideoPlayerShakaConfigContextProvider","VideoPlayerShakaExperimentsConfig","VideoPlayerShakaParsedContextualConfig","VideoPlayerShakaSessionConfigOverride"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerShakaParsedContextualConfig").getStaticConfig()||null,h;c=function(){var a=b("VideoPlayerShakaParsedContextualConfig").getRawContextualConfig();h=a?new(b("ContextualConfig"))(a):null};b("VideoPlayerShakaParsedContextualConfig").addListener("configChange",c);c();function a(a,c){"use strict";this.$1=new(b("VideoPlayerShakaConfigContextProvider"))(),this.$2=c||null,this.$3=null,a&&this.$1.setAllContexts(a),h!==null&&(this.$3=h.resolve(a||{}))}a.prototype.setContext=function(a,b){"use strict";if(h===null)return null;var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&(this.$3=h.resolve(a))};a.prototype.setOverrideConfig=function(a){"use strict";this.$2=a};a.prototype.getBool=function(a,c){"use strict";var d=this.$4(a,c);return typeof d==="boolean"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c};a.prototype.getNumber=function(a,c){"use strict";var d=this.$4(a,c);return typeof d==="number"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c};a.prototype.getString=function(a,c){"use strict";var d=this.$4(a,c);return typeof d==="string"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c};a.prototype.$4=function(a,c){"use strict";if(!!this.$2&&typeof this.$2[a]===typeof c)return this.$2[a];if(b("VideoPlayerShakaSessionConfigOverride")&&typeof b("VideoPlayerShakaSessionConfigOverride")[a]===typeof c)return b("VideoPlayerShakaSessionConfigOverride")[a];if(g!==null&&typeof g[a]===typeof c)return g[a];return this.$3?this.$3.get(a,c):null};e.exports=a}),null);
__d("VideoPlayerUIComponentDrawer",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,b){g.constructor.call(this),this.$VideoPlayerUIComponentDrawer1=a,this.$VideoPlayerUIComponentDrawer2=b,this.$VideoPlayerUIComponentDrawer4=!1}a.prototype.reserve=function(){if(this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!0;this.emit("reserve")};a.prototype.release=function(){if(!this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!1;this.emit("release")};a.prototype.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1};a.prototype.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2};a.prototype.setHeight=function(a){this.$VideoPlayerUIComponentDrawer2=a,this.emit("heightChange")};a.prototype.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];a==="reposition"&&(this.$VideoPlayerUIComponentDrawer3=d[0]);(b=g.emit).call.apply(b,[this,a].concat(d))};a.prototype.reposition=function(){this.emit("reposition",this.$VideoPlayerUIComponentDrawer3)};a.prototype.isReserved=function(){return this.$VideoPlayerUIComponentDrawer4};a.priorities={EmbeddedControls:0,AdBreakStartingIndicator:1,ClickForMore:2,Subtitles:3,SphericalMouseAnimation:4};e.exports=a}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a.getPriority()-b.getPriority()};function a(){this.$1=[]}a.prototype.register=function(a,c){__p&&__p();c=new(b("VideoPlayerUIComponentDrawer"))(a,c);c.addListener("reserve",function(){return this.$2(a)}.bind(this));c.addListener("release",function(){return this.$2(a)}.bind(this));c.addListener("heightChange",function(){return this.$2(a)}.bind(this));this.$1.push(c);this.$1.sort(g);return c};a.prototype.$2=function(a){var b=0;this.$1.forEach(function(c){c.getPriority()>a&&c.emit("reposition",b),c.isReserved()&&(b+=c.getHeight())})};e.exports=a}),null);
__d("VideoPlayerVolumeSettings",["WebStorage"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=1,this.$2=1}a.prototype.getVolume=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerVolume");return a===null||isNaN(+a)?1:+a}return this.$1};a.prototype.getSessionVolume=function(){"use strict";return this.$1};a.prototype.setSessionVolume=function(a){"use strict";this.$1=a};a.prototype.saveVolume=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerVolume",a);this.$1=a};a.prototype.getLastVolumeBeforeMute=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerLastVolumeBeforeMute");return a===null||isNaN(+a)?1:+a}return this.$2};a.prototype.saveLastVolumeBeforeMute=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerLastVolumeBeforeMute",a);this.$2=a};c=new a();e.exports=c}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("VideoPlayerController",["csx","cx","invariant","Promise","Arbiter","Banzai","Bootloader","CoverVideoOffsetType","CSS","CurrentUser","DelegatedVideoPriorityAdjuster","DOM","DOMDimensions","DOMQuery","ErrorUtils","EventEmitter","FBLogger","FullScreen","JSLogger","JSResource","LiveCopyrightAction","LiveVideoCopyrightActionQueryWebGraphQLQuery","LiveVideoCopyrightActionSubscription","MediaController","Parent","Run","ScriptPath","SparkMD5","SphericalVideoPlayerEvents","SubscriptionsHandler","TahoeVariables","URI","VideoAsyncLoggerHelper","VideoChannelViewChainLengthManager","VideoControllerPlayingStateEmitter","VideoLiveTrace","VideoMimeTypes","VideoPermalinkURI","VideoPlaybackQuality","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerConnectionQuality","VideoPlayerExperiments","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerImmediatePlayReason","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerResizeSettings","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","VideoPlayerStateBasedLoggingEvents","VideoPlayerStates","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVersions","VideoPlayerVolumeSettings","VideosRenderingInstrumentation","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideoVisibilityObserver","ViewportTrackingHelper","Visibility","WebGraphQL","XVideoDataController","canVideoPlayType","clearInterval","clearTimeout","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getVideoComponentName","getViewportDimensions","gkx","guid","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","promiseDone","requireWeak","setInterval","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("VideoAsyncLoggerHelper").operateAsync,l=b("VideoPlaybackQuality").getDroppedFrames,m=b("VideoPlaybackQuality").getTotalFrames,n=null;b("requireWeak")("LiveVideoPlayerStore",function(a){return n=a});var o=5,p=1;function q(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()}c=babelHelpers.inherits(a,b("MediaController"));j=c&&c.prototype;function a(a,c){__p&&__p();var d=a.video_id,e=a.video_ids,f=a.video_url,g=a.video_urls,h=a.chaining_token,i=a.video_channel_id,k=a.reaction_video_channel_type,n=a.reaction_video_channel_subtype,o=a.source,p=a.ad_client_token,r=a.should_autoplay,s=a.immediateplay_reason,t=a.player_version,u=a.autoplay_setting,v=a.apiModule,w=a.apiConfig,x=a.useInlineFallback,y=a.accessToken,z=a.projection,A=a.playerOrigin,B=a.playerSuborigin,C=a.isBroadcast,D=a.isInstreamAd,E=a.components,F=a.trackingCodes,G=a.alwaysShowCaptions;a.disableLogging;var H=a.subtitleBackgroundColor,I=a.subtitleBackgroundOpacity,J=a.subtitleTextColor,K=a.subtitleTextSize,L=a.video_path,M=a.customLoggingProps,N=a.broadcasterOrigin,O=a.allowCrossPageTransition,P=a.isReactPlayer,Q=a.offsettype,R=a.offsetvalue,S=a.upstreamPlayerSource,T=a.shouldLogVideoViewability,U=a.livingRoomSessionID,V=a.broadcastId,W=a.isAdsPreview,X=a.isInjectedAds,Y=a.isBroadcaster,Z=a.keepPlayingOnDialog;a=a.isChainedLivingRoom;var $=c.root_element,aa=c.container_element;c=c.video_element;j.constructor.call(this);this.$VideoPlayerController21=!1;this.$VideoPlayerController39=!1;this.$VideoPlayerController77=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);this.$VideoPlayerController78=0;this.$VideoPlayerController109=[];this.$VideoPlayerController115=null;this.$VideoPlayerController116=null;this.$VideoPlayerController117=new(b("EventEmitter"))();this.emitHeartbeat=function(){if(!this.isState(b("VideoPlayerStates").PLAYING)||!this.getVideoNode()){this.stopHeartbeat();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&this.isBuffering())return;this.getVideoAPI().logHeartbeat()}.bind(this);this.$VideoPlayerController164=function(){if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){this.$VideoPlayerController163();this.$VideoPlayerController98=b("setTimeout")(this.$VideoPlayerController164,this.$VideoPlayerController104);return}var a=this.getVideoAPI().isPaused()!==void 0?!this.getVideoAPI().isPaused():this.getState()==="playing";a&&(this.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+this.$VideoPlayerController104+"ms.",isPlayback:this.isPlayRequestPending()}),this.$VideoPlayerController163(),this.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT))}.bind(this);this.$VideoPlayerController113=b("guid")();this.$VideoPlayerController46=0;this.$VideoPlayerController25=0;this.$VideoPlayerController24=new Map();this.$VideoPlayerController80={};M&&this.setLogEntryPropertyGetters(M);if(r===void 0)throw new Error("Must pass should_autoplay to "+this.constructor.name+"!");this.$VideoPlayerController23=new(b("VideoPlayerUIComponentDrawerController"))();this.$VideoPlayerController13=new Map();this.$VideoPlayerController58=z;this.$VideoPlayerController1=y;this.$VideoPlayerController68=!!r;this.$VideoPlayerController69=s;this.$VideoPlayerController8=u;this.$VideoPlayerController2=p;this.$VideoPlayerController54=!1;this.$VideoPlayerController89=c;this.$VideoPlayerController67=$;this.$VideoPlayerController15=aa;this.$VideoPlayerController34=!1;this.$VideoPlayerController35=!1;this.$VideoPlayerController57=t;this.$VideoPlayerController88=d||e&&e[0]||"";this.$VideoPlayerController91=f||g&&g[0];this.$VideoPlayerController90=L;this.$VideoPlayerController11=h;this.$VideoPlayerController86=i;this.$VideoPlayerController55=A;this.$VideoPlayerController56=B||o;this.$VideoPlayerController32=C;this.$VideoPlayerController40=D;this.$VideoPlayerController82=F;this.$VideoPlayerController3=G;this.$VideoPlayerController72=H||"";this.$VideoPlayerController73=I==void 0?0:I;this.$VideoPlayerController74=J||"";this.$VideoPlayerController75=K==void 0?0:K;this.$VideoPlayerController30=b("uniqueID")();this.$VideoPlayerController64=k;this.$VideoPlayerController65=n;this.$VideoPlayerController116=V;this.$VideoPlayerController118=W;this.$VideoPlayerController119=X;this.$VideoPlayerController120=Z;this.$VideoPlayerController5=v;this.$VideoPlayerController4=w;this.$VideoPlayerController76=this.$VideoPlayerController5.getStartMutedFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController43=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController42=this.$VideoPlayerController5.getIsServableViaFbmsFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController41=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);this.isLiveVideo()&&this.$VideoPlayerController116&&(this.$VideoPlayerController115=new(b("VideoLiveTrace"))(this.$VideoPlayerController116,this.$VideoPlayerController113));this.$VideoPlayerController111=!!T;this.$VideoPlayerController37=this.$VideoPlayerController5.getIsSpherical(this.$VideoPlayerController4);this.$VideoPlayerController14=new(b("VideoPlayerShakaConfig"))({is_ad:this.isAd(),is_live:this.$VideoPlayerController41,player_format:this.$VideoPlayerController122(this.isFullscreen(),o)||"unknown",connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),is_spherical:this.$VideoPlayerController37,content_category:"general",latency_level:"normal",servable_via_fmbs:!1});this.$VideoPlayerController112=U;this.$VideoPlayerController121=a;this.$VideoPlayerController43==="progressive"?this.$VideoPlayerController104=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout:this.isLiveVideo()?this.$VideoPlayerController104=b("VideoPlayerExperiments").liveBufferingErrorTimeout:this.$VideoPlayerController104=b("VideoPlayerExperiments").bufferingErrorTimeout;b("VideoPlayerExperiments").createVideoVisibilityObserver&&this.$VideoPlayerController123();this.$VideoPlayerController36=this.$VideoPlayerController5.getIsFacecastAudioFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController84=!!x;this.$VideoPlayerController96=new Set();this.$VideoPlayerController97=N;this.$VideoPlayerController98=null;this.$VideoPlayerController99=!!O;this.$VideoPlayerController100=!!P;this.$VideoPlayerController101=this.getContainerNode().style.paddingBottom;this.$VideoPlayerController102=Q;this.$VideoPlayerController103=R;this.$VideoPlayerController105=!1;this.$VideoPlayerController106=!1;this.$VideoPlayerController83=S;this.$VideoPlayerController22=b("Arbiter").subscribe("DOM/destroy",function(a,c){if(!b("Parent").bySelector(this.getVideoNode(),c))return;this.pause(b("VideoPlayerReason").UNLOADED);this.destroy()}.bind(this));this.$VideoPlayerController19=0;M=b("URI").getRequestURI();z=b("VideoPermalinkURI").parse(M);y=parseFloat(M.getQueryData().t);r=z?z.video_id==this.$VideoPlayerController88:!1;y&&r&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.startTimestamp=y);b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(this));this.$VideoPlayerController14.getBool("oz_www_safely_log_player_seeks",!1)&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.seekHandler=function(a){this.isState("playing")?(this.pause(),this.seek(a),this.play(b("VideoPlayerReason").SEEK)):this.seek(a)}.bind(this));this.$VideoPlayerController110=new(b("DelegatedVideoPriorityAdjuster"))();b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.streamPriorityAdjuster=this.$VideoPlayerController110);this.$VideoPlayerController17=null;this.$VideoPlayerController52=null;this.$VideoPlayerController70=o;this.$VideoPlayerController48=new(b("VideoPlayerLogger"))(o);this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TAHOE&&this.focusOnContainerNode();this.collectFeedTrackingData();this.$VideoPlayerController48.setScriptPath(b("ScriptPath").getScriptPath());this.$VideoPlayerController48.setFrameCountGetters(function(){return this.$VideoPlayerController89!=null?l(this.$VideoPlayerController89):null}.bind(this),function(){return this.$VideoPlayerController89!=null?m(this.$VideoPlayerController89):null}.bind(this));this.$VideoPlayerController60=b("VideosRenderingInstrumentation").retrieveRenderTime(this.getRootNode());this.$VideoPlayerController59=q()-this.$VideoPlayerController60;w&&(w.subtitleDrawer=this.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0));this.$VideoPlayerController71="loading";this.$VideoPlayerController124(!1);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController84))if(this.$VideoPlayerController84)this.$VideoPlayerController125();else{this.$VideoPlayerController126();return}else this.$VideoPlayerController127();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()}.bind(this));this.$VideoPlayerController7=new(b("SubscriptionsHandler"))();this.$VideoPlayerController68&&(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad?this.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return this.$VideoPlayerController128()}.bind(this))):this.$VideoPlayerController128());this.$VideoPlayerController20=0;this.$VideoPlayerController66=!1;this.$VideoPlayerController26=this.$VideoPlayerController129();this.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()}.bind(this)));this.$VideoPlayerController130()||this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){if(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight"){c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!1)},"VideoPlayerController");this.$VideoPlayerController20=this.$VideoPlayerController20+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController20>0){a=this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TAHOE&&this.isLiveVideo();this.isState("playing")&&!(a&&b("TahoeVariables").neverAutoPauseLive)&&!this.$VideoPlayerController120&&(this.pause(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController66=!0)}}}.bind(this)),b("Arbiter").subscribe("layer_hidden",function(a,c){(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight")&&(b("VideoPlayerExperiments").addViewabilityFixEnabled?this.$VideoPlayerController20=Math.max(0,this.$VideoPlayerController20-1):this.$VideoPlayerController20=this.$VideoPlayerController20-1,this.$VideoPlayerController20===0&&(c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!0)},"VideoPlayerController"),this.$VideoPlayerController66&&(this.play(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController66=!1)))}.bind(this)));this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){return this.$VideoPlayerController131(a,b)}.bind(this)));b("Run").onLeave(function(){if(this.$VideoPlayerController99||b("VideoPlayerExperiments").persistentWNSEnabled&&this.$VideoPlayerController70===b("VideoPlayerLoggerSource").WATCH_SCROLL)return;this.cleanOnLeave()}.bind(this));this.$VideoPlayerController12=E||[];this.$VideoPlayerController12.forEach(function(a){var c=b("getVideoComponentName")(a)||"<MalformedComponent>";a&&typeof a.enable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(a.enable,a,[this],null,"VideoPlayerController Component Enable Guard: "+c):a.enable(this):b("FBLogger")("video").warn("no_enable_method_on_component: %s",c)}.bind(this));this.$VideoPlayerController51=1;this.$VideoPlayerController92=!1;this.$VideoPlayerController89&&(this.shouldCalculateViewability()?(this.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!this.$VideoPlayerController111,this.isInstreamAd()&&(this.$VideoPlayerController92=this.$VideoPlayerController92&&(b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!this.$VideoPlayerController111))):this.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic);this.$VideoPlayerController92&&this.$VideoPlayerController89&&(this.$VideoPlayerController93=new(b("VideoViewabilityLogging"))(this,this.$VideoPlayerController89,this.$VideoPlayerController67,this.$VideoPlayerController15));this.$VideoPlayerController31=!1;this.$VideoPlayerController33=Y;this.isLiveVideo()&&(this.$VideoPlayerController16=b("LiveVideoCopyrightActionSubscription").subscribe(this.getVideoID(),function(a){__p&&__p();var c=a.live_video_copyright_action_subscribe.action.toLowerCase();switch(c){case b("LiveCopyrightAction").BLOCK:if(this.$VideoPlayerController33)break;this.emit("blockVideo");this.destroy();break;case b("LiveCopyrightAction").MUTE:this.emit("blockAudio",this.$VideoPlayerController33);this.$VideoPlayerController31=!0;this.$VideoPlayerController33||this.mute();break;case b("LiveCopyrightAction").UNMUTE:this.emit("unblockAudio",this.$VideoPlayerController33);this.$VideoPlayerController31=!1;this.$VideoPlayerController33||this.unmute();break}this.$VideoPlayerController132(a.live_video_copyright_action_subscribe.action,a.live_video_copyright_action_subscribe.timestamp)}.bind(this)))}a.prototype.setVideoPriorityAdjustment=function(a){"use strict";this.$VideoPlayerController110.notifyAdjustment(a)};a.prototype.addListener=function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=(a=j.addListener).call.apply(a,[this].concat(c));c[0]==="visibilityChanged"&&this.$VideoPlayerController123();return e};a.prototype.$VideoPlayerController123=function(){"use strict";if(this.$VideoPlayerController107)return;this.$VideoPlayerController89||i(0,3694);this.$VideoPlayerController107=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController89);this.$VideoPlayerController107.addListener("visibilityChanged",function(a){return this.emit("visibilityChanged",a)}.bind(this))};a.prototype.setAutoScrollIntoView=function(a){"use strict";this.$VideoPlayerController21=!a};a.prototype.setDetectionID=function(a){"use strict";this.$VideoPlayerController114=a};a.prototype.destroy=function(a){"use strict";__p&&__p();a=a||{};if(this.isState("destroyed")||this.$VideoPlayerController35)return;this.$VideoPlayerController35=!0;this.$VideoPlayerController107&&(this.$VideoPlayerController107.destroy(),this.$VideoPlayerController107=null);var c=this.$VideoPlayerController12;for(var d=c.length-1;d>=0;d--){var e=c[d],f=b("getVideoComponentName")(e)||"<MalformedComponent>";e&&typeof e.disable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(e.disable,e,[this],null,"VideoPlayerController Component Disable Guard: "+f):e.disable(this):b("FBLogger")("video").warn("no_disable_method_on_component: %s",f)}b("gkx")("678893")?this.$VideoPlayerController85&&this.getVideoAPI().destroy(a):this.getVideoAPI().destroy(a);this.setState("destroyed");this.$VideoPlayerController7.release();a.skipRemoveAllListeners||this.removeAllListeners();this.$VideoPlayerController22&&(this.$VideoPlayerController22.unsubscribe(),this.$VideoPlayerController22=null);this.stopHeartbeat();this.$VideoPlayerController16&&(this.$VideoPlayerController16.unsubscribe(),this.$VideoPlayerController16=null)};a.prototype.$VideoPlayerController133=function(){"use strict";var a=b("DOMQuery").scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!a.length)return b("Promise").reject();b("DOM").replace(this.getVideoNode(),a[0]);this.$VideoPlayerController89=a[0];return b("JSResource")("VideoPlayerFlashApi").__setRef("VideoPlayerController").load()};a.prototype.$VideoPlayerController125=function(){"use strict";this.logEvent(b("VideoPlayerLoggerEvent").SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()}),b("promiseDone")(this.$VideoPlayerController133().then(function(a){if(a.isImplementationUnavailable())return b("Promise").reject();else return b("Promise").resolve(a)}),function(a){this.$VideoPlayerController5=a,this.$VideoPlayerController127()}.bind(this),function(a){return this.$VideoPlayerController126()}.bind(this))};a.prototype.collectFeedTrackingData=function(){"use strict";__p&&__p();if(this.$VideoPlayerController82){var a={tn:"","tn-debug":","},c={};for(var d=0;d<this.$VideoPlayerController82.length;d++){var e=JSON.parse(this.$VideoPlayerController82[d]);if(!Array.isArray(e))for(var f in e)a[f]!==void 0?(c[f]===void 0&&(c[f]=[]),c[f].push(e[f])):c[f]===void 0&&(c[f]=e[f])}for(var g in a)c[g]!==void 0&&(c[g]=c[g].join(a[g]));e={ft:c}}else{d=!1;a=this.getRootNode();while(a){if(a instanceof Element&&b("CSS").matchesSelector(a,"._4oep")){d=!0;break}a=b("getContextualParent")(a)}!d?this.isState("replayed")?e=b("collectDataAttributes")(window.event.target,["ft"]):e=b("collectDataAttributes")(this.getRootNode(),["ft"]):e={}}this.$VideoPlayerController48.setFTData(e)};a.prototype.$VideoPlayerController131=function(a,c){"use strict";c.video_player_debug_info=c.video_player_debug_info||{hardware:this.$VideoPlayerController134(),live_autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!0),autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!1)},c.video_player_debug_info[this.getVideoID()]=this.getDebugInfo()};a.prototype.$VideoPlayerController134=function(){"use strict";try{var a=document.createElement("canvas");a=a.getContext("webgl")||a.getContext("experimental-webgl");var b=a.getExtension("WEBGL_debug_renderer_info");return b&&{vendor:a.getParameter(b.UNMASKED_VENDOR_WEBGL),renderer:a.getParameter(b.UNMASKED_RENDERER_WEBGL)}}catch(a){}return null};a.prototype.setStillFrameEnabled=function(a){"use strict";var b=this.getVideoAPI();b.setStillFrameEnabled&&b.setStillFrameEnabled(a)};a.prototype.isFallbackRecoverable=function(){"use strict";return!!this.$VideoPlayerController79};a.prototype.setFallbackSources=function(a){"use strict";this.$VideoPlayerController79=a};a.prototype.setRelativeSphericalOrientation=function(a,c){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,a,c)};a.prototype.setSphericalOrientation=function(a,c){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,a,c)};a.prototype.setSphericalFieldOfView=function(a){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,a)};a.prototype.isSpherical=function(){"use strict";return this.$VideoPlayerController37};a.prototype.getVideoPlayerID=function(){"use strict";return this.$VideoPlayerController30};a.prototype.focusOnContainerNode=function(){"use strict";this.$VideoPlayerController15&&this.$VideoPlayerController15.focus()};a.prototype.setLogEntryPropertyGetters=function(a){"use strict";Object.keys(a).forEach(function(b){var c=a[b];typeof c==="function"?this.$VideoPlayerController24.set(b,c):this.$VideoPlayerController80[b]=c}.bind(this))};a.prototype.removeLogEntryPropertyGetters=function(a){"use strict";typeof a==="string"&&(a=[a]),Array.isArray(a)||(a=Object.keys(a)),a.forEach(function(a){this.$VideoPlayerController24["delete"](a),delete this.$VideoPlayerController80[a]}.bind(this))};a.prototype.$VideoPlayerController127=function(){"use strict";this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady()}.bind(this))};a.prototype.isImplementationUnavailable=function(){"use strict";return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController84)&&!this.$VideoPlayerController84};a.prototype.getIsInChannel=function(){"use strict";return this.$VideoPlayerController70===b("VideoPlayerLoggerSource").CHANNEL};a.prototype.updateSource=function(a){"use strict";if(!this.$VideoPlayerController70)return;var c=b("VideoPlayerFormatsMap")[this.$VideoPlayerController70],d=b("VideoPlayerFormatsMap")[a];this.$VideoPlayerController48.updateSource(a);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController122(this.isFullscreen(),a)||"unknown");c&&c!==d&&this.$VideoPlayerController94&&(b("VideoPlayerExperiments").delayFormatChangeEvent?this.isState(b("VideoPlayerStates").PLAYING)&&!this.$VideoPlayerController38?(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=d):this.$VideoPlayerController45=c:this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED));this.$VideoPlayerController70=a};a.prototype.getSource=function(){"use strict";return this.$VideoPlayerController48.getSource()};a.prototype.getPlayerOrigin=function(){"use strict";return this.$VideoPlayerController55};a.prototype.getPlayerSuborigin=function(){"use strict";return this.$VideoPlayerController56};a.prototype.hasLooped=function(){"use strict";return this.$VideoPlayerController51>1};a.prototype.$VideoPlayerController126=function(){"use strict";var a={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController68=!1};a.prototype.logError=function(a){"use strict";__p&&__p();a=this.$VideoPlayerController44=a;var c=a.error,d=a.message,e=a.isPlayback,f=a.httpStatus,g=a.url;a=a.stack;var h=this.getDebugInfo();a&&(h.player.stack=a);delete h.player.loggedError;delete h.player.lastError;a={error:c,error_description:d,error_user_info:h,error_code:f,resource_url:g,state:e?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};this.$VideoPlayerController47=this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController37&&Math.random()<.01&&b("gkx")("678900")&&b("FBLogger")("360video").warn("360 video player error: %s %s",c,d);e&&this.$VideoPlayerController54&&this.$VideoPlayerController124(!1)};a.prototype.setRotation=function(a){"use strict";this.getVideoAPI().setRotation(a)};a.prototype.setDimensions=function(a,c){"use strict";__p&&__p();var d=this.getContainerNode();d.style.width=a+"px";d.style.height=c+"px";d=this.getVideoNode();d.style.width=a+"px";d.style.height=c+"px";if(this.isState("loading"))this.$VideoPlayerController61={width:a,height:c};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController38||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(a,c)}};a.prototype.isPlayRequestPending=function(){"use strict";return this.$VideoPlayerController54};a.prototype.$VideoPlayerController124=function(a){"use strict";if(this.$VideoPlayerController54===a)return;this.$VideoPlayerController54=a;this.emit("pendingPlayRequestChanged")};a.prototype.updateAutoplayRestrained=function(){"use strict";b("ifRequired")("VideoPlayerHTML5Shaka",function(a){a=a.isAutoplayBandwidthRestrained(this.$VideoPlayerController41);this.$VideoPlayerController135(a)}.bind(this))};a.prototype.$VideoPlayerController135=function(a){"use strict";a?this.emit("turnOffAutoplay",{reason:"poor_network_quality"}):this.emit("resumeAutoplay",{reason:"poor_network_quality"});if(b("gkx")("678893")){var c=this.getVideoAPI();c&&c.setPreloadDisabled(a)}else this.getVideoAPI().setPreloadDisabled(a)};a.prototype.restoreStreamBufferSize=function(){"use strict";if(b("gkx")("678893")){var a=this.getVideoAPI();a&&a.restoreStreamBufferSize()}else this.getVideoAPI().restoreStreamBufferSize()};a.prototype.getDataInsertionPosition=function(){"use strict";return this.$VideoPlayerController26&&this.$VideoPlayerController26.getAttribute("data-insertion-position")};a.prototype.getDataFt=function(){"use strict";return this.$VideoPlayerController26&&this.$VideoPlayerController26.getAttribute("data-ft")};a.prototype.play=function(a){"use strict";__p&&__p();var c=null;a instanceof b("VideoPlayerReasonTransitionHelper")?c=a.getReason():c=a;a=this.getVideoNodeNullable();if(a&&a.scrollIntoView&&c===b("VideoPlayerReason").USER&&!this.$VideoPlayerController21&&this.$VideoPlayerController14.getBool("enable_autoscroll_into_view",!1)){var d=this.getDOMPosition(),e=d.y>=0;d=d.y+d.height<=b("getViewportDimensions")().height;!e?a.scrollIntoView(!0):d||a.scrollIntoView(!1)}this.$VideoPlayerController136();this.$VideoPlayerController53||(this.$VideoPlayerController53=c);this.$VideoPlayerController108=this.getOption("VideoWithCommercialBreak","controller");if(this.$VideoPlayerController108&&this.$VideoPlayerController108.shouldPlayPreRollAds(c)){this.$VideoPlayerController108.schedulePreRollAds();return}if(!this.$VideoPlayerController54){this.$VideoPlayerController52=this.$VideoPlayerController137();var f=this.$VideoPlayerController138({debug_reason:c});e=this.$VideoPlayerController70;b("VideoPlayerExperiments").delayFormatChangeEvent&&e&&this.$VideoPlayerController94&&this.$VideoPlayerController45&&b("VideoPlayerFormatsMap")[e]!==this.$VideoPlayerController45&&!this.$VideoPlayerController38&&(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=b("VideoPlayerFormatsMap")[e]);b("VideoPlayerExperiments").logRequestedPlayingAsync?k(function(){this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,f)}.bind(this),[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,f);this.$VideoPlayerController94=!0}this.$VideoPlayerController139(c);this.emit("playRequested",c);this.sendPlayRequest(c);c===b("VideoPlayerReason").LOOP&&(this.$VideoPlayerController51++,this.$VideoPlayerController51>10&&this.$VideoPlayerController14.getBool("disable_logging_for_long_loops",!1)&&(this.$VideoPlayerController95=!0))};a.prototype.sendPlayRequest=function(a){"use strict";if(this.isState("fallback")){this.emit("fallbackPlay");b("VideoPlayerExperiments").endBufferingOnFallbackPlay&&this.$VideoPlayerController48.endBuffering();return}this.$VideoPlayerController124(!0);this.isState("loading")?this.$VideoPlayerController62={reason:a}:(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController50&&(b("VideoPlayerExperiments").logUnmutedAsync?k(function(){this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)}.bind(this),[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)),this.$VideoPlayerController50=!1,this.$VideoPlayerController140(),this.getVideoAPI().play(a))};a.prototype.getOriginalPlayReason=function(){"use strict";return this.$VideoPlayerController53};a.prototype.reset=function(){"use strict";if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController141();this.$VideoPlayerController85&&this.$VideoPlayerController85.destroy&&this.$VideoPlayerController85.destroy();this.$VideoPlayerController85=null;this.setState("loading");this.$VideoPlayerController127()};a.prototype.detachRootNode=function(){"use strict";if(!this.$VideoPlayerController67)return;b("DOM").remove(this.$VideoPlayerController67);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController142()}.bind(this))};a.prototype.getVideoAPI=function(){"use strict";this.$VideoPlayerController85||i(0,3695);return this.$VideoPlayerController85};a.prototype.getVideoNodeNullable=function(){"use strict";return this.$VideoPlayerController89};a.prototype.getVideoNode=function(){"use strict";var a=this.getVideoNodeNullable();return a};a.prototype.getRootNodeNullable=function(){"use strict";return this.$VideoPlayerController67};a.prototype.getRootNode=function(){"use strict";var a=this.getRootNodeNullable();return a};a.prototype.getContainerNodeNullable=function(){"use strict";return this.$VideoPlayerController15};a.prototype.getContainerNode=function(){"use strict";var a=this.getContainerNodeNullable();return a};a.prototype.getVideoResolution=function(){"use strict";var a=this.getVideoNode();return{height:a.videoHeight,width:a.videoWidth}};a.prototype.$VideoPlayerController142=function(){"use strict";this.setState("ready"),this.$VideoPlayerController50=!this.getVideoAPI().isMuted(),this.$VideoPlayerController81=!this.$VideoPlayerController3,this.getVideoAPI().setSubtitlesStyle&&this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController72,this.$VideoPlayerController73,this.$VideoPlayerController74,this.$VideoPlayerController75),this.$VideoPlayerController62&&(this.sendPlayRequest(this.$VideoPlayerController62.reason),this.$VideoPlayerController62=null),this.$VideoPlayerController61&&(this.setDimensions(this.$VideoPlayerController61.width,this.$VideoPlayerController61.height),this.$VideoPlayerController61=null),this.$VideoPlayerController63&&(this.getVideoAPI().unmute(),this.$VideoPlayerController63=null)};a.prototype.onApiReady=function(){"use strict";__p&&__p();this.$VideoPlayerController4&&(this.$VideoPlayerController4.id=this.$VideoPlayerController30,this.$VideoPlayerController79&&(this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController79),this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController55,this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController56,this.$VideoPlayerController4.getSource=function(){return this.getSource()}.bind(this),this.$VideoPlayerController4.shakaConfig=this.$VideoPlayerController14,this.$VideoPlayerController4.playerInstanceKey=this.$VideoPlayerController113,this.$VideoPlayerController115&&(this.$VideoPlayerController4.videoLiveTrace=this.$VideoPlayerController115));this.$VideoPlayerController85=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.$VideoPlayerController143();this.getVideoAPI().setup();this.$VideoPlayerController142();var a={is_auto_played:this.isAutoplayable()};this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_LOADED,a);this.$VideoPlayerController85&&this.$VideoPlayerController48.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController85.getLocalEstimator()));a=this.getVideoProjection();a&&(this.$VideoPlayerController58=a);this.emit("apiReady")};a.prototype.getLocalEstimator=function(){"use strict";if(this.$VideoPlayerController85)return this.$VideoPlayerController85.getLocalEstimator();else return null};a.prototype.runOnApiReady=function(a){a===void 0&&(a=function(){}),!this.isState("loading")?a():this.once("apiReady",a)};a.prototype.resetPositions=function(){"use strict";this.$VideoPlayerController19=0};a.prototype.getCurrentTimePosition=function(){"use strict";if(this.isState("playing")){var a=this.getVideoAPI().getCurrentTimePosition();a!=null&&a!==void 0&&(this.$VideoPlayerController19=a)}return this.$VideoPlayerController19};a.prototype.getBufferEndPosition=function(){"use strict";if(this.isState("loading"))return 0;var a=this.getVideoAPI().getBufferEndPosition();return a!==null&&a!==void 0?a:this.getCurrentTimePosition()};a.prototype.$VideoPlayerController136=function(){"use strict";__p&&__p();if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var a=this.getVideoID();if(this.$VideoPlayerController11){var c=this.$VideoPlayerController11.decode();a=c.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(a)}};a.prototype.$VideoPlayerController144=function(a){"use strict";this.$VideoPlayerController124(!1);a=a.position;a!==void 0&&(this.$VideoPlayerController19=a);this.setState("playing");this.areHLSActive()?this.$VideoPlayerController145():this.isRTMP_DEPRECATED()&&this.$VideoPlayerController146();this.startHeartbeat()};a.prototype.$VideoPlayerController147=function(a){"use strict";a=a.position;a!==void 0&&(this.$VideoPlayerController19=a);this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};a.prototype.$VideoPlayerController148=function(a){"use strict";return this.$VideoPlayerController96.has(a)};a.prototype.runOnceOnApiEventLogged=function(a,b){"use strict";if(this.$VideoPlayerController148(a))b();else var c=this.addListener("apiEventLogged",function(d){d===a&&(b(),c.remove())})};a.prototype.$VideoPlayerController149=function(a){"use strict";var b=a.event;this.$VideoPlayerController96.add(b);delete a.event;this.logEvent(b,a);this.emit("apiEventLogged",b)};a.prototype.$VideoPlayerController150=function(){"use strict";this.isState("finished")||this.setState("paused"),this.stopHeartbeat()};a.prototype.$VideoPlayerController151=function(a){"use strict";a=a.position;a!==void 0&&(this.$VideoPlayerController19=a)};a.prototype.$VideoPlayerController152=function(){"use strict";this.setState("finished"),this.$VideoPlayerController66=!1,this.stopHeartbeat()};a.prototype.getVolume=function(){"use strict";return this.getVideoAPI().getVolume()};a.prototype.$VideoPlayerController153=function(){"use strict";__p&&__p();this.$VideoPlayerController39=!1;var a=this.getContainerNode(),c=this.isFullscreen();b("CSS").conditionClass(a,"_1hwh",c);c?a.style.paddingBottom="0":(a.removeAttribute("data-fullscreen"),a.style.paddingBottom=this.$VideoPlayerController101);!c&&this.$VideoPlayerController27&&(this.$VideoPlayerController27.unsubscribe(),this.$VideoPlayerController27=null);if(this.$VideoPlayerController38!=c){this.logFullscreenChanged(c);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController122(c,this.$VideoPlayerController70)||"unknown");a=b("DOMDimensions").getElementDimensions(a);this.isPlayerVersion("silvercity")||this.setVideoPlayerAPIDimensions(a.width,a.height);this.emit("toggleFullscreen");!c?(this.addOffsetStylings(),b("Arbiter").inform("video_fullscreen_change",{})):this.removeOffsetStylings()}this.$VideoPlayerController38=c};a.prototype.$VideoPlayerController122=function(a,c){"use strict";return a?b("VideoPlayerFormats").FULL_SCREEN:c?b("VideoPlayerFormatsMap")[c]:b("VideoPlayerFormats").INLINE};a.prototype.logFullscreenChanged=function(a){"use strict";var c={player_format:this.$VideoPlayerController122(a,this.$VideoPlayerController70)};b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix?this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS,c):this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS)};a.prototype.setVideoPlayerAPIDimensions=function(a,b){"use strict";this.getVideoAPI().setDimensions&&this.getVideoAPI().setDimensions(a,b)};a.prototype.removeOffsetStylings=function(){"use strict";var a=this.$VideoPlayerController103;if(a===null||a===void 0)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left","0"),b("CSS").removeClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top","0"),b("CSS").removeClass(this.getVideoNode(),"_bli"))};a.prototype.addOffsetStylings=function(){"use strict";var a=this.$VideoPlayerController103;if(a===null||a===void 0)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left",a+"px"),b("CSS").addClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top",a+"px"),b("CSS").addClass(this.getVideoNode(),"_bli"))};a.prototype.isFullscreen=function(){"use strict";return this.$VideoPlayerController39||b("FullScreen").isFullScreen()&&this.$VideoPlayerController15===b("getFullScreenElement")()};a.prototype.toggleFullscreen=function(){"use strict";var a=this.isFullscreen(),c=this.getContainerNode();b("FullScreen").toggleFullScreen(c)&&(a||(this.$VideoPlayerController39=!0,c.setAttribute("data-fullscreen","true")),b("CSS").addClass(c,"_1hwh"),this.$VideoPlayerController27=b("FullScreen").subscribe("changed",this.$VideoPlayerController153.bind(this)))};a.prototype.instreamVideoStart=function(){"use strict";b("CSS").addClass(this.getContainerNode(),"_24pm")};a.prototype.instreamVideoEnd=function(){"use strict";b("CSS").removeClass(this.getContainerNode(),"_24pm")};a.prototype.unmute=function(){"use strict";if(!this.$VideoPlayerController33&&this.$VideoPlayerController31)return;!this.isState("loading")?(this.getVideoAPI().unmute(),b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()),this.$VideoPlayerController81&&this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController154()):this.$VideoPlayerController63=!0};a.prototype.isAudioBlocked=function(){"use strict";return this.$VideoPlayerController31};a.prototype.isMuted=function(){"use strict";return this.$VideoPlayerController85?this.getVideoAPI().isMuted():this.$VideoPlayerController76};a.prototype.mute=function(){"use strict";this.$VideoPlayerController81&&!this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController154(),this.getVideoAPI().mute(),b("VideoPlayerVolumeSettings").saveVolume(0)};a.prototype.getMediaID=function(){"use strict";return this.getVideoID()};a.prototype.getPlaybackDuration=function(){"use strict";return this.getVideoAPI().getPlaybackDuration()};a.prototype.getPlayerFormat=function(){"use strict";return this.$VideoPlayerController122(this.isFullscreen(),this.$VideoPlayerController70)};a.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerController88};a.prototype.getVideoChannelID=function(){"use strict";return this.$VideoPlayerController86};a.prototype.getVideoURL=function(){"use strict";return this.$VideoPlayerController91};a.prototype.$VideoPlayerController143=function(){"use strict";__p&&__p();var a=this.getVideoAPI(),c=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=c;var d={buffered:function(){return this.setBuffering(!1)}.bind(this),buffering:function(){return this.setBuffering(!0)}.bind(this),bufferingProgress:function(a){return this.$VideoPlayerController155(a)}.bind(this),streamInterrupted:function(){return this.$VideoPlayerController48.startInterrupt()}.bind(this),streamResumed:function(){return this.$VideoPlayerController48.endInterrupt()}.bind(this),beginPlayback:function(a){return this.$VideoPlayerController144(a)}.bind(this),updateStatus:function(a){return this.$VideoPlayerController147(a)}.bind(this),logEvent:function(a){return this.$VideoPlayerController149(a.logData)}.bind(this),pausePlayback:function(){return this.$VideoPlayerController150()}.bind(this),seekEnd:function(a){return this.$VideoPlayerController151(a)}.bind(this),clickForTracking:function(){return b("logVideosClickTracking")(this.getVideoNode())}.bind(this),error:function(a){return this.logError(a)}.bind(this),finishPlayback:function(){return this.$VideoPlayerController152()}.bind(this),networkInterrupted:function(){return this.$VideoPlayerController156()}.bind(this),networkResumed:function(){return this.$VideoPlayerController157()}.bind(this),switchReplica:function(a){return this.switchReplicaSet(a)}.bind(this)};c.addSubscriptions.apply(c,Object.keys(d).map(function(b){return a.addListener(b,d[b])}));c.addSubscriptions.apply(c,b("VideoPlayerApiEvents").map(function(c){return b("forwardEvent")(a,this,c)}.bind(this)))};a.prototype.$VideoPlayerController141=function(){"use strict";this.$VideoPlayerController6&&this.$VideoPlayerController6.release()};a.prototype.seek=function(a){"use strict";this.emit("seekRequested",a),this.getVideoAPI().seek(a)};a.prototype.pause=function(a){"use strict";this.isState("loading")?this.$VideoPlayerController62=null:this.isState("playing")?this.getVideoAPI().pause(a):this.$VideoPlayerController54&&this.getVideoAPI().pause(a),this.$VideoPlayerController124(!1),this.$VideoPlayerController66=!1,this.$VideoPlayerController158(a),this.emit("pauseRequested",a)};a.prototype.stopHeartbeat=function(){"use strict";b("clearInterval")(this.$VideoPlayerController29),this.$VideoPlayerController29=null};a.prototype.startHeartbeat=function(){"use strict";if(this.$VideoPlayerController29||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController29=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};a.prototype.isPlayerVersion=function(a){"use strict";return this.getPlayerVersion()===a||this.$VideoPlayerController100&&this.$VideoPlayerController159(a)===this.getPlayerVersion()};a.prototype.isHtml5Player=function(){"use strict";return this.isPlayerVersion(b("VideoPlayerVersions").PLEASANTVILLE)||this.isPlayerVersion(b("VideoPlayerVersions").OZ)};a.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerController68};a.prototype.$VideoPlayerController160=function(){"use strict";return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};a.prototype.$VideoPlayerController128=function(){"use strict";if(b("Visibility").isHidden()){var a=b("Visibility").once(b("Visibility").VISIBLE,function(){return this.$VideoPlayerController128()}.bind(this));b("VideoPlayerExperiments").unsubscribeImmediateplay&&this.$VideoPlayerController7.addSubscriptions(a)}else!this.$VideoPlayerController160()&&this.$VideoPlayerController69!==b("VideoPlayerImmediatePlayReason").WATCH_TIME_NOT_LOGGED&&b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath()),this.play(b("VideoPlayerReason").AUTOPLAY)};a.prototype.isBuffering=function(){"use strict";return this.$VideoPlayerController34};a.prototype.$VideoPlayerController161=function(){"use strict";__p&&__p();var a=Math.floor(Date.now()/1e3);this.$VideoPlayerController109=this.$VideoPlayerController109.filter(function(b){return b.time+3>a});this.$VideoPlayerController109.some(function(b){if(b.time===a){b.count+=1;return!0}return!1})||this.$VideoPlayerController109.push({time:a,count:1})};a.prototype.$VideoPlayerController162=function(){"use strict";var a=Math.floor(Date.now()/1e3);return this.$VideoPlayerController109.reduce(function(b,c){return(c.time+3>a?c.count:0)+b},0)};a.prototype.$VideoPlayerController155=function(a){"use strict";this.emit("bufferingProgress",a)};a.prototype.setBuffering=function(a){"use strict";__p&&__p();if(a!==this.$VideoPlayerController34){this.$VideoPlayerController34=a;if(this.$VideoPlayerController34){a=this.$VideoPlayerController14.getNumber("buffering_count_threshold",0);if(a){this.$VideoPlayerController161();if(this.$VideoPlayerController162()>=a){this.logError({error:"EXCEED_BUFFER_FREQUENCY_THRESHOLD",message:"video has entered buffering state "+a+" times in the last 3 seconds.",isPlayback:this.isPlayRequestPending()});return this.emit("error","EXCEED_BUFFER_FREQUENCY_THRESHOLD")}}this.$VideoPlayerController48.startBuffering(this.getCurrentTimePosition());this.$VideoPlayerController104&&(this.$VideoPlayerController163(),this.$VideoPlayerController98=b("setTimeout")(this.$VideoPlayerController164,this.$VideoPlayerController104));this.$VideoPlayerController165()}else this.$VideoPlayerController48.endBuffering(),this.$VideoPlayerController163(),this.isState("paused")&&this.$VideoPlayerController166();this.emit("bufferingChanged")}};a.prototype.setSmartBufferAdjustmentEnabled=function(a){"use strict";var b=this.getVideoAPI();"setSmartBufferAdjustmentEnabled"in b&&b.setSmartBufferAdjustmentEnabled(a)};a.prototype.setVideoStreamOffset=function(a){"use strict";var b=this.getVideoAPI();typeof b.setVideoStreamOffset==="function"&&b.setVideoStreamOffset(a)};a.prototype.$VideoPlayerController163=function(){"use strict";this.$VideoPlayerController98&&(b("clearTimeout")(this.$VideoPlayerController98),this.$VideoPlayerController98=null)};a.prototype.$VideoPlayerController166=function(){"use strict";this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController14.getBool("allow_autoplay_on_resume_from_sleep",!0)&&this.$VideoPlayerController106&&this.play(b("VideoPlayerReason").NETWORK_RESUMED)};a.prototype.$VideoPlayerController165=function(){"use strict";this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController34&&this.$VideoPlayerController105&&this.isState("playing")&&this.pause(b("VideoPlayerReason").NETWORK_INTERRUPTED)};a.prototype.$VideoPlayerController139=function(a){"use strict";this.$VideoPlayerController106=!1};a.prototype.$VideoPlayerController158=function(a){"use strict";a===b("VideoPlayerReason").NETWORK_INTERRUPTED?this.$VideoPlayerController106=!0:this.$VideoPlayerController106=!1};a.prototype.$VideoPlayerController156=function(){"use strict";this.$VideoPlayerController105=!0,this.$VideoPlayerController165()};a.prototype.$VideoPlayerController157=function(){"use strict";this.$VideoPlayerController105=!1,this.$VideoPlayerController166()};a.prototype.isLiveVideo=function(){"use strict";return this.$VideoPlayerController41};a.prototype.isVideo=function(){"use strict";return!0};a.prototype.isBroadcast=function(){"use strict";return!!this.$VideoPlayerController32};a.prototype.isInline=function(){"use strict";return!!this.$VideoPlayerController70&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController70]===b("VideoPlayerFormats").INLINE&&!this.isFullscreen()};a.prototype.isFacecastAudio=function(){"use strict";return this.$VideoPlayerController36};a.prototype.isStreamInterrupted=function(){"use strict";var a=this.$VideoPlayerController85;return!!(a&&a.isStreamInterrupted&&a.isStreamInterrupted())};a.prototype.setVolume=function(a){"use strict";if(!this.$VideoPlayerController33&&this.$VideoPlayerController31)return;b("VideoPlayerVolumeSettings").saveVolume(a);this.getVideoAPI().setVolume(a)};a.prototype.getDOMPosition=function(){"use strict";var a=this.getRootNodeNullable();return a?b("getElementPosition")(a):{x:0,y:0,width:0,height:0}};a.prototype.clickVideo=function(){"use strict";this.emit("clickVideo"),this.$VideoPlayerController28=!0};a.prototype.mouseMove=function(a){"use strict";this.emit("mouseMove",a)};a.prototype.mouseUp=function(a){"use strict";this.emit("mouseUp",a)};a.prototype.mouseLeave=function(a){"use strict";this.emit("mouseLeave",a)};a.prototype.hasSeenClick=function(){"use strict";return!!this.$VideoPlayerController28};a.prototype.isAd=function(){"use strict";return!!this.$VideoPlayerController2};a.prototype.shouldCalculateViewability=function(){"use strict";if(this.isAd())return!0;var a=this.$VideoPlayerController48.getFTdata();if(a==null)return!1;a=a.ft;return a==null?!1:!!a.ei};a.prototype.isInstreamAd=function(){"use strict";return!!this.$VideoPlayerController40};a.prototype.getAdClientToken=function(){"use strict";return this.$VideoPlayerController2};a.prototype.getLastScrollDirection=function(){"use strict";return this.getOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")||null};a.prototype.$VideoPlayerController167=function(){"use strict";__p&&__p();var a=null,c=null,d=!1,e=null,f=null,g=null,h=null,i=null;if(!this.isState("loading")&&!this.isState("fallback")){this.$VideoPlayerController17===null&&(this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID());a=this.getVideoAPI().getEstimatedBandwidth();c=this.getVideoAPI().getAvailableVideoQualities().length;d=this.getVideoAPI().getIsAbrEnabled();e=this.getPlaybackDuration();i=this.getAudioStreamId();if(this.$VideoPlayerController14.getBool("log_player_dimensions",!1)){var j=this.getVideoAPI().getDimensionsForDevice();g=j&&j.height;f=j&&j.width}this.$VideoPlayerController14.getBool("log_connection_quality",!1)&&(h=b("VideoPlayerConnectionQuality").evaluate(function(){return this.getVideoAPI().getEstimatedBandwidth()}.bind(this)))}var k=babelHelpers["extends"]({},this.$VideoPlayerController80);this.$VideoPlayerController24.forEach(function(a,b){k[b]=a(b,this)}.bind(this));j={};this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio")&&(j.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout"));var l=this.isLiveVideo()&&!!n&&n.getIsRewound(this.getVideoPlayerID());return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:c,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController97,projection:this.$VideoPlayerController58,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(a){return a.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController71,player_origin:this.$VideoPlayerController55,player_suborigin:this.$VideoPlayerController56,playback_is_broadcast:this.$VideoPlayerController32,player_instance_key:this.$VideoPlayerController113,playback_duration:e,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:b("gkx")("678893")?this.$VideoPlayerController85?this.getBufferEndPosition():0:this.getBufferEndPosition(),is_servable_via_fbms:this.$VideoPlayerController42,playback_is_live_streaming:this.$VideoPlayerController41,is_templated_manifest:this.isFBIsLiveTemplated()||this.isFBWasLive(),is_fbms:this.isFBMS(),is_live_video_rewound:l,last_scroll_direction:this.getLastScrollDirection(),video_channel_id:this.$VideoPlayerController86,reaction_video_channel_type:this.$VideoPlayerController64,reaction_video_channel_subtype:this.$VideoPlayerController65,fbcdn_pop:this.$VideoPlayerController52,representation_id:this.$VideoPlayerController17,audio_representation_id:i,video_bandwidth:a,video_player_height:g,video_player_width:f,data_connection_quality:h,is_abr_enabled:d,feed_position:this.getDataInsertionPosition(),upstream_player_source:this.$VideoPlayerController83,should_log_video_viewability:this.$VideoPlayerController111,living_room_session_id:this.$VideoPlayerController112,detectionID:this.$VideoPlayerController114,is_ads_preview:this.$VideoPlayerController118,is_injected_ads:this.$VideoPlayerController119,is_chained_living_room:this.$VideoPlayerController121},this.$VideoPlayerController87,this.$VideoPlayerController9,k,j)};a.prototype.$VideoPlayerController137=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();if(!a)return null;a=a.resourceUrl;a=/scontent-([a-z]+)\./.exec(a);return!a?null:a[1]};a.prototype.getVideoInfo_DEPRECATED=function(){"use strict";return this.isState("loading")||this.isState("fallback")?null:this.getVideoAPI().getVideoInfo()};a.prototype.getDebugInfo=function(){"use strict";var a=this.getVideoInfo_DEPRECATED(),c={initializationTime:this.$VideoPlayerController59,initializationTimestamp:this.$VideoPlayerController60,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController48.getCumulativeStallCount(),stallTime:this.$VideoPlayerController48.getCumulativeStallTime(),inPlayStallCount:this.$VideoPlayerController48.getCumulativeInPlayStallCount(),inPlayStallTime:this.$VideoPlayerController48.getCumulativeInPlayStallTime(),interruptCount:this.$VideoPlayerController48.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController48.getCumulativeInterruptTime(),state:this.$VideoPlayerController71,canPlayType:b("mapObject")(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController47,lastError:this.$VideoPlayerController44,droppedFrames:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getTotalFrames(),videoSource:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController93&&this.$VideoPlayerController93.getViewability(),stack:void 0},d={videoID:this.getVideoID(),isDrm:this.$VideoPlayerController85&&this.$VideoPlayerController85.isDrm()};if(!a)return{player:c,currentVideo:d};var e=this.getVideoAPI().getDimensionsForDevice();return{currentVideo:babelHelpers["extends"]({},d,{streamType:a.streamType,isLiveStream:a.isLiveStream,liveManifestUrl:a.liveManifestUrl,isHD:a.isHD,hasHD:a.hasHD,resourceUrl:a.resourceUrl,hasSubtitles:a.hasSubtitles,hasRateLimit:!!a.hasUnlimitedSrc,isRateLimited:a.hasUnlimitedSrc&&!a.useUnlimitedSrc,tagHD:a.tagHD,tagSD:a.tagSD,projection:this.$VideoPlayerController58,streamId:this.$VideoPlayerController17,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:babelHelpers["extends"]({},c,{dimensions:e})}};a.prototype.getLastError=function(){"use strict";return this.$VideoPlayerController44};a.prototype.isAkamai=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();return a?a.liveManifestUrl&&a.liveManifestUrl.includes("akamaihd"):!1};a.prototype.getLoggedError=function(){"use strict";return this.$VideoPlayerController47};a.prototype.getTotalFrames=function(){"use strict";return this.$VideoPlayerController85?this.$VideoPlayerController85.getTotalFrames():0};a.prototype.getDroppedFrames=function(){"use strict";return this.$VideoPlayerController85?this.$VideoPlayerController85.getDroppedFrames():0};a.prototype.getInterruptCount=function(){"use strict";return this.$VideoPlayerController48.getCumulativeInterruptCount()};a.prototype.getInterruptTime=function(){"use strict";return this.$VideoPlayerController48.getCumulativeInterruptTime()};a.prototype.getVideoStreamId=function(){"use strict";return this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};a.prototype.getAudioStreamId=function(){"use strict";return this.getVideoAPI().getCurrentlyPlayingAudioStreamInfoID()||this.getVideoAPI().getAudioStreamInfoIDDebug()};a.prototype.getVideoTracks=function(){"use strict";return this.getVideoAPI().getVideoTracksDebug()};a.prototype.getAudioDashFormat=function(){"use strict";return this.getVideoAPI().getDashAudioConfigurationDebug()};a.prototype.getCumulativeStallCount=function(){"use strict";return this.$VideoPlayerController48.getCumulativeStallCount()};a.prototype.getCumulativeStallTime=function(){"use strict";return this.$VideoPlayerController48.getCumulativeStallTime()};a.prototype.getStallCount=function(){"use strict";return this.$VideoPlayerController48.getStallCount()};a.prototype.getStreamType=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();return a?a.streamType:"n/a"};a.prototype.hasSubtitles=function(){"use strict";return this.getVideoAPI().hasSubtitles()};a.prototype.getVideoState=function(){"use strict";return this.$VideoPlayerController71};a.prototype.areSubtitlesActive=function(){"use strict";return this.getVideoAPI().areSubtitlesActive()};a.prototype.areSubtitlesAutogenerated=function(){"use strict";return this.getVideoAPI().areSubtitlesAutogenerated()};a.prototype.areHLSActive=function(){"use strict";return this.getVideoAPI().areHLSActive()};a.prototype.isRTMP_DEPRECATED=function(){"use strict";return this.getVideoAPI().isRTMP()};a.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerController154(),this.logEvent(b("VideoPlayerLoggerEvent").CAPTION_CHANGE),this.$VideoPlayerController81=!1};a.prototype.$VideoPlayerController154=function(){"use strict";this.getVideoAPI().toggleSubtitles(),this.$VideoPlayerController140()};a.prototype.$VideoPlayerController140=function(){"use strict";this.hasSubtitles()&&this.areSubtitlesActive()?this.$VideoPlayerController10="on":this.$VideoPlayerController10="off"};a.prototype.isHD=function(){"use strict";return this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop()};a.prototype.hasHD=function(){"use strict";return this.getAvailableVideoQualities().length>1};a.prototype.toggleHD=function(){"use strict";this.isHD()?this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]):this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop())};a.prototype.setPreferredVideoQuality=function(a){"use strict";this.getVideoAPI().setPreferredVideoQuality(a)};a.prototype.unsetPreferredVideoQuality=function(){"use strict";this.getVideoAPI().unsetPreferredVideoQuality()};a.prototype.getPreferredVideoQuality=function(){"use strict";return this.getVideoAPI().getPreferredVideoQuality()};a.prototype.getSelectedVideoQuality=function(){"use strict";return this.getVideoAPI().getSelectedVideoQuality()};a.prototype.getAvailableVideoQualities=function(){"use strict";return this.getVideoAPI().getAvailableVideoQualities()};a.prototype.getVideoProjection=function(){"use strict";return this.getVideoAPI().getVideoProjection()};a.prototype.canAutoSelectVideoQuality=function(){"use strict";return this.getVideoAPI().canAutoSelectVideoQuality()};a.prototype.switchToStreamType=function(a){"use strict";this.getVideoAPI().switchToStreamType(a)};a.prototype.$VideoPlayerController146=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",o).setString("source",this.$VideoPlayerController70).getURI().toString())};a.prototype.$VideoPlayerController145=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",p).setString("source",this.$VideoPlayerController70).getURI().toString())};a.prototype.$VideoPlayerController138=function(a){"use strict";var b=this.getVideoInfo_DEPRECATED();return b!=null?Object.assign({resource_url:b.resourceUrl,liveStream:b.isLiveStream,hd:b.isHD},a):a};a.prototype.$VideoPlayerController168=function(){"use strict";var a=this.getDOMPosition(),c=b("getViewportDimensions")().height,d;a.y<=0?d=a.y:a.y+a.height<c?d=0:d=a.y+a.height-c;return d};a.prototype.logEvent=function(a,c){"use strict";__p&&__p();this.$VideoPlayerController46++;if(this.$VideoPlayerController95)return void 0;this.$VideoPlayerController117.emit(a);var d=this.$VideoPlayerController14.getNumber("logging_log_event_limit",0);d&&this.$VideoPlayerController46>d&&(this.$VideoPlayerController95=!0);d=++this.$VideoPlayerController25;c=Object.assign(this.$VideoPlayerController167(),c);var e=this.getOriginalPlayReason();e&&a!==b("VideoPlayerLoggerEvent").DISPLAYED&&(c.video_play_reason=e);a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING&&(c.viewport_distance=this.$VideoPlayerController168());(a===b("VideoPlayerLoggerEvent").MUTED||a===b("VideoPlayerLoggerEvent").UNMUTED||a===b("VideoPlayerLoggerEvent").STARTED_PLAYING||a===b("VideoPlayerLoggerEvent").CAPTION_CHANGE||a===b("VideoPlayerLoggerEvent").UNPAUSED)&&(c.caption_state=this.$VideoPlayerController10);this.$VideoPlayerController92&&b("VideoViewabilityKeyEvents").Events.includes(a)&&(c.current_viewability_percentage=this.$VideoPlayerController93.getViewability(),this.$VideoPlayerController93.setLastLoggedViewability(c.current_viewability_percentage));c.event_seq_num=d;b("VideoPlayerExperiments").correctedSBLEventSequence?this.$VideoPlayerController77.has(a)&&(c.seq_num=++this.$VideoPlayerController78):c.seq_num=d;a===b("VideoPlayerLoggerEvent").PLAYED_FOR_THREE_SECONDS&&(c.detection_id=this.$VideoPlayerController114,this.emit("videoView/runFraudDetector"));e=this.$VideoPlayerController48.logEvent(a,c);this.emit("debug/vpcLogEvent",e);return e};a.prototype.getState=function(){"use strict";return this.$VideoPlayerController71};a.prototype.getStreamingFormat=function(){"use strict";var a=this.getVideoInfo_DEPRECATED()||{};return a.streamType||this.$VideoPlayerController43};a.prototype.setPlaybackRate=function(a){"use strict";this.getVideoAPI().setPlaybackRate&&this.getVideoAPI().setPlaybackRate(a)};a.prototype.getPlaybackRate=function(){"use strict";return this.getVideoAPI().getPlaybackRate?this.getVideoAPI().getPlaybackRate():1};a.prototype.setState=function(a){"use strict";if(this.isState(b("VideoPlayerStates").DESTROYED)||this.isState(b("VideoPlayerStates").FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController71=a;this.$VideoPlayerController71==="fallback"&&(b("CSS").addClass(this.getRootNode(),"_3-n5"),this.$VideoPlayerController141());this.emit("stateChange")};a.prototype.isState=function(a){"use strict";return this.$VideoPlayerController71===a};a.prototype.isIntentionallyViewing=function(){"use strict";return this.isState("playing")&&!this.isMuted()};a.prototype.abortLoading=function(a){"use strict";if(this.isState("loading")||this.isState("fallback"))return;b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController41)&&this.isState("finished")&&this.seek(0);this.getVideoAPI().abortLoading(a||{});this.stopHeartbeat()};a.prototype.preload=function(){"use strict";if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};a.prototype.getPlayerVersion=function(){"use strict";var a;this.$VideoPlayerController85&&(a=this.getVideoAPI());var b=a&&a.getUpdatedPlayerVersion?a.getUpdatedPlayerVersion.bind(a):this.$VideoPlayerController5.getPlayerVersion;b=b?b():this.$VideoPlayerController57;return this.$VideoPlayerController100?this.$VideoPlayerController159(b):b};a.prototype.$VideoPlayerController159=function(a){"use strict";switch(a){case b("VideoPlayerVersions").SILVERCITY:return b("VideoPlayerVersions").REACT_SILVERCITY;case b("VideoPlayerVersions").PLEASANTVILLE:return b("VideoPlayerVersions").REACT_PLEASANTVILLE;case b("VideoPlayerVersions").OZ:return b("VideoPlayerVersions").REACT_OZ;default:return b("VideoPlayerVersions").REACT}};a.prototype.registerOption=function(a,b,c,d){"use strict";var e=this.$VideoPlayerController13.get(a);e||(e=new Map(),this.$VideoPlayerController13.set(a,e));if(e.has(b))throw new Error("An option can only be registered once for each component");e.set(b,{getter:c,setter:d});this.emit("optionsChange")};a.prototype.unregisterOption=function(a,b){"use strict";var c=this.$VideoPlayerController13.get(a);if(!c)throw new Error('The component "'+a+'" has no options registered');if(!c.has(b))throw new Error('The component "'+a+'" has no option "'+b+'" registered');c["delete"](b);c.size||this.$VideoPlayerController13["delete"](a);this.emit("optionsChange")};a.prototype.getComponents=function(){"use strict";return this.$VideoPlayerController13.keys()};a.prototype.getOptions=function(a){"use strict";a=this.$VideoPlayerController13.get(a);return a?a.keys():b("enumerate")([])};a.prototype.hasOption=function(a,b){"use strict";a=this.$VideoPlayerController13.get(a);return!!a&&a.has(b)};a.prototype.getOption=function(a,b){"use strict";a=this.$VideoPlayerController13.get(a);if(!a)return void 0;a=a.get(b);return!a?void 0:a.getter()};a.prototype.setOption=function(a,b,c){"use strict";__p&&__p();a=this.$VideoPlayerController13.get(a);if(!a)throw new Error("Component not registered");a=a.get(b);if(!a)throw new Error("Option not registered");b=a.setter;if(b)return b(c);throw new Error("Read-only option")};a.prototype.showDebugOverlayView=function(a){"use strict";this.emit("showDebugOverlay",a)};a.prototype.$VideoPlayerController129=function(){"use strict";var a=b("DOMQuery").scry(this.$VideoPlayerController67,"^._5pat");return a.length?a[0]:null};a.prototype.registerDrawer=function(a,b){"use strict";return this.$VideoPlayerController23.register(a,b)};a.prototype.getVideoPath=function(){"use strict";return this.$VideoPlayerController90};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this.$VideoPlayerController99=a};a.prototype.cleanOnLeave=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()};a.prototype.switchReplicaSet=function(a){"use strict";var c=this.isState("playing");this.getVideoAPI().switchReplicaSet(a);c&&this.play(b("VideoPlayerReason").AUTOPLAY)};a.prototype.switchToFullVideo=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.getVideoAPI().reloadDashManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)),this.emit("switchedToFullVideo"),this.emit("playLiveVODHighlights/showUFI")}.bind(this))};a.prototype.switchToLiveVODHighlights=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.getVideoAPI().reloadLiveVODHighlightsManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)),this.emit("switchedToLiveVODHighlights"),this.emit("playLiveVODHighlights/hideUFI")}.bind(this))};a.prototype.isPlayingVODHighlights=function(){"use strict";return this.isState("loading")||this.isState("fallback")||this.isState("destroyed")?!1:this.getVideoAPI().isPlayingVODHighlights()};a.prototype.isLiveVODHighlightsAvailable=function(){"use strict";return this.isState("loading")||this.isState("fallback")||this.isState("destroyed")?!1:this.getVideoAPI().isLiveVODHighlightsAvailable()};a.prototype.$VideoPlayerController130=function(){"use strict";return this.getIsInChannel()||this.$VideoPlayerController70===b("VideoPlayerLoggerSource").LIVING_ROOM||this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TOPIC_CHANNEL_LIVING_ROOM||this.$VideoPlayerController55===b("VideoPlayerOrigins").INTERN_CURATION||this.$VideoPlayerController55===b("VideoPlayerOrigins").GAMES_VIDEO_HUB};a.prototype.getDashAudioConfiguration=function(){"use strict";return this.getVideoAPI().getDashAudioConfiguration()};a.prototype.setEnableLiveheadCatchup=function(a){"use strict";var b=this.getVideoAPI();b&&b.setEnableLiveheadCatchup(a)};a.prototype.isFBWasLive=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBWasLive())};a.prototype.isFBIsLiveTemplated=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBIsLiveTemplated())};a.prototype.isFBMS=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBMS())};a.prototype.isLiveheadCatchupEnabled=function(){"use strict";var a=this.getVideoAPI();return a?a.isLiveheadCatchupEnabled():!1};a.prototype.getSeekableRanges=function(){"use strict";var a=this.getVideoAPI();return a?a.getSeekableRanges():null};a.prototype.isBroadcaster=function(){"use strict";return this.$VideoPlayerController33||!1};a.prototype.$VideoPlayerController132=function(a,c){"use strict";var d=b("CurrentUser").getAccountID();d=d+"_0_"+this.$VideoPlayerController88+"_"+c+"_"+a+"_secret_www";d=b("SparkMD5").hash(d);c={input:{video_id:this.$VideoPlayerController88,timestamp:c,live_copyright_action:a,signature:d}};a=b("WebGraphQL").exec(new(b("LiveVideoCopyrightActionQueryWebGraphQLQuery"))(c));b("promiseDone")(a,function(a){},function(a){})};e.exports=a}),null);
__d("VideoCover",["invariant","Bootloader","CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c,d,e){__p&&__p();e===void 0&&(e=null),this.$7=new(b("SubscriptionsHandler"))(),this.$13=function(){this.$5&&b("CSS").show(this.$1)}.bind(this),this.$14=function(){this.$5&&b("CSS").hide(this.$1)}.bind(this),this.$9=function(){this.$3!=null&&this.$3.length>0?b("Bootloader").loadModules(["PhotoSnowlift"],function(a){return a.bootstrap(this.$3)}.bind(this),"VideoCover"):this.$8&&this.$8.clickVideo()}.bind(this),this.$10=function(){b("CSS").hide(this.$1)}.bind(this),this.$12=function(){if(this.$8){var a=this.$8.getOption("Looping","isLooping");if(this.$4||a)return;b("CSS").show(this.$1)}}.bind(this),this.$11=function(){this.$8&&this.$8.isState("fallback")&&this.$6&&b("CSS").show(this.$1)}.bind(this),a instanceof Element||g(0,4829),this.$1=a,c[0]instanceof Element||g(0,4830),this.$2=c[0],this.$3=d,e&&(this.$4=e.hiddenAfterFinish,this.$5=e.showWhileBuffering,this.$6=e.showAfterFallback),b("EventListener").listen(this.$1,"click",this.$9)}a.prototype.disable=function(){"use strict";this.$7.release(),this.$8&&this.$8.unregisterOption("VideoCover","coverElement"),this.$8=null};a.prototype.enable=function(a){"use strict";this.$8=a,a.getState()==="playing"&&this.$10(),this.$7.addSubscriptions(a.addListener("stateChange",this.$11),a.addListener("beginPlayback",this.$10),a.addListener("finishPlayback",this.$12),a.addListener("buffering",this.$13),a.addListener("buffered",this.$14)),a.registerOption("VideoCover","coverElement",function(){return this.$1}.bind(this))};a.prototype.getCurrentCover=function(){"use strict";return this.$2};a.prototype.setSnowLiftURI=function(a){"use strict";this.$3=a};e.exports=a}),null);
__d("VideoNodeStaledScreen",["CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$3=new(b("SubscriptionsHandler"))(),this.$5=function(){b("CSS").show(this.$1)}.bind(this),this.$4=function(){b("CSS").hide(this.$1)}.bind(this),this.$1=a,this.$2=null,b("EventListener").listen(this.$1,"click",this.$4)}a.prototype.enable=function(a){"use strict";this.$2=a,this.$3.addSubscriptions(this.$2.addListener("videoNodeStaled",this.$5))};a.prototype.disable=function(){"use strict";this.$3.release(),this.$2=null};e.exports=a}),null);
__d("VideoStateDirectory",["EventEmitter","VideoPlayerExperiments"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.$VideoStateDirectory1=new Map()}a.prototype.setPlaybackState=function(a,c,d){"use strict";var e=this.$VideoStateDirectory1.get(a)||{};e.currentTimePosition=c;e.playbackDuration=d;e.watched=e.currentTimePosition/e.playbackDuration>=b("VideoPlayerExperiments").watchedPercentage/100||!!e.watched;this.$VideoStateDirectory1.set(a,e);this.emit(a,e)};a.prototype.setSaveState=function(a,b){"use strict";var c=this.$VideoStateDirectory1.get(a)||{};c.saved=b;this.emit(a,c)};a.prototype.setSubscriptionState=function(a,b){"use strict";var c=this.$VideoStateDirectory1.get(a)||{};c.subscribed=b;this.emit(a,c)};a.prototype.getState=function(a){"use strict";return this.$VideoStateDirectory1.get(a)};e.exports=new a()}),null);
__d("VideoUpdateStateDirectory",["VideoStateDirectory"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$2=function(){var a=this.$1,c=a.getVideoID(),d=a.getCurrentTimePosition();a=a.getPlaybackDuration();b("VideoStateDirectory").setPlaybackState(c,d,a)}.bind(this)}a.prototype.enable=function(a){this.$1=a,a.addListener("finishPlayback",this.$2),a.addListener("pausePlayback",this.$2)};a.prototype.disable=function(){};e.exports=a}),null);
__d("CEA608ExtractorWebWorker",["CEA608ExtractorWorkerResource","WebWorker","WebWorkerTransferPromise"],(function(a,b,c,d,e,f){__p&&__p();var g=null;function h(){g||(g=new(b("WebWorker"))(b("CEA608ExtractorWorkerResource")).setAllowCrossPageTransition(!0).execute());return g}a={isSupported:function(){return b("WebWorker").isMessageChannelSupported()},extract:function(a,c){var d=h().createMessageChannel({timescale:c,data:a});return b("WebWorkerTransferPromise").expectPromise(d)["finally"](function(){return d.close()})},prepare:function(){h()}};e.exports=a}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.__fbNativeSetTimeout,h=a.__fbNativeClearTimeout,i=window.requestIdleCallback,j=window.cancelIdleCallback,k=function(a){var b=function b(){a(b)};return b},l=function(a,b){var c=function c(){a(c,b)};return c},m=function(a,b){var c=function c(){a(c,b)};return c};function c(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null,this.$5=null}c.prototype.enable=function(){if(this.$1||!this.$6())return;this.$7();this.$8();this.$1=!0};c.prototype.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?b("performanceNow")()-Number(this.$2):null};c.prototype.$9=function(){this.$2=b("Visibility").isHidden()?null:b("performanceNow")()};c.prototype.$10=function(){this.$2=null,typeof this.$5==="number"&&(j(this.$5),this.$5=null),typeof this.$4==="number"&&(h(this.$4),this.$4=null)};c.prototype.$8=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$11():this.$12()};c.prototype.$7=function(){b("Visibility").addListener(b("Visibility").VISIBLE,function(){this.$10(),this.$8()}.bind(this)),b("Visibility").addListener(b("Visibility").HIDDEN,function(){this.$10()}.bind(this))};c.prototype.$11=function(){var a=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(a>-1){var c=function(){this.$9(),this.$4=g(c,a)}.bind(this);g(c,a)}};c.prototype.$12=function(){var a=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),c;a>-1&&(c={timeout:a});var d=function(a){this.$9(),this.$5=b("requestIdleCallback")(d,c)}.bind(this);b("requestIdleCallback")(d,c)};c.prototype.$6=function(){return b("Visibility").isSupported()&&typeof i==="function"&&typeof j==="function"&&typeof g==="function"&&typeof h==="function"};c.prototype.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=k(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=l(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=k(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof i==="function"&&(a=l(i,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof g==="function"&&(a=m(g,d));a&&a()};e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";this.$3=new(b("SubscriptionsHandler"))(),this.$1=a,this.$2=c,this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return this.$5()}.bind(this)),b("EventListener").listen(this.$1,"pause",function(){return this.$6()}.bind(this)))}a.prototype.playStarted=function(){"use strict";(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};a.prototype.$6=function(){"use strict";this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};a.prototype.$5=function(){"use strict";this.$4&&(this.$4.log(),this.$4=null)};a.prototype.unload=function(){"use strict";this.$3.release()};e.exports=a}),null);
__d("concatArrayBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer};e.exports=a}),null);
__d("extractCEA608",["CEA608ExtractorWebWorker","JSResource","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=b("gkx")("678908");function a(a,c){if(h&&b("CEA608ExtractorWebWorker").isSupported())return b("CEA608ExtractorWebWorker").extract(a,c);g||(g=b("JSResource")("CEA608Extractor").__setRef("extractCEA608").load().then(function(a){return new a(c)}));return g.then(function(b){return b.extract(a)})}a.prepare=function(){if(!h||!b("CEA608ExtractorWebWorker").isSupported())return;b("CEA608ExtractorWebWorker").prepare()};e.exports=a}),null);
__d("BufferReplacementHelper",["TaggedTimeRanges"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d){return a.startTime>b-c&&a.endTime<b+d}function h(a,b,c,d){d=d.get(a.startTime);return!!d&&c(b,d.id)>0}function i(a,b,c,d,e,f,i){__p&&__p();var j=i.thresholdBefore,k=i.thresholdAfter;i=i.wrapReplacementPastEnd;var l=[],m=!1;for(var c=c;c<a.length;c++){g(a[c],b,j,k)&&h(a[c],d,e,f)&&l.push(a[c]);if(a[c].endTime>b+k){m=!0;break}}if(!m&&i){c=b+k-a[a.length-1].endTime;for(var j=0;j<a.length;j++){c-=a[j].endTime-a[j].startTime;c>=0&&h(a[j],d,e,f)&&l.push(a[j]);if(a[j].endTime>b+k)break}}return l}function j(a,b,c,d,e,f,i){var j=i.thresholdBefore,k=i.thresholdAfter;i.wrapReplacementPastEnd;i=[];for(var c=c-1;c>=0;c--){g(a[c],b,j,k)&&h(a[c],d,e,f)&&i.push(a[c]);if(a[c].startTime<b-j)break}return i}function a(a,b,c,d,e,f,g){a=[a,b,c,d,e,f,g];return i.apply(void 0,a).concat(j.apply(void 0,a))}e.exports={getSegmentsToReplaceLowerQuality:a}}),null);
__d("BufferVelocity",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=a*1e3}a.prototype.recordBufferAhead=function(a){this.$1.push({bufferAhead:a,timestamp:Date.now()})};a.prototype.getVelocity=function(){if(this.$1.length<2)return null;var a=this.$1[this.$1.length-1],b=this.$3(),c=b.oldestValidEntry;b=b.oldestValidEntryIndex;b!=null&&b>0&&this.$1.splice(0,b);return c!=null?(a.bufferAhead-c.bufferAhead)/((a.timestamp-c.timestamp)/1e3):null};a.prototype.$3=function(){var a=null,b=null;for(var c=0;c<this.$1.length-1;c++){a=this.$1[c];if(this.$1[c].timestamp>=Date.now()-this.$2)break;b=c}return{oldestValidEntry:a,oldestValidEntryIndex:b}};a.prototype.reset=function(){this.$1=[]};e.exports=a}),null);
__d("FixedSizeTransform",["invariant","Deferred","DeferredBuffer","MaybeNativePromise","ProducerInterruptedError","ReadableStream","WritableStream","pipeErrorTo"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();a===void 0&&(a={});this.$1=0;this.$4=0;this.$5=b("MaybeNativePromise").resolve();this.$8=[];a=a;var c=a.disableDeferredBufferArrayShift,d=a.useNativePromiseInDeferredBuffer;a=a.fixFixedSizeTransformOnNullEndByte;this.$12=a||!1;this.$3=new(b("DeferredBuffer"))({disableArrayShift:!!c,useNativePromise:!!d})}a.prototype.cancel=function(a){this.$13(a),this.$7&&b("pipeErrorTo")(this.$7,a)};a.prototype.cancelAfterBytes=function(a,b){a<=this.$1?this.cancel(b):(this.$10=a,this.$11=b)};a.prototype.$13=function(a){this.$9=a,this.$6&&this.$6.reject(this.$9)};a.prototype.getSink=function(){this.$2||(this.$2=new(b("WritableStream"))({start:function(a){this.$7=a}.bind(this),write:function(a){a instanceof Uint8Array||g(0,3834),this.$3.produce(a),this.$1+=a.length,this.$10!=null&&this.$10<=this.$1&&this.cancel(this.$11)}.bind(this),close:function(){this.$3.signalProducerInterruption(),this.$2=null}.bind(this),abort:function(a){this.$3.produce(a)}.bind(this)}));return this.$2};a.prototype.getNextFixedSizeStream=function(a){__p&&__p();var c=a===void 0,d=0;if(this.$9)return b("MaybeNativePromise").reject(this.$9);this.$6=new(b("Deferred"))(b("MaybeNativePromise"));var e=this.$6.getPromise(),f=this.$5;this.$5=e;return f.then(function(){__p&&__p();return new(b("ReadableStream"))({start:function(a){this.$8.push(a)}.bind(this),pull:function(e){__p&&__p();if(!c&&this.$4===a)return this.$14(e);var f=c?void 0:(a||0)-this.$4;return this.$3.consume(f).then(function(a){e.enqueue(a),this.$4+=a.length}.bind(this))["catch"](function(a){if(a instanceof b("ProducerInterruptedError"))if(this.$12)return c&&(this.$4>0||d>0)?this.$14(e):d++;else return c?this.$14(e):b("MaybeNativePromise").resolve();this.$13(a);this.$8.forEach(function(c){b("pipeErrorTo")(c,a)})}.bind(this))}.bind(this),cancel:function(a){this.$13(a),b("pipeErrorTo")(this.$7,a)}.bind(this)})}.bind(this))};a.prototype.$14=function(a){a.close();this.$4=0;this.$6.resolve();return b("MaybeNativePromise").resolve()};e.exports=a}),null);
__d("ChunkableContinuousRangeStream",["ByteRange","Deferred","FixedSizeTransform","MaybeNativePromise","PausableRangeStream","ReadableStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ByteRange").disjoinAfter,h=b("ByteRange").getLength,i=b("ByteRange").startsAtSame,j=b("ByteRange").startsDuring,k=b("ByteRange").startsImmediateAfter,l=b("ByteRange").union;function a(a,c){__p&&__p();this.$1=b("MaybeNativePromise").resolve(null);this.$2=null;this.$3=null;this.$5=[];this.$7=null;this.$9=!1;this.$10=!1;this.$12=!1;this.$13=!1;this.$14=!1;this.$15=!1;this.$16=!1;this.$17=!1;this.$18=!1;this.$19=!1;this.$20=!1;this.$4=a;c=c||{};a=c;c=a.disableStreamAutoStart;var d=a.enableStreamRangeConcat,e=a.disableDeferredBufferArrayShift,f=a.useNativePromiseInDeferredBuffer,g=a.fixFixedSizeTransformOnNullEndByte,h=a.fixStreamingUndefinedEndByte,i=a.enablePausableStreamResumeFromStart,j=a.fixPausePreReadableStream;a=a.enableFactoryDestroy;this.$12=!!c;this.$13=!!d;this.$14=!!e;this.$16=!!g;this.$15=!!f;this.$8=new(b("FixedSizeTransform"))({disableDeferredBufferArrayShift:this.$14,useNativePromiseInDeferredBuffer:this.$15,fixFixedSizeTransformOnNullEndByte:this.$16});this.$17=!!h;this.$18=!!i;this.$19=!!j;this.$20=!!a}a.prototype.$21=function(){__p&&__p();this.$6&&(this.$6.resolve(null),this.$6=null);this.$3=null;this.$9=!0;if(this.$20){var a=[];this.$5.map(function(b){var c=this.$7;if(!c)return;i(b.getByteRange(),c)&&a.push(b)}.bind(this));this.$5=a}};a.prototype.isClosed=function(){return this.$9};a.prototype.getReservedChunkStream=function(a){__p&&__p();if(this.isClosed())return b("MaybeNativePromise").reject();this.updateRangeStream(a);if(this.$7&&!k(a,this.$7)){this.destroy();return b("MaybeNativePromise").reject(new Error("Bad Range Request"))}this.$7=a;a=h(a);return this.$8.getNextFixedSizeStream(a===null?void 0:a)};a.prototype.$22=function(){var a="close stream";this.$7!=null&&this.$7.endByte!=null&&this.$11!=null?this.$8.cancelAfterBytes(this.$7.endByte-this.$11+1,a):this.$7||this.$8.cancel(a)};a.prototype.updateRangeStream=function(a){__p&&__p();if(this.isClosed())return"closed";if(!this.$23(a)){this.$1.then(function(){this.$22()}.bind(this));this.$21();return"closed"}if(!this.$2)this.$24(a);else{this.$3=this.$25(a);a=this.$5[this.$5.length-1];this.$13&&this.$3!=null&&a&&a.tryConcatByteRange(this.$3)?this.$3=null:!this.$10&&this.$3!=null&&this.$24(this.$3)}return"streaming"};a.prototype.getCurrentStreamRange=function(){return this.$2};a.prototype.removeQueuedRange=function(){this.$3=null};a.prototype.$24=function(a){this.$10=!0,this.$26(a).then(function(){this.$10=!1;if(this.$3){var a=this.$3;this.$3=null;this.$24(a)}}.bind(this))["catch"](function(a){this.$10=!1}.bind(this))};a.prototype.getPausableStreamFactory=function(){return function(){if(this.$5.length)return b("MaybeNativePromise").resolve(this.$5[0]);return this.$6?this.$6.getPromise():b("MaybeNativePromise").resolve(null)}.bind(this)};a.prototype.$26=function(a){__p&&__p();this.$2=a;this.$11==null&&(this.$11=a.startByte);var c=new(b("Deferred"))(b("MaybeNativePromise"));this.$1=c.getPromise();a=new(b("PausableRangeStream"))(a,this.$4,{disableDeferredBufferArrayShift:this.$14,useNativePromiseInDeferredBuffer:this.$15,fixStreamingUndefinedEndByte:this.$17,enablePausableStreamResumeFromStartDangerously:this.$18,fixPausePreReadableStream:this.$19});this.$12?(a=this.$27(a,c),this.$5.push(a)):a.startStream().then(function(){c.resolve()});a=a.getStream();return a.pipeTo(this.$8.getSink())["catch"](function(a){this.$21();throw a}.bind(this))};a.prototype.$27=function(a,c){__p&&__p();var d=a.startStream;a.startStream=function(){__p&&__p();return d.call(a).then(function(d){__p&&__p();d=d.statusPromise;c.resolve();d=d.then(function(c){if(c!=="stream_paused"){var d=this.$5.indexOf(a);d>-1&&this.$5.splice(d,1)}this.$3&&(this.$6=new(b("Deferred"))(b("MaybeNativePromise")));return c}.bind(this));return{statusPromise:d}}.bind(this))}.bind(this);this.$6&&(this.$6.resolve(a),this.$6=null);return a};a.prototype.destroy=function(){this.$22(),this.$21()};a.prototype.$25=function(a){a=a;this.$3&&(a=l(this.$3,a));a!=null&&this.$2&&(a=g(a,this.$2));return a};a.prototype.$23=function(a){if(!this.$2)return!0;return!this.$7?i(a,this.$2):j(a,this.$7)||k(a,this.$7)};e.exports=a}),null);
__d("VideoPriorityCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){return 2}function h(a,b){var c=a.playhead,d=a.bufferEnd;a=a.isPlaying;d=d-c<=b?0:1;c=a?0:1;return g()-d-c}function a(a,b,c){var d=a.playhead,e=a.bufferEnd;if(!c)return h(a,b);e=e-d;return e<=c?g():h(a,b)}e.exports={calculate:h,calculateLive:a,getMaxPriority:g}}),null);
__d("ContinuousPausableStreamTask",["VideoPriorityCalculator","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d,e){__p&&__p();c===void 0&&(c=0);d===void 0&&(d=null);e===void 0&&(e={});this.$3=!1;this.$9=!1;this.$10=!1;this.$11=!1;this.$12=!1;this.$13=0;this.$14=0;this.$15=1;this.$1=a;this.$4=b;this.$7=c;this.$5=d;a=e;b=a.uncancellablePriority;c=a.disableAudioStreamPause;d=a.yieldOnLowPriStream;e=a.lowPriTaskYieldCheckInterval;var f=a.lowPriTaskMinBytesToYield;a=a.lowPriTaskYieldsPerTask;this.$8=b==null?Infinity:b;this.$11=!!c;this.$12=!!d;this.$13=e||0;this.$14=f||0;this.$15=a||1}a.prototype.run=function(){__p&&__p();if(this.$5){var a=this.$5.getOperationLogger("streaming_task").start();a.setType(this.$4);this.$6=a}var c=function(){__p&&__p();this.$2=null;return this.$1().then(function(a){__p&&__p();this.$2=a;this.$3&&this.$16();if(!a){this.$6&&this.$6.setResult("done").log();return}var d=a.getBytesStreamed(),e=a.getByteRange(),f=e.endByte?(e.endByte-e.startByte)/this.$15:0;return a.startStream().then(function(e){__p&&__p();e=e.statusPromise;var g,h=a;this.$13&&h&&(g=b("setInterval")(function(){var a=h.getBytesStreamed()-d;this.$7<b("VideoPriorityCalculator").getMaxPriority()&&a>this.$14&&a>f&&(h.pauseStream(),b("clearInterval")(g))}.bind(this),this.$13));return e.then(function(a){b("clearInterval")(g);if(a==="stream_paused")this.$16();else if(a==="stream_aborted"){this.$6&&this.$6.setResult("failed").log();throw new Error("failed")}(this.$12&&this.$7<b("VideoPriorityCalculator").getMaxPriority()||this.$10)&&(this.$10=!1,this.$16());return c()}.bind(this))["catch"](function(a){b("clearInterval")(g);throw a})}.bind(this))}.bind(this))}.bind(this);return c()};a.prototype.updatePriority=function(a){this.$7=a,this.$9&&this.cancel()};a.prototype.cancel=function(){if(this.$11&&this.$4==="audio")return;if(this.$7>=this.$8){this.$9=!0;return}this.$2&&this.$2.pauseStream();this.$3=!0};a.prototype.cancelOnCurrentStreamDone=function(){this.$10=!0};a.prototype.$16=function(){this.$6&&this.$6.setResult("cancelled").log();throw new Error("cancelled")};e.exports=a}),null);
__d("RlAbrModel",["regeneratorRuntime","RlAbrUtils","RlAlgebra"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2=[],this.$3=0,this.$4=0}a.prototype.$5=function(a,b){"use strict";var c=b[3],d=b[4],e=b[5];b=b[6];d=this.$3*d*this.$1.getNumber("rl_bitrate_reward",1)+c*this.$1.getNumber("rl_watch_time_reward",0)-e*this.$1.getNumber("rl_stall_count_penalty",30)-b*this.$1.getNumber("rl_stall_time_penalty",0);this.$3=a;return d};a.prototype.fetchIfNotExist=function(a,c,d){"use strict";__p&&__p();return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(!(this.$2.length==0)){e.next=4;break}e.next=3;return b("regeneratorRuntime").awrap(b("RlAbrUtils").fetchRlAbrModel(a,c,d));case 3:this.$2=e.sent;case 4:case"end":return e.stop()}},null,this)};a.prototype.getPolicyReportExperience=function(a,c,d,e,f,g){"use strict";__p&&__p();var h=[].concat(d[0]/this.$1.getNumber("rl_bandwidth_scale",1e6),d[1]/this.$1.getNumber("rl_buffer_scale",10),d[2]/this.$1.getNumber("rl_playback_scale",2e5)),i=[];for(var j=0;j<e.length;j++)i.push(e[j]/this.$1.getNumber("rl_bandwidth_scale",1e6));j=b("RlAlgebra").policyInference(this.$2[1],this.$2[2],h,i);h=b("RlAlgebra").vectorSample(j);if(h>=f.length)throw new Error("RL chooses unavailable bitrate.");f=this.$5(i[h],d);b("RlAbrUtils").putExperience(a,c,String(this.$2[0]),this.$4,d,e,f,h,j,g);this.$4+=1;return h};a.prototype.modelFetched=function(){"use strict";return this.$2.length==3};e.exports=a}),null);
__d("FirstLoadedVideoPriorityAdjuster",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;function a(a){this.$1=function(){},this.$2=new(b("SubscriptionsHandler"))(),this.$3=!1,this.$5=!1,g===null&&(g=a,this.$5=!0,this.$2.addSubscriptions(b("EventListener").listen(a,"playing",function(){this.$3=!0,this.$1&&this.$1(this.getPriorityAdjustment()),this.cleanup()}.bind(this))))}a.prototype.setOnPriorityChanged=function(a){this.$1=a};a.prototype.getPriorityAdjustment=function(){return this.$5&&!this.$3?.5:0};a.prototype.cleanup=function(){this.$2.release(),this.$1=function(){}};e.exports=a}),null);
__d("LocalBitrateHelper",["UnitConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UnitConstants").BITS_IN_BYTE;function a(a,b,c){__p&&__p();if(!a[b])return null;if(a[b].startTime>c)return b;while(b<a.length){if(a[b].startTime>c)return b;b++}return null}function c(a,b,c){if(b>=a.length||b<0)return null;c=b+c>=a.length?a.length-b-1:c;var d=a[b];a=a[b+c];b=d.url.startByte;c=a.url.endByte;return b===void 0||c===void 0?null:Math.round((c-b)/(a.endTime-d.startTime)*g)}e.exports={getBufferEndSegmentIndex:a,getLocalBitrate:c}}),null);
__d("ShakaSegmentReferenceHelper",["BinarySearch","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.001;function h(a,b){for(var c=a.length-1;c>=0;--c){var d=a[c];if(Math.abs(b-d.startTime)<g)return c}return-1}function i(a,c){__p&&__p();var d=h(a,c);if(d>-1)return d;for(var d=a.length-1;d>=0;--d){var e=a[d];if(c>=e.startTime&&c<e.endTime){b("FBLogger")("shaka").warn("Segment reference have no matching start time %s, %d",JSON.stringify(e),c);return d}}return-1}function a(a,b){var c=i(a,b.startTime);if(c>=0){a.splice(c,0,b);return c+1}else{a.push(b);return a.length}}function c(a,c){var d=a.startByte;d=b("BinarySearch").leastUpperBound(function(a){a=c[a];return a.url.startByte},d,0,c.length,function(a,b){return a-b});var e=c[d];return e&&e.url.baseUrl===a.baseUrl&&e.url.startByte===a.startByte&&e.url.endByte===a.endByte?d:-1}e.exports={findIndexByStartTime:i,insertReference:a,findIndexByRequestInfo:c,findIndexByStartTimeExact:h}}),null);
__d("MultipleSegmentsProvider",["invariant","ShakaSegmentReferenceHelper","VideoPlayerShakaGlobalConfig","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$2=[],this.$3=[],this.$4=0,this.$5=b("emptyFunction"),this.$1=a}a.prototype.getNumberOfSegments=function(){var a=this.$1;this.$1=Math.max(this.$1-b("VideoPlayerShakaGlobalConfig").getNumber("multi_segment_decay",0),1);return Math.ceil(a)};a.prototype.setFutureSegments=function(a){this.$2=a};a.prototype.setOnSegmentsUpdated=function(a){this.$5=a};a.prototype.clearOnSegmentsUpdated=function(){this.setOnSegmentsUpdated(b("emptyFunction"))};a.prototype.setSegments=function(a){var b=this.$3;this.$3=a;this.$5(b,a)};a.prototype.isRequestInBufferTarget=function(a,c){a=b("ShakaSegmentReferenceHelper").findIndexByRequestInfo(a,this.$3);if(a<0)return!1;a=this.$3[a];return a.startTime<c.bufferStart+c.bufferingGoal};a.prototype.setBufferingGoal=function(a){this.$4=a};a.prototype.$6=function(a){__p&&__p();var c=[],d=b("ShakaSegmentReferenceHelper").findIndexByRequestInfo(a,this.$3);if(d>=0){var e=Math.min(this.$3.length,d+this.$1);for(var d=d;d<e;d++)c.push(this.$3[d])}if(!c.length)return[{startByte:a.startByte,endByte:a.endByte}];d=c[0];e=c[c.length-1];return[{startByte:d.url.startByte||0,endByte:e.url.endByte}]};a.prototype.getFetchRanges=function(a){if(b("VideoPlayerShakaGlobalConfig").getBool("enable_fixed_segment_boundary",!1))return this.$7(a);var c=this.$2;if(c.length===0||b("VideoPlayerShakaGlobalConfig").getBool("enable_streaming_authentic_fetch_range_query",!1))return this.$6(a);c.length>0||g(0,1467);a=c[0];c=c[c.length-1];return c.url.baseUrl!==a.url.baseUrl?[{startByte:a.url.startByte,endByte:a.url.endByte}]:[{startByte:a.url.startByte||0,endByte:c.url.endByte}]};a.prototype.getNextRequestInfo=function(a){var b=this.$3.findIndex(function(b){return b.url.baseUrl===a.baseUrl&&b.url.startByte===a.startByte});b=this.$3[b+1];return!b?null:{baseUrl:b.url.baseUrl,startByte:b.url.startByte,endByte:b.url.endByte}};a.prototype.$7=function(a){__p&&__p();var c=a.startByte;a=b("ShakaSegmentReferenceHelper").findIndexByRequestInfo(a,this.$3);if(a<0)return[];var d=[],e=this.$3[a];if(!e)return[];var f=e.startTime;for(var a=a;a<this.$3.length;a++){e=this.$3[a];if((a+1)%this.$1===0){d.push({startByte:c,endByte:e.url.endByte});var g=e.endTime;e=null;if(g-f>=this.$4)break}}e&&d.push({startByte:c,endByte:e.url.endByte});return d};a.prototype.getSegmentsBoundaries=function(a){if(this.$2.length===0)return[{startByte:a.startByte,endByte:a.endByte}];this.$2.length>0||g(0,1467);return this.$2.map(function(a){a=a.url;var b=a.startByte;a=a.endByte;return{startByte:b||0,endByte:a}})};a.prototype.getTimeRange=function(a){var b={startTime:null,endTime:null};this.$2.forEach(function(c){var d=c.url;if(!d)return;d.startByte===a.startByte&&(b.startTime=c.startTime);d.endByte===a.endByte&&(b.endTime=c.endTime)});return b};e.exports=a}),null);
__d("VideoSegmentInfoHelper",["URI","VideoAkamaiRequestHelper","VideoDashPrefetchCache","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();a=a.requestInfo;var c=new(b("XHRRequest"))(g(a)).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(b("getCrossOriginTransport")),d=/livestream-lookaside\.facebook\.com$/;d=d.test(c.getURI().getDomain());d&&c.setTransportBuilder(b("getCrossOriginTransport").withCredentials);if(b("VideoAkamaiRequestHelper").isAkamai(a.baseUrl)){var e=b("VideoAkamaiRequestHelper").getRequestHeaders(a);e&&Object.keys(e).forEach(function(a){c.setRequestHeader(a,e[a])})}return c}function c(a){a=a.requestInfo;var b=a.startByte;a=a.endByte;return b&&a?a-b:null}function g(a){__p&&__p();var c=a.baseUrl,d=a.isPredictive,e=a.startByte,f=a.endByte;c=new(b("URI"))(c);d&&(c=c.addQueryData({_nc_sc:1}));if(!b("VideoAkamaiRequestHelper").isAkamai(a.baseUrl)){if(e===0&&f==null)return c;c=c.addQueryData({bytestart:e});f!=null&&(c=c.addQueryData({byteend:f}))}return c}function d(a){return b("VideoDashPrefetchCache").hasCacheValue(g(a.requestInfo).toString())}function f(a){return a.baseUrl+","+(a.startByte||0)+(","+(a.endByte||0))}e.exports={createRequest:a,estimateRequestSize:c,getRequestUri:g,isPrefetchedRequest:d,getRequestCacheKey:f}}),null);
__d("SegmentsUpdateHelper",["BanzaiODS","VideoPlayerShakaGlobalConfig","VideoSegmentInfoHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){this.$1=a,this.$2=b}g.prototype.updateSegments=function(a,b){__p&&__p();if(!b.length)return;var c=this.$2.get(a)||[],d=c[c.length-1];d=d?d.startTime:-1;var e=b.length;while(e>0){var f=b[e-1];if(f.startTime<=d)break;e--}f=b.slice(e);d=b.slice(0,e);this.$3(c,d);b=f.map(function(a){return g.createSegmentInfo(a)});b.forEach(function(a){this.$4(a),c.push(a)}.bind(this));this.$2.set(a,c)};g.createSegmentInfo=function(a){var b=a.startTime,c=a.endTime,d=a.url,e=a.unscaledStartTime;a=a.unscaledDuration;var f=d.baseUrl,g=d.isPredictive,h=d.startByte;d=d.endByte;b={segmentID:0,startTime:b,endTime:c,requestInfo:{baseUrl:f,isPredictive:g,startByte:h,endByte:d||void 0},unscaledStartTime:e,unscaledDuration:a};return b};g.prototype.$5=function(a,b){__p&&__p();var c=b.startTime,d=b.endTime,e=b.url,f=b.unscaledStartTime;b=b.unscaledDuration;var g=e.baseUrl,h=e.startByte;e=e.endByte;a.segmentID=0;a.startTime=c;a.endTime=d;c=a.requestInfo;c.baseUrl=g;c.startByte=h;c.endByte=e||void 0;a.unscaledStartTime=f;a.unscaledDuration=b;return a};g.prototype.$3=function(a,c){__p&&__p();if(!c.length)return;var d=c.length,e=function(){var a=c[d-1]||null;d--;return a},f=e(),h=Number.POSITIVE_INFINITY;for(var i=0;i<=a.length&&f!=null;i++){var j=a.length-i,k=a[j-1],l=j>=1?k.startTime:Number.NEGATIVE_INFINITY,m=void 0;if(l<=f.startTime&&f.endTime<=h){if(l===f.startTime){var n=b("VideoSegmentInfoHelper").getRequestCacheKey(k.requestInfo);m=this.$5(k,f);k=b("VideoSegmentInfoHelper").getRequestCacheKey(m.requestInfo);k!==n&&(this.$1["delete"](n),this.$4(m))}else{m=g.createSegmentInfo(f);this.$4(m);a.splice(j,0,m);b("VideoPlayerShakaGlobalConfig").getBool("srm_fix_update_helper_insert_loop",!1)&&(l=m.startTime);k=b("VideoPlayerShakaGlobalConfig").getString("segment_update_helper_splice_path_entity_key","");if(k){n=f.unscaledStartTime;j=f.unscaledDuration;typeof n==="number"&&typeof j==="number"&&m.unscaledStartTime===n&&m.unscaledDuration===j&&b("BanzaiODS").bumpEntityKey("videos.www.shaka",k)}}f=e();b("VideoPlayerShakaGlobalConfig").getBool("srm_fix_update_helper_insert_loop",!1)&&f!=null&&i+1>a.length&&i--}h=l}};g.prototype.$4=function(a){var c=b("VideoSegmentInfoHelper").getRequestCacheKey(a.requestInfo);this.$1.set(c,a)};e.exports=g}),null);
__d("TrackedPromise",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.Promise||b("Promise");b("Promise").resolve();function a(a,b){this.$3=!1,this.$1="pending",this.$2=a.then(function(a){this.$1="fulfilled";return a}.bind(this),function(a){this.$1="rejected";if(!b.getBool("fix_uncaught_promise_error_message",!1)||this.$3)return g.reject(a)}.bind(this))}a.prototype.getPromise=function(){this.$3=!0;return this.$2};a.prototype.isPending=function(){return this.$1==="pending"};a.prototype.getState=function(){return this.$1};e.exports=a}),null);
__d("VideoSegmentPromiseBuffer",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=new Map()}a.prototype.appendSegmentPromise=function(a,b){this.$1.set(a,b);return this};a.prototype.hasSegmentPromise=function(a){return this.$1.has(a)};a.prototype.getSegmentPromise=function(a){var c=this.$1.get(a)||null;if(!b("VideoPlayerShakaGlobalConfig").getBool("fix_promise_buffer_caches_rejected_promises",!0))return c;c&&c.getState()==="rejected"&&this.$1["delete"](a);return c};a.prototype.hasOtherPendingSegments=function(a){var b=new Set(a);return Array.from(this.$1.entries()).some(function(a){return a[1].isPending()&&!b.has(a[0])})};a.prototype.isFirstPendingSegment=function(a){__p&&__p();var b=this.$1.get(a);if(!b||!b.isPending())return!1;var c;for(var b=this.$1.entries(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f[1].isPending()){c=f[0];break}}return c===a};a.prototype.clearAllSegmentPromises=function(){this.$1.clear();return this};a.prototype.removeSegmentPromisesOlderThan=function(a,b){__p&&__p();if(!this.hasSegmentPromise(a)){b.getBool("fixing_old_promise_clearance",!0)&&this.$1.clear();return}for(var b=this.$1.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e===a)return;this.$1["delete"](e)}};a.prototype.removeSegmentPromise=function(a){this.$1["delete"](a)};e.exports=a}),null);
__d("NetworkRequestPipelineStats",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5,h=.5,i=30;function a(){this.$1={},this.$2={},this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=new Set()}a.prototype.addEntry=function(a,b){this.$6=Math.max(this.$6,a);if(!b)return;this.$1[a]=b;var c=this.$1[a-1];!this.$7.has(a-1)&&c&&this.$8(c,b,a);c=this.$1[a+1];!this.$7.has(a)&&c&&this.$8(b,c,a+1)};a.prototype.setNetworkIdle=function(){this.$7.add(this.$6)};a.prototype.$8=function(a,b,c){this.$2[c]=b.startTime+b.timeToFirstByte-(a.startTime+a.timeToLastByte)};a.prototype.getBandwidthAlignments=function(){return this.$2};a.prototype.getBandwidthUtilization=function(){var a=0,b=0;Object.keys(this.$2).forEach(function(c){c=Number.parseInt(c,10);var d=this.$2[c];c=this.$1[c];c=c.timeToLastByte-c.timeToFirstByte;a+=c;b+=Math.max(0,d)+c}.bind(this));return a/Math.max(1,b)};a.prototype.$9=function(a){__p&&__p();a=[];var b=0;while(!0){var c=this.$1[this.$6-b];if(!c)break;c.timeToLastByte-c.timeToFirstByte>=i&&a.push(c);b++}return a};a.prototype.getEstimatedDownloadTime=function(a){if(a){var b=this.$10();return!b?0:a/b}return this.$11(function(a){return a.timeToLastByte-a.timeToFirstByte},{lastN:g,defaultValue:0})};a.prototype.$10=function(){return this.$11(function(a){return a.transferSize/(a.timeToLastByte-a.timeToFirstByte||1)},{lastN:g,defaultValue:0})};a.prototype.$11=function(a,b){var c=b.lastN;b=b.defaultValue;c=this.$9(c);return!c.length?b:c.reverse().reduce(function(b,c){return h*a(c)+(1-h)*b},a(c[0]))};a.prototype.getEstimatedTimeToFirstByte=function(){return this.$11(function(a){return a.timeToFirstByte},{lastN:g,defaultValue:5e3})};a.prototype.getOptimisticTimeToFirstByte=function(){var a=this.$9(g);if(!a.length)return 0;a=Math.min.apply(Math,a.map(function(a){return a.timeToFirstByte}));var b=this.$11(function(a){return a.timeToFirstByte},{lastN:g,defaultValue:5e3});return(a+b)/2};e.exports=a}),null);
__d("VideoPlayerResourceTimer",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getResourceTimingEntry:function(a,c,d){__p&&__p();if(performance.getEntriesByType){a=performance.getEntriesByName(a,"resource");var e=[];a.forEach(function(a){typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.requestStart==="number"&&typeof a.connectEnd==="number"&&typeof a.connectStart==="number"&&typeof a.domainLookupEnd==="number"&&typeof a.domainLookupStart==="number"&&typeof a.transferSize==="number"&&a.responseEnd<=d&&a.startTime>=c&&(!b("VideoPlayerShakaGlobalConfig").getBool("ignore_invalid_timing_entries",!1)||typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.startTime==="number"&&a.responseStart>a.startTime&&a.responseEnd>a.startTime&&a.responseStart>0&&a.responseEnd>0)&&e.push({entry:{timeToFirstByte:a.responseStart-a.startTime,timeToLastByte:a.responseEnd-a.startTime,timeToRequestStart:a.requestStart-a.startTime,timeToConectionEnd:a.connectEnd-a.startTime,timeToConnectionStart:a.connectStart-a.startTime,timeToDomainLookupEnd:a.domainLookupEnd-a.startTime,timeToDomainLookupStart:a.domainLookupStart-a.startTime,transferSize:a.transferSize,startTime:a.startTime},sort:a.responseEnd})});e.sort(function(a,b){return b.sort-a.sort});if(e.length)return e[0].entry}return null}};e.exports=a}),null);
__d("NetworkRequestPipeline",["EventEmitter","NetworkRequestPipelineStats","VideoPlayerResourceTimer","VideoPlayerShakaGlobalConfig","getXHRRequestHandlerHelper","performanceNow","setTimeoutAcrossTransitions","setTimeout","clearTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("VideoPlayerShakaGlobalConfig").getBool("timeouts_persist_on_page_transition",!0)?b("setTimeoutAcrossTransitions"):b("setTimeout"),i=2,j=1;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c){__p&&__p();g.constructor.call(this);this.$NetworkRequestPipeline1=i;this.$NetworkRequestPipeline2=j;this.$NetworkRequestPipeline3=0;this.$NetworkRequestPipeline4=new(b("NetworkRequestPipelineStats"))();this.$NetworkRequestPipeline5=0;this.$NetworkRequestPipeline6=new Map();this.$NetworkRequestPipeline11=null;this.$NetworkRequestPipeline12=null;this.$NetworkRequestPipeline13=0;this.$NetworkRequestPipeline15=function(){this.$NetworkRequestPipeline14||(this.$NetworkRequestPipeline14=this.$NetworkRequestPipeline16(),this.$NetworkRequestPipeline12=null,this.$NetworkRequestPipeline17())}.bind(this);this.$NetworkRequestPipeline8=a;a=c||{};c=a.xhrHandleNetworkFailure;var d=a.maxConcurrentRequests,e=a.soothingFactor,f=a.fixFinishRequest;a=a.requestTimeout;this.$NetworkRequestPipeline9=!!c;this.$NetworkRequestPipeline10=!!f;this.$NetworkRequestPipeline8.setOnItemAdded(this.$NetworkRequestPipeline15);d!==void 0&&(this.$NetworkRequestPipeline1=d);e!==void 0&&(this.$NetworkRequestPipeline2=e);a!==void 0&&(this.$NetworkRequestPipeline13=a);this.$NetworkRequestPipeline15()}a.prototype.$NetworkRequestPipeline18=function(){var a=this.$NetworkRequestPipeline3;this.$NetworkRequestPipeline3++;return a};a.prototype.$NetworkRequestPipeline17=function(){if(this.$NetworkRequestPipeline14&&this.$NetworkRequestPipeline5<this.$NetworkRequestPipeline1){var a=this.$NetworkRequestPipeline19(this.$NetworkRequestPipeline14);a||(this.$NetworkRequestPipeline14=null)}};a.prototype.$NetworkRequestPipeline20=function(a){if(a.hasEnded)return!1;b("clearTimeout")(a.timeout);a.hasEnded=!0;this.$NetworkRequestPipeline14=this.$NetworkRequestPipeline16();this.$NetworkRequestPipeline17();return!0};a.prototype.$NetworkRequestPipeline19=function(a){__p&&__p();if(a.xhrRequest)return!0;var c=b("performanceNow")(),d=this.$NetworkRequestPipeline8.dequeue();if(!d){this.$NetworkRequestPipeline4.setNetworkIdle();return!1}var e=d.xhrRequest;d=d.estimatedSize;var f=!1,g=function(){if(!this.$NetworkRequestPipeline10)return!1;if(f)return!0;f=!0;return!1}.bind(this),i,j=function(d){if(!g()){d=b("VideoPlayerResourceTimer").getResourceTimingEntry(e.getURI().toString(),c,b("performanceNow")());this.$NetworkRequestPipeline4.addEntry(a.id,d);this.$NetworkRequestPipeline5--;this.$NetworkRequestPipeline20(a)||this.$NetworkRequestPipeline17()}i&&i.remove()}.bind(this),k=function(){g()||(this.$NetworkRequestPipeline5--,this.$NetworkRequestPipeline20(a)||this.$NetworkRequestPipeline17()),i&&i.remove()}.bind(this);f||(i=this.addListener("evict",function(a){e===a.xhrRequest&&k()}));j=b("getXHRRequestHandlerHelper")(e).addResponseHandler(j).addAbortHandler(k).addErrorHandler(k).addNetworkFailureHandler(function(){this.$NetworkRequestPipeline9&&k()}.bind(this));this.$NetworkRequestPipeline13&&j.addTimeoutHandler(k);a.xhrRequest=e;this.$NetworkRequestPipeline5++;a.timeout=h(function(){this.$NetworkRequestPipeline20(a)}.bind(this),this.$NetworkRequestPipeline21(e,d||void 0));this.$NetworkRequestPipeline11=this.$NetworkRequestPipeline12;this.$NetworkRequestPipeline12=e.getURI().toString();this.$NetworkRequestPipeline13&&e.setTimeout(this.$NetworkRequestPipeline13);e.send();return!0};a.prototype.evictRequest=function(a){this.emit("evict",{xhrRequest:a})};a.prototype.getRecentBlockingRequestUrl=function(){return this.$NetworkRequestPipeline11};a.prototype.$NetworkRequestPipeline16=function(){var a=this.$NetworkRequestPipeline18();a={id:a,hasEnded:!1,xhrRequest:null,timeout:null};return a};a.prototype.$NetworkRequestPipeline21=function(a,b){a=this.$NetworkRequestPipeline4.getEstimatedDownloadTime(b);b=this.$NetworkRequestPipeline4.getEstimatedTimeToFirstByte();var c=this.$NetworkRequestPipeline4.getOptimisticTimeToFirstByte();return(a+b-c)*this.$NetworkRequestPipeline2};e.exports=a}),null);
__d("VideoClientEdgeCooperation",["clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=b("gkx")("678909"),h="X-FB-CEC-Video-Limit".toLowerCase(),i=1e3*60*2,j=/[\r\n]+/,k=null,l=null;function m(){k=null,b("clearTimeout")(l),l=null}var n=e.exports={updateFromXHR:function(a){this.updateFromHeaders(a.getAllResponseHeaders())},updateFromHeaders:function(a){if(!g)return;a=a.trim().split(j);a.forEach(function(a){a=a.split(": ");var b=a.shift().toLowerCase();a=a.shift();b===h&&n._updateFromLimitHeader(a)})},updateFromResponse:function(a){if(!g)return;a=a.headers;if(!a.has(h))return;a=a.get(h);a&&n._updateFromLimitHeader(a)},_updateFromLimitHeader:function(a){a=a.match("s:([\\.0-9]+)");if(!a)return;a=Number(a[1]);k===null&&(k=a);a<=k&&(k=a,b("clearTimeout")(l),l=b("setTimeoutAcrossTransitions")(m,i))},applyBandwidthLimit:function(a,b){if(!g)return a;return k!==null?Math.min(a,b)*k:a}}}),null);
__d("PriorityRequestQueue",["invariant","EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("EventEmitter"));h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$PriorityRequestQueue1=new Map(),this.$PriorityRequestQueue2=new Map(),this.$PriorityRequestQueue3=function(){},b}a.prototype.dequeue=function(){return this.$PriorityRequestQueue4(Infinity)};a.prototype.setOnItemAdded=function(a){this.$PriorityRequestQueue3=a};a.prototype.$PriorityRequestQueue4=function(a){var b=-Infinity;Array.from(this.$PriorityRequestQueue1.keys()).forEach(function(c){c<a&&(b=Math.max(b,c))});if(b===-Infinity)return null;var c=this.$PriorityRequestQueue1.get(b);c||g(0,2413);c=this.$PriorityRequestQueue5(c);return c?c:this.$PriorityRequestQueue4(b)};a.prototype.$PriorityRequestQueue5=function(a){__p&&__p();var b=a.queues,c=a.lastDequeued;if(!b.size)return null;var d=Array.from(b),e=c?d.findIndex(function(a){return a===c}):-1;for(var f=e+1;f<=e+b.size;f++){var g=f%b.size;g=d[g];var h=g.dequeue();if(h){a.lastDequeued=g;return h}}return null};a.prototype.setQueue=function(a,b){__p&&__p();var c=this.$PriorityRequestQueue2.get(a);if(c===b)return;c||this.$PriorityRequestQueue3("append");this.removeQueue(a);c=this.$PriorityRequestQueue1.get(b);c||(c={lastDequeued:null,queues:new Set()});c.queues.add(a);a.setOnItemAdded(function(b){this.$PriorityRequestQueue6(a,b)}.bind(this));this.$PriorityRequestQueue2.set(a,b);this.$PriorityRequestQueue1.set(b,c)};a.prototype.removeQueue=function(a){var b=this.$PriorityRequestQueue7(a);a.setOnItemAdded(function(){});this.$PriorityRequestQueue2["delete"](a);b&&b.queues["delete"](a)};a.prototype.$PriorityRequestQueue6=function(a,b){this.$PriorityRequestQueue3(b),b==="prepend"&&this.$PriorityRequestQueue7(a)};a.prototype.$PriorityRequestQueue7=function(a){__p&&__p();var b=this.$PriorityRequestQueue2.get(a);if(b!==void 0&&b!==null){b=this.$PriorityRequestQueue1.get(b);b||g(0,2414);var c=b.queues;if(b.lastDequeued===a){c=Array.from(c);var d=c.findIndex(function(b){return b===a});b.lastDequeued=c[d-1]||null}return b}return null};a.prototype.demandReschedule=function(){this.emit("demand_reschedule")};e.exports=a}),null);
__d("VideoPipelineProvider",["NetworkRequestPipeline","PriorityRequestQueue","VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map();function a(a){var c=g.get(a);if(!c){var d=new(b("PriorityRequestQueue"))(),e=b("VideoPlayerShakaGlobalConfig").getNumber("request_pipeline_soothing_factor",2),f=b("VideoPlayerShakaGlobalConfig").getNumber("request_pipeline_max_concurrent_requests",2);a==="audio"&&(e=b("VideoPlayerShakaGlobalConfig").getNumber("audio_request_pipeline_soothing_factor",1),f=b("VideoPlayerShakaGlobalConfig").getNumber("audio_request_pipeline_max_concurrent_requests",1));f=new(b("NetworkRequestPipeline"))(d,{xhrHandleNetworkFailure:b("VideoPlayerShakaGlobalConfig").getBool("xhr_handle_network_failure",!0),maxConcurrentRequests:f,soothingFactor:e,fixFinishRequest:b("VideoPlayerShakaGlobalConfig").getBool("skip_old_handler_on_finished_requests",!1),requestTimeout:b("VideoPlayerShakaGlobalConfig").getNumber("request_pipeline_timeout_ms",0)});c={requestQueue:d,pipeline:f};g.set(a,c)}return c}e.exports={getPriorityRequestQueueAndPipeline:a}}),null);
__d("VideoSegmentRequestQueue",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=function(){},this.$2=new Map(),this.$3=new Map()}a.prototype.dequeue=function(){__p&&__p();var a=this.$3.entries().next().value;if(a){this.$3["delete"](a[0]);return a[1]||null}a=this.$2.entries().next().value;if(!a)return null;this.$2["delete"](a[0]);return a[1]||null};a.prototype.setOnItemAdded=function(a){this.$1=a};a.prototype.append=function(a,b,c){this.$4(a,b,c,this.$2,"append");return this};a.prototype.clearNormalQueue=function(){this.$2.clear()};a.prototype.changeToTopPri=function(a){var b=this.$2.get(a);b&&(this.$2["delete"](a),this.$3.set(a,b))};a.prototype.removeTopPriSegment=function(a){var b=this.$3.get(a);this.$3["delete"](a);return b?b.xhrRequest:null};a.prototype.isEmpty=function(){return this.$2.size===0&&this.$3.size===0};a.prototype.prependTopPri=function(a,b,c){var d=this.$3;this.$3=new Map();this.$5(a,b,c,d,this.$3)};a.prototype.prepend=function(a,b,c){var d=this.$2;this.$2=new Map();this.$5(a,b,c,d,this.$2)};a.prototype.$5=function(a,b,c,d,e){this.$4(a,b,c,e,"prepend"),d.forEach(function(b,c){var a=b.xhrRequest;b=b.estimatedSize;this.$6(c,a,b,e)}.bind(this))};a.prototype.$4=function(a,b,c,d,e){this.$6(a,b,c,d),this.$1(e)};a.prototype.$6=function(a,b,c,d){b={xhrRequest:b,estimatedSize:c};d.set(a,b)};e.exports=a}),null);
__d("createVideoResponsePromise",["Promise","VideoPlayerShakaError","VideoPlayerShakaGlobalConfig","getXHRRequestHandlerHelper","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.Promise||b("Promise");b("Promise").resolve();function a(a){__p&&__p();var c,d=a.getURI().toString(),e=a.send;a.send=function(){c=b("performanceNow")(),e.call(a)};var f=new g(function(e,f){__p&&__p();var g=b("getXHRRequestHandlerHelper")(a).addResponseHandler(function(a){e({response:a,responseTime:b("performanceNow")()-c})}).addAbortHandler(function(a){if(a==="reschedule")return;a={errorMsg:"Request aborted.",errorType:"abort",errorCode:b("VideoPlayerShakaGlobalConfig").getBool("fix_shaka_xhr_error_status",!0)?"":0,errorRawTransportStatus:0};a=b("VideoPlayerShakaError").translateError(a,d,"aborted");f(a)}).addErrorHandler(function(a){a=b("VideoPlayerShakaError").translateError(a,d,"net");f(a)}).addNetworkFailureHandler(function(a){if(b("VideoPlayerShakaGlobalConfig").getBool("xhr_handle_network_failure",!0)){a=b("VideoPlayerShakaError").translateError(a,d,"net");f(a)}});b("VideoPlayerShakaGlobalConfig").getNumber("request_pipeline_timeout_ms",0)&&g.addTimeoutHandler(function(){var a=b("VideoPlayerShakaError").createTimeoutError(d);f(a)})});return f}e.exports=a}),null);
__d("VideoSegmentRequestPipeline",["NetworkRequestPipeline","SubscriptionsHandler","VideoClientEdgeCooperation","VideoPipelineProvider","VideoPlayerResourceTimer","VideoPlayerShakaError","VideoPriorityCalculator","VideoSegmentInfoHelper","VideoSegmentRequestQueue","createVideoResponsePromise","getXHRRequestHandlerHelper","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h){__p&&__p();this.$2=new Map();this.$3=new Map();this.$4=null;this.$5=null;this.$6=null;this.$12=new Map();this.$13=new Map();this.$14=null;this.$16=0;this.$17=new(b("SubscriptionsHandler"))();this.$21=function(){if(this.$20()===b("VideoPriorityCalculator").getMaxPriority())return;this.$1.getBool("enable_rescheduler",!1)&&this.$12.size>0&&this.$25()}.bind(this);this.$1=a;this.$19=g;this.$11=new(b("VideoSegmentRequestQueue"))();if(this.$1.getBool("enable_global_scheduler",!0)){a=b("VideoPipelineProvider").getPriorityRequestQueueAndPipeline(c);g=a.requestQueue;a=a.pipeline;this.$14=g;this.$15=a}else this.$15=new(b("NetworkRequestPipeline"))(this.$11,{xhrHandleNetworkFailure:this.$1.getBool("xhr_handle_network_failure",!0),maxConcurrentRequests:this.$1.getNumber("request_pipeline_max_concurrent_requests",2),soothingFactor:this.$1.getNumber("request_pipeline_soothing_factor",2),fixFinishRequest:this.$1.getBool("skip_old_handler_on_finished_requests",!1),requestTimeout:this.$1.getNumber("request_pipeline_timeout_ms",0)});g=this.$14;g&&(g.setQueue(this.$11,this.$20()),this.$17.addSubscriptions(g.addListener("demand_reschedule",this.$21)));this.$9=c;this.$7=d;this.$8=h;this.$10=e;this.$18=f}a.prototype.enqueue=function(a,c){var d=b("VideoSegmentInfoHelper").createRequest(a),e=b("VideoSegmentInfoHelper").estimateRequestSize(a),f=b("createVideoResponsePromise")(d),g=d.send;d.send=function(){this.$12.set(a,d),this.$22(a,d,c),g.call(d)}.bind(this);this.$11.append(a,d,e);this.$23();return f};a.prototype.lockRequest=function(a){this.$11.changeToTopPri(a),this.$13.set(a,{lockedTime:b("performanceNow")(),rescheduleCount:0})};a.prototype.cancelUnlockedRequests=function(){this.$11.clearNormalQueue(),this.$12.forEach(function(a,b){this.$13.has(b)||(a.abort(),this.$12["delete"](b))}.bind(this))};a.prototype.abortLockedRequest=function(a){var b=this.$11.removeTopPriSegment(a);b&&b.abort();b=this.$12.get(a);b&&(b.abort(),this.$24(a))};a.prototype.$24=function(a){this.$12["delete"](a),this.$13["delete"](a)};a.prototype.unload=function(){this.$14&&this.$14.removeQueue(this.$11),this.$17.release()};a.prototype.setPriority=function(a){if(this.$20()===a)return;this.$16=a;var b=this.$14;b&&(b.setQueue(this.$11,a),this.$23())};a.prototype.getResourceTimingEntry=function(a){return this.$3.get(a)||null};a.prototype.$23=function(){var a=this.$14;a&&!this.$11.isEmpty()&&this.$20()>=b("VideoPriorityCalculator").getMaxPriority()&&a.demandReschedule()};a.prototype.$25=function(){Array.from(this.$12.values()).forEach(function(a){this.$15.evictRequest(a)}.bind(this))};a.prototype.$20=function(){return this.$16};a.prototype.$26=function(a){var b=this.$13.get(a)||{},c=b.lockedTime;b=b.rescheduleCount;b=(b||0)+1;this.$24(a);this.$13.set(a,{lockedTime:c,rescheduleCount:b})};a.prototype.$22=function(a,c,d){__p&&__p();var e=c.getURI().toString(),f=this.$20(),g,h,i=this.$15.getRecentBlockingRequestUrl(),j=!1;i&&i!==this.$5&&(j=!0);this.$1.getBool("fixing_scheduler_xhr_request_leaks",!0)?(h=this.$5,this.$5=e):(g=this.$4,this.$4=c);if(a){var k=this.$27(e,f,j,d),l=b("performanceNow")(),m=!1,n=function(){if(!this.$1.getBool("skip_old_handler_on_finished_requests",!1))return!1;if(m)return!0;m=!0;return!1}.bind(this);i=b("getXHRRequestHandlerHelper")(c).addResponseHandler(Object.assign(function(d,f){__p&&__p();b("VideoClientEdgeCooperation").updateFromHeaders(f);this.$8&&this.$8.handleHeaders(f);if(!n()){f=b("performanceNow")();var i=b("VideoPlayerResourceTimer").getResourceTimingEntry(e,l,f),j=d.byteLength;if(this.$10){f=i?this.$28(i,c,g,h):f-l;this.$10.sample(f,j,this.$9==="video",{timeToLastByte:f},this.$18,this.$7,this.$1.getBool("evaluate_abr_on_fetch_end",!1))}k&&this.$29(a,k,d.byteLength,i,l);this.$24(a)}}.bind(this),{includeHeaders:!0})).addAbortHandler(function(c){if(!n()){var d={errorMsg:"Request aborted.",errorType:"abort",errorCode:this.$1.getBool("fix_shaka_xhr_error_status",!0)?"":0,errorRawTransportStatus:0};d=b("VideoPlayerShakaError").translateError(d,e,"aborted");c==="reschedule"?this.$26(a):this.$24(a);k&&k.setError(d).log()}}.bind(this)).addErrorHandler(function(c){if(!n()){c=b("VideoPlayerShakaError").translateError(c,e,"net");k&&k.setError(c).log();this.$24(a)}}.bind(this)).addNetworkFailureHandler(function(c){if(!n()&&this.$1.getBool("xhr_handle_network_failure",!0)){c=b("VideoPlayerShakaError").translateError(c,e,"net");k&&k.setError(c).log();this.$24(a)}}.bind(this));this.$1.getNumber("request_pipeline_timeout_ms",0)&&i.addTimeoutHandler(function(){var c=b("VideoPlayerShakaError").createTimeoutError(e);k&&k.setError(c).log();this.$24(a)}.bind(this))}};a.prototype.$27=function(a,b,c,d){var e=null;this.$7&&(e=this.$7.getOperationLogger("request").setResource(a).start(),e.setReason(d).setPriorityFloat(b).setType(this.$9||null).setWasDelayed(c).setInitiator("pipeline"),this.$19&&e.setPushed(this.$19.getPushCountForUrl(a)));return e};a.prototype.$29=function(a,b,c,d,e){__p&&__p();a=this.$13.get(a)||{};var f=a.lockedTime;a=a.rescheduleCount;var g=0;f&&(g=e-f);a||(a=0);b.setLength(c);if(d){e=d.timeToFirstByte;f=d.timeToLastByte;c=d.timeToRequestStart;b.setTimeToFirstByte(Math.round(e)).setTimeToLastByte(Math.round(f)).setTimeToRequestStart(Math.round(c)).setTimeToRequestSent(Math.round(g)).setRescheduleCount(Math.round(a))}b.log()};a.prototype.$28=function(a,b,c,d){__p&&__p();var e=null;c&&(e=this.$2.get(c),this.$1.getBool("fixing_scheduler_xhr_request_leaks",!0)?this.$2["delete"](c):this.$2["delete"](e));d&&(e=this.$3.get(d),this.$3["delete"](d));this.$1.getBool("fixing_scheduler_xhr_request_leaks",!0)?this.$3.set(b.getURI().toString(),a):this.$2.set(b,a);if(e){c=e.startTime+e.timeToLastByte;d=a.startTime+a.timeToLastByte;b=Math.min(d-c,a.timeToLastByte);return Math.max(a.timeToLastByte-a.timeToFirstByte,b)}return a.timeToLastByte};e.exports=a}),null);
__d("SegmentRequestManager",["invariant","BinarySearch","SegmentsUpdateHelper","TrackedPromise","VideoPriorityCalculator","VideoSegmentInfoHelper","VideoSegmentPromiseBuffer","VideoSegmentRequestPipeline"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=3;function a(a,c,d,e,f,g,h,i){this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=null,this.$7=[],this.$8=new(b("VideoSegmentPromiseBuffer"))(),this.$9=!1,this.$11=0,this.$1=a,this.$6=new(b("VideoSegmentRequestPipeline"))(a,c,e,f,g,h,i),this.$12=d||b("VideoPriorityCalculator").calculate}a.prototype.updateSegmentIndex=function(a,b){this.$2.set(a,b)};a.prototype.updateSegmentsByShakaReferences=function(a,c){new(b("SegmentsUpdateHelper"))(this.$4,this.$3).updateSegments(a,c)};a.prototype.updateSegments=function(a,c){var d=this.getSegments_INTERNAL_USE_ONLY(a);c.forEach(function(a){var c=b("VideoSegmentInfoHelper").getRequestCacheKey(a.requestInfo);this.$4.has(c)||(this.$4.set(c,a),this.$13(d,a))}.bind(this));this.$3.set(a,d)};a.prototype.getSegments_INTERNAL_USE_ONLY=function(a){a=this.$3.get(a);return a||[]};a.prototype.hasSegment_INTERNAL_USE_ONLY=function(a){a=b("VideoSegmentInfoHelper").getRequestCacheKey(a.requestInfo);return this.$4.has(a)};a.prototype.updatePriorityWithNewPlayhead=function(a){this.$10&&(this.$10.playhead=a);this.$14();return this};a.prototype.updatePriorityWithNewPlayingState=function(a){this.$10&&(this.$10.isPlaying=a);this.$14();return this};a.prototype.updatePriorityWithNewAdjustment=function(a){if(a===this.$11)return this;a<=0||g(0,4433);this.$11=a;this.$14();return this};a.prototype.updatePlayerState=function(a,b){__p&&__p();var c=this.$3.get(a);this.$10=b;if(!c)return this;var d=this.$5;this.$5=a;if(this.$9)return this;this.$14();c=this.$15(b,c);b=b.additionalSegmentsRequired;var e=[];b.length>0&&(e=this.$16(b),c=c.concat(e).sort(function(a,b){return a.startTime-b.startTime}));if(d!==a){this.$17();this.$18(c,e);return this}b=[];this.$8.hasOtherPendingSegments(c)?(this.$17(),b=c):(b=c.filter(function(a){return!this.$8.hasSegmentPromise(a)}.bind(this)),this.$8.removeSegmentPromisesOlderThan(c[0],this.$1));this.$18(b,e);return this};a.prototype.getPromise=function(a){a=b("VideoSegmentInfoHelper").getRequestCacheKey(a);a=this.$4.get(a);if(!a)throw new Error("the given request info is not found it segments cache ");var c=this.$8.getSegmentPromise(a),d;c&&(!c.isPending()||this.$8.isFirstPendingSegment(a))?d=c.getPromise():(this.$17(),d=this.$6.enqueue(a),c=new(b("TrackedPromise"))(d,this.$1),this.$8.appendSegmentPromise(a,c));this.$6.lockRequest(a);return d};a.prototype.getResourceTimingEntry=function(a){return this.$6.getResourceTimingEntry(a)};a.prototype.$16=function(a){var c=[];a.forEach(function(a){a=this.$4.get(b("VideoSegmentInfoHelper").getRequestCacheKey(b("SegmentsUpdateHelper").createSegmentInfo(a).requestInfo));a&&c.push(a)}.bind(this));return c};a.prototype.$13=function(a,b){var c=Number.POSITIVE_INFINITY;for(var d=0;d<=a.length;d++){var e=a.length-d,f=e>=1?a[e-1].startTime:Number.NEGATIVE_INFINITY;if(f<=b.startTime&&b.startTime<c){e===a.length?a.push(b):a.splice(e,0,b);return}c=f}};a.prototype.$14=function(){if(!this.$10)return;var a=this.$12(this.$10,this.$1.getNumber("global_scheduler_priority_threshold",6));a+=this.$11;this.$6.setPriority(a)};a.prototype.$17=function(){this.$6.cancelUnlockedRequests(),this.$8.clearAllSegmentPromises()};a.prototype.$18=function(a,c){__p&&__p();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(b("VideoSegmentInfoHelper").isPrefetchedRequest(f))return;var g=c.includes(f)?"replacing_lower_quality_buffer":null;g=this.$6.enqueue(f,g);this.$8.appendSegmentPromise(f,new(b("TrackedPromise"))(g,this.$1))}};a.prototype.abortRequest=function(a){a=b("VideoSegmentInfoHelper").getRequestCacheKey(a);a=this.$4.get(a);a&&(this.$6.abortLockedRequest(a),this.$8.removeSegmentPromise(a))};a.prototype.disable=function(){if(this.$9)return;this.$6.cancelUnlockedRequests();this.$6.unload();this.$9=!0};a.prototype.enable=function(){this.$9=!1};a.prototype.isDisabled=function(){return this.$9};a.prototype.$15=function(a,b){__p&&__p();var c=a.playhead,d=a.bufferEnd;a=a.bufferingGoal;d=Math.max(d,c);var e=[];d=this.$19(d,b);for(var d=Math.max(d,0);d<b.length;d++){var f=b[d];if(f.startTime>c+a)break;e.push(f)}return e};a.prototype.$19=function(a,b){__p&&__p();var c=this.$1.getNumber("templated_chunked_segment_update_limit_int",0),d=b.length;if(!c)return this.$20(a,b);if(b.length>0){d=this.$20(a,b);if(d<b.length){var e=this.$21(b[d].startTime),f=this.$21(b[d].endTime),g=this.$21(a);if(e<=g&&f>g)return d}}e=this.$5||"";f=this.$2.get(e);if(!f)return d;d=f.findIndex(a);if(d<0)return b.length;g=Math.min(f.length(),d+c);c=[];for(var h=d;h<g;++h)c.push(f.get(h));d=b.length;this.updateSegmentsByShakaReferences(e,c);g=this.$3.get(e);return g?this.$20(a,g):d};a.prototype.$20=function(a,c){return b("BinarySearch").leastUpperBound(function(b){var d=this.$21(c[b].startTime);b=this.$21(c[b].endTime);a=this.$21(a);return d<=a&&b>a?0:d-a}.bind(this),0,0,c.length,function(a,b){return a-b})};a.prototype.$21=function(a){return+a.toFixed(h)||0};e.exports=a}),null);
__d("ShakaTimelineSegmentIndexUtils",["BinarySearch","VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b,c){return Math.abs(a-b)<c},h=function(a,b,c){return!g(a,b,c)&&a-b<0},i=function(a,b,c){return g(a,b,c)||a-b<0},j=function(a,b,c){return g(a,b,c)||a-b>0};function k(b){var a=0;for(var c=0;c<b.length;++c)b[c].startSegmentIndex=a,a+=b[c].repeat+1;return a}function l(b,c,a){__p&&__p();c=a-c;var d=0;if(a<1||c<0||b.length<1)throw new RangeError("Index out of range.");for(a=b.length-1;a>-1;--a){var e=b[a].repeat+1;d=e-c;if(d<0){c=Math.abs(d);continue}break}return{S:a,r:d}}function a(a,c,d,e){__p&&__p();if(b("VideoPlayerShakaGlobalConfig").getBool("non_iterative_segments_api_calls",!1))return v(a,c,d,e);var f=c.length-1,g=1e-7,k=function(a){return a/d+e};for(;f>-1;--f)if(i(k(c[f].startTime),a,g))break;if(f===-1)return f;var l=c[f],m=l.duration/d,n=0;for(var o=0;o<f;++o)n+=c[o].repeat+1;o=k(l.startTime);var p=o+m*(l.repeat+1);if(j(a,p,g)&&c[f+1]&&h(a,k(c[f+1].startTime),g))return n+l.repeat;else if(j(a,p,g)&&!c[f+1])return-1;k=n+Math.floor((a-o)/m);o+=m*(k-n);p=o+m;return j(a,o,g)&&h(a,p,g)?k:k+1}function c(a,c,d,e){__p&&__p();if(b("VideoPlayerShakaGlobalConfig").getBool("non_iterative_segments_api_calls",!1)){for(var f=a;f<c;++f){var g=u(d,f);e(g.unscaledStartTime,g.unscaledEndTime,g.segmentReplacement,g.delta,g.previousEndTime)}return}g=c-a;f=a;c=0;a=0;var h=!0;for(var i=0;i<d.length;++i){var j=d[i],k=j.repeat;k=k+1;var l=Math.min(a+k,f);l=l-a;var m=j.startTime,n=void 0;l&&(n=m+l*j.duration,d[i+1]&&n>d[i+1].startTime&&(n=d[i+1].startTime),m=n,c=n,h=!1);for(var j=l;j<k;++j){l=null;var o=b("VideoPlayerShakaGlobalConfig").getBool("fix_time_point_boundary_gap_expansion",!1);!o&&!h&&m!=c&&(l=m-c||null);n=m+d[i].duration;o=o?d[i+1]&&j+1>=k&&n!==d[i+1].startTime:d[i+1]&&n>d[i+1].startTime;o&&(l=d[i+1].startTime-n,c=n,n=d[i+1].startTime);o=a+j;e(m,n,o,l,l!==null?c:l);h=!1;if(--g<=0)return;f++;m=n;c=n}a+=k}}function d(a,b,c){__p&&__p();var d=[];if(a.length>1){var e=0;for(var f=0;f<a.length;++f){var g=a[f],h=g.startTime;g=h+(g.repeat+1)*g.duration;if(f&&h!==e){var i=h-e;i>0&&d.push({start:e/b+c,end:h/b+c})}e=g}}return d}function m(a){__p&&__p();var b=[];if(a.length===0)return b;b.push(a[0]);for(var c=1;c<a.length;++c){var d=b[b.length-1];if(d.duration!==a[c].duration){b.push(a[c]);continue}var e=d.startTime+d.duration*(d.repeat+1);if(e===a[c].startTime){d.repeat++;continue}b.push(a[c])}return b}function f(a,b){__p&&__p();a=a.slice();b=b.slice();if(b.length===0)return a;if(a.length===0){for(var c=0;c<b.length;++c)a.push(b[c]);return a}c=a[a.length-1];var d=c.startTime+c.duration*c.repeat;c=d+c.duration;var e=b[b.length-1];e=e.startTime+e.duration*(e.repeat+1);var f=k(b),g=[];if(c!==e){for(var c=f-1;c>-1;--c){e=l(b,c,f);var h=b[e.S],i=h.duration;h=h.startTime+i*e.r;if(d!==h)g.push({startTime:h,duration:i,repeat:0,startSegmentIndex:0});else break}while(g.length)a.push(g.pop())}e=m(a);return e}function n(b,c,a){__p&&__p();if(c+1>=a)return p(b,a);a=l(b,c+1,a);var d=a.S;a=a.r;var e=d,f=a;f===0?(d=e-1,a=b[d].repeat):(d=e,a=f-1);a=b[d].startTime+b[d].duration*a;d=a+b[d].duration;f=f!==0?null:b[e].startTime-d;var g=f?d:null;d=f?b[e].startTime:d;return{unscaledStartTime:a,unscaledEndTime:d,segmentReplacement:c,delta:f,previousEndTime:g}}function o(b,a){if(a<1||!b.length)throw new RangeError("Index out of range");return n(b,0,a)}function p(b,a){if(a<1||!b.length)throw new RangeError("Index out of range");var c=b.length-1,d=b[c].repeat;d=b[c].startTime+b[c].duration*d;b=d+b[c].duration;return{unscaledStartTime:d,unscaledEndTime:b,segmentReplacement:a-1,delta:null,previousEndTime:null}}function q(a,b,c){__p&&__p();var d=c-a.startSegmentIndex;d=a.startTime+a.duration*d;var e=d+a.duration,f=null,g=null;if(b&&a.startSegmentIndex+a.repeat===c){a=b.startTime;f=a-e;f&&(g=e,e=a)}b={unscaledStartTime:d,unscaledEndTime:e,segmentReplacement:c,delta:f,previousEndTime:g};return b}function r(a,b,c){var d=a.startTime;c=(c-d)/a.duration;d=Math.floor(c)+1;var e=1e-7;c=g(c,d,e)?d:Math.floor(c);c+=a.startSegmentIndex;e=a.startSegmentIndex+a.repeat;return c<=e?c:b?e:-1}function s(a,c){var d=a[a.length-1];if(b("VideoPlayerShakaGlobalConfig").getBool("templated_faster_start_index_finds",!1)&&c===0)return a.length?0:-1;return b("VideoPlayerShakaGlobalConfig").getBool("templated_test_last_time_point_first",!1)&&d&&d.startSegmentIndex<=c?a.length-1:b("BinarySearch").findBoundInArray(a,c,function(a,b){return a.startSegmentIndex-b},b("BinarySearch").GREATEST_LOWER_BOUND)}function t(a,c){var d=a[a.length-1],e=1e-7;if(b("VideoPlayerShakaGlobalConfig").getBool("templated_test_last_time_point_first",!1)&&d&&i(d.startTime,c,e))return a.length-1;d=function(a,b){return g(a.startTime,b,e)?0:a.startTime-b};return b("BinarySearch").findBoundInArray(a,c,b("VideoPlayerShakaGlobalConfig").getBool("use_float_epsilon_comparator_in_binary_search",!1)?d:function(a,b){return a.startTime-b},b("BinarySearch").GREATEST_LOWER_BOUND)}function u(a,b){var c=s(a,b),d=a[c];d=q(d,a[c+1]||null,b);return d}function v(a,b,c,d){a=(a-d)*c;d=t(b,a);c=b[d];if(!c)return-1;c=r(c,b[d+1]||null,a);return c}function w(a,b,c,d){__p&&__p();a=(a-d)*c;d=t(b,a);c=b[d];b=b[d+1]||null;if(!c)return null;d=r(c,b,a);if(d<0)return null;a=q(c,b,d);return a}e.exports={length:k,findIndex:a,find:w,findSTagAndRepeatValueByIndex:l,get:n,getSegments:c,getSeekRangeGaps:d,compressTimePoints:m,integrateTimePoints:f,first:o,last:p}}),null);
__d("VideoPlayerBitrateEstimator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.sample=function(a,b){};a.prototype.getTotalWeight=function(){return 0};a.prototype.getEstimate=function(){return 0};a.prototype.reset=function(){};function a(){}function b(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d}b.prototype.getEstimate=function(){return this.$1.getTotalWeight()<this.$3?this.$2:Math.round(this.$1.getEstimate())};b.prototype.sample=function(a,b){a=a/b;b=b;a>this.getEstimate()&&(b*=this.$4,this.$1.reset());this.$1.sample(b,a)};e.exports=b}),null);
__d("VideoPlayerShakaBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=a[e].bytes*8e3/a[e].timeInMs,g=Math.pow(b,a[e].timeInMs/1e3);c=f*(1-g)+c*g;d+=a[e].timeInMs/1e3}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=j(a,e*c);c=i(a,b);return c-e*d}e.exports={getBandwidthEstimate:a,getExponentiallyWeightedMovingAverageOfBandwidth:i,getStandardDeviationOfBandwidth:h,getMeanBandwidth:g,getBandwidthSamplesWithinRangeOfMean:j}}),null);
__d("VideoStreamingTaskQueueProvider",["RoundRobinPriorityTaskQueue","SequentialTaskScheduler","VideoPlayerShakaGlobalConfig","VideoPriorityCalculator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=new Map();function a(a){a=i(a);return a?a.getLength():0}function i(a){var c=g.get(a);if(!c){c=new(b("RoundRobinPriorityTaskQueue"))(b("VideoPriorityCalculator").getMaxPriority(),b("VideoPlayerShakaGlobalConfig").getNumber("priority_precision",-1));var d=new(b("SequentialTaskScheduler"))(c,{taskTimeout:6e4});d.start();g.set(a,c);h.set(a,d)}return c}function c(a){return h.get(a)||null}e.exports={getQueue:i,getQueueSize:a,getSchedulerForDebug:c}}),null);
__d("getBandwidthPenaltyFactorForScheduledVideoCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=Math.max(0,a-b+1);b=0;c=c;for(var e=1;e<=a;e++)b+=c,c*=d;return 1-b}e.exports=a}),null);
__d("getNeuralBandwidthEstimate",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){var b=a;if(b.length>8)b=b.slice(0,8);else if(b.length<8)while(b.length<8)b.push(0);var c=1e9;return j(a.map(function(a){return a/c}))[0]*c}var g=[function(a,b){a=1/(1+Math.exp(-a));return!b?a:a*(1-a)}],h=[776e-6,0,0,0,0,0,0,0,.07993045087713074,.019315817148901328,.49837995466162727,.019521651881765512,.00021613261390548784,.07750491170273517,.06736225161443557,.0007569189868508071,.8409143388252623,.01986646603812691,.0007195506066612518],i=[0,0,0,0,0,0,0,0,-2.443292371536531,-3.9273261721766457,-.0064802040303537645,-3.9165163604073605,-8.439402229432238,-2.4767407404009374,-2.6279320641013375,-7.185497123350212,1.6650469917803437,-3.8986556349267514,-7.2361638886289805];function j(a){__p&&__p();for(var b=0;b<a.length;b++)h[b]=a[b];i[8]=h[0]*-20.85073990285843+h[1]*-.17466848432563759+h[2]*-.057525299304308844+h[3]*.03110003879725791+h[4]*-.008895762588835858+h[5]*-.0683893713124604+h[6]*.06576749148339567+h[7]*-.01772020718777774+-2.4271121973719127;h[8]=g[0](i[8]);i[9]=h[0]*-529.6211404152259+h[1]*-10.085931929547788+h[2]*-4.540198005288279+h[3]*-2.6352715249222896+h[4]*-2.047125192304325+h[5]*-1.8521580652576841+h[6]*-2.4005121520581447+h[7]*-.07718938908000435+-3.5163401672144303;h[9]=g[0](i[9]);i[10]=h[0]*189.221355777461+h[1]*10.199243264545071+h[2]*4.697355964097093+h[3]*2.6339556539173423+h[4]*1.7925547331406204+h[5]*1.7015875595365062+h[6]*2.255633060777646+h[7]*.01805203313602992+-.15331597611366352;h[10]=g[0](i[10]);i[11]=h[0]*-19.43067537504266+h[1]*8.73022147952729+h[2]*4.820819354033675+h[3]*2.709578269559789+h[4]*1.978560568303787+h[5]*1.9830323294564676+h[6]*2.5745137738069044+h[7]*.09334179618953584+-3.9014381563163276;h[11]=g[0](i[11]);i[12]=h[0]*-5.048452581794674+h[1]*14.938163257617958+h[2]*8.784340440836452+h[3]*4.64012793867896+h[4]*3.1756670528730058+h[5]*2.620356039948262+h[6]*3.7942580850886625+h[7]*-.029713142657160185+-8.435484630228766;h[12]=g[0](i[12]);i[13]=h[0]*-21.10308480104038+h[1]*-.18020886205098594+h[2]*-.03715917747193107+h[3]*-.014443058733183056+h[4]*.08847178195128587+h[5]*.142772115586438+h[6]*-.0069832531579266015+h[7]*-.0921071783400488+-2.46036474659533;h[13]=g[0](i[13]);i[14]=h[0]*-24.614999084523344+h[1]*-.5706213316377333+h[2]*-.5315686923846422+h[3]*-.41561197239084546+h[4]*-.4622208593249528+h[5]*-.47076637110996444+h[6]*-.5160286139457088+h[7]*.09458872769476198+-2.6088308248117476;h[14]=g[0](i[14]);i[15]=h[0]*-10.646367946852898+h[1]*9.894069563224784+h[2]*6.38876106194455+h[3]*4.440529733916467+h[4]*3.4585448009421538+h[5]*3.1241038175984204+h[6]*3.6086610959448384+h[7]*-.05630455554937189+-7.177235541823454;h[15]=g[0](i[15]);i[16]=h[0]*169.19579326461104+h[1]*10.173311065987626+h[2]*4.643577083747655+h[3]*2.5947613769479383+h[4]*1.8128565992680805+h[5]*1.7184203818262473+h[6]*2.2652341722655147+h[7]*-.013828130098586827+1.5337510562070056;h[16]=g[0](i[16]);i[17]=h[0]*-18.836521088957262+h[1]*.07459368402448659+h[2]*.060777588023931+h[3]*.18289413867450946+h[4]*.16801985006774095+h[5]*.16611109930358084+h[6]*.09992971037111033+h[7]*.01144813346735582+-3.8840384945617203;h[17]=g[0](i[17]);i[18]=h[8]*-10.700053978575285+h[9]*-137.47854623908006+h[10]*11.958608720277157+h[11]*-7.615750916889078+h[12]*-5.975976449386021+h[13]*-10.809028988340401+h[14]*-11.738069079393329+h[15]*-5.935205222074537+h[16]*-38.98332368718187+h[17]*-9.626144857503322+25.07046089429775;h[18]=g[0](i[18]);return[h[18]]}e.exports=a}),null);
__d("VideoPlayerLocalBandwidthEstimator",["Banzai","EventEmitter","EventListener","SubscriptionsHandler","VideoPlayerAbrEvaluation","VideoPlayerShakaBandwidthUtils","VideoStreamingTaskQueueProvider","getBandwidthPenaltyFactorForScheduledVideoCount","getNeuralBandwidthEstimate","guid","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g,h;b("requireWeak")("Shaka",function(a){a&&a.util&&(h=a.util.EWMACacheBandwidthEstimator)});c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c,d){"use strict";g.constructor.call(this),this.$VideoPlayerLocalBandwidthEstimator3=a,this.$VideoPlayerLocalBandwidthEstimator1=c,this.$VideoPlayerLocalBandwidthEstimator4=d,this.$VideoPlayerLocalBandwidthEstimator5=[],this.$VideoPlayerLocalBandwidthEstimator6=null,this.$VideoPlayerLocalBandwidthEstimator7=b("guid")(),this.$VideoPlayerLocalBandwidthEstimator10=new(b("SubscriptionsHandler"))(),this.$VideoPlayerLocalBandwidthEstimator10.addSubscriptions(b("EventListener").listen(this.$VideoPlayerLocalBandwidthEstimator1,"bandwidth",function(a){return this.emit("bandwidth",a)}.bind(this))),this.$VideoPlayerLocalBandwidthEstimator4&&this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_per_video_bandwidth_estimator",!1)&&h&&(this.$VideoPlayerLocalBandwidthEstimator2=new h(this.$VideoPlayerLocalBandwidthEstimator4.getNumber("cache_delay",30),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("cache_bandwidth",2e6)))}a.prototype.setRepresentationID=function(a){"use strict";this.$VideoPlayerLocalBandwidthEstimator6=a};a.prototype.sample=function(a,b,c,d,e,f,g){g===void 0&&(g=!1);c&&this.$VideoPlayerLocalBandwidthEstimator6&&this.$VideoPlayerLocalBandwidthEstimator11(a,b,this.$VideoPlayerLocalBandwidthEstimator6,this.$VideoPlayerLocalBandwidthEstimator3.getVideoTracks());a=[a,b,c,d,e,f,g,this.$VideoPlayerLocalBandwidthEstimator4.getBool("estimator_override_cache_exclusion",!1)];(b=this.$VideoPlayerLocalBandwidthEstimator1).sample.apply(b,a);if(this.$VideoPlayerLocalBandwidthEstimator2){(c=this.$VideoPlayerLocalBandwidthEstimator2).sample.apply(c,a)}};a.prototype.getRecentSamples=function(){"use strict";return this.$VideoPlayerLocalBandwidthEstimator1.getRecentSamples()};a.prototype.supportsCaching=function(){"use strict";return this.$VideoPlayerLocalBandwidthEstimator1.supportsCaching()};a.prototype.getEstimator=function(){"use strict";return this.$VideoPlayerLocalBandwidthEstimator1};a.prototype.getBandwidth=function(a){"use strict";__p&&__p();var c=0,d=this.$VideoPlayerLocalBandwidthEstimator12(),e=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_sample_count_to_use_new_estimator",0),f=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_sample_count_to_use_deviation_penalty",0);if(e>0){var g=this.getRecentSamples();if(g.length>=e){e=b("VideoPlayerShakaBandwidthUtils").getBandwidthEstimate(g.map(function(a){return{bytes:a[0],timeInMs:a[1]}}),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("new_estimator_half_life",5),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("new_estimator_standard_deviation_exclusion_factor",2),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_standard_deviation_penalty_factor",.15));if(e>0)return d*e}}else if(f>0){g=this.getRecentSamples();if(g.length>=f){e=b("VideoPlayerShakaBandwidthUtils").getStandardDeviationOfBandwidth(g.map(function(a){return{bytes:a[0],timeInMs:a[1]}}));c=e*this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_standard_deviation_penalty_factor",.15)}}f=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_weight_to_trust_local_bandwidth_estimate",.5);g=this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_minimum_of_global_and_local_bandwidth_estimates",!1);e=this.$VideoPlayerLocalBandwidthEstimator4.getBool("use_per_video_bandwidth_estimator",!1);if(e&&this.$VideoPlayerLocalBandwidthEstimator2&&this.$VideoPlayerLocalBandwidthEstimator2.canTrustEstimate(f))if(g){e=this.$VideoPlayerLocalBandwidthEstimator2?this.$VideoPlayerLocalBandwidthEstimator2.getBandwidth(a):Infinity;return Math.min(this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(a),e)}else return d*this.$VideoPlayerLocalBandwidthEstimator2.getBandwidth(a);f=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("neural_estimate_weight",0);return f>0?d*this.$VideoPlayerLocalBandwidthEstimator13():d*this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(a)-c};a.prototype.setResolutionConstraint=function(a,b){"use strict";this.$VideoPlayerLocalBandwidthEstimator8=a,this.$VideoPlayerLocalBandwidthEstimator9=b};a.prototype.$VideoPlayerLocalBandwidthEstimator12=function(){"use strict";var a=b("getBandwidthPenaltyFactorForScheduledVideoCount")(b("VideoStreamingTaskQueueProvider").getQueue("video").getLength(),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("multiple_videos_queue_penalty_start_count",2),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_penalty_per_additional_video",0),this.$VideoPlayerLocalBandwidthEstimator4.getNumber("bandwidth_penalty_decay_per_video",1));return a>0&&a<=1?a:1};a.prototype.$VideoPlayerLocalBandwidthEstimator13=function(a){"use strict";__p&&__p();var c=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("minimum_samples_to_use_neural_estimate",1),d=this.$VideoPlayerLocalBandwidthEstimator1.getRecentSamples();a=this.$VideoPlayerLocalBandwidthEstimator1.getBandwidth(a);if(c>d.length)return a;d.reverse();c=b("getNeuralBandwidthEstimate")(d.map(function(a){return a[0]/a[1]*8e3}));d=this.$VideoPlayerLocalBandwidthEstimator4.getNumber("neural_estimate_weight",0);return c*d+a*(1-d)};a.prototype.$VideoPlayerLocalBandwidthEstimator11=function(a,c,d,e){"use strict";__p&&__p();c=8e3*c/a;a=e.filter(function(a){return a.width<=this.$VideoPlayerLocalBandwidthEstimator8||a.height<=this.$VideoPlayerLocalBandwidthEstimator9}.bind(this));var f=this.$VideoPlayerLocalBandwidthEstimator14(c,e);a=this.$VideoPlayerLocalBandwidthEstimator14(c,a);e=e.find(function(a){return a.streamInfoID===d});if(e){this.$VideoPlayerLocalBandwidthEstimator4.getBool("videos_abr_debugger_storage",!1)&&b("Banzai").post("video_player_abr",{id:this.$VideoPlayerLocalBandwidthEstimator7,bandwidth:c,chosenBandwidth:e.bandwidth});c=e.id;e=this.$VideoPlayerLocalBandwidthEstimator15(f,c);f=this.$VideoPlayerLocalBandwidthEstimator15(a,c);e!==f&&(e===b("VideoPlayerAbrEvaluation").CONSERVATIVE&&f===b("VideoPlayerAbrEvaluation").IDEAL&&(e=b("VideoPlayerAbrEvaluation").CONSERVATIVE_RESOLUTION_CONSTRAINED));this.$VideoPlayerLocalBandwidthEstimator5.push(e)}};a.prototype.$VideoPlayerLocalBandwidthEstimator14=function(a,b){"use strict";var c=0;for(var d=0;d<b.length;d++){if(a<=b[d].bandwidth)break;c=b[d].id}return c};a.prototype.$VideoPlayerLocalBandwidthEstimator15=function(a,c){"use strict";return a===c?b("VideoPlayerAbrEvaluation").IDEAL:a>c?b("VideoPlayerAbrEvaluation").CONSERVATIVE:b("VideoPlayerAbrEvaluation").AGGRESSIVE};a.prototype.flushABREvaluationSet=function(){"use strict";var a=this.$VideoPlayerLocalBandwidthEstimator5;this.$VideoPlayerLocalBandwidthEstimator5=[];return a};e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function i(a){typeof a==="number"&&(a=Math.floor(a));return a}var j=!1;g=babelHelpers.inherits(k,b("VideoPlayerShakaPerformanceTypedLogger"));h=g&&g.prototype;k.isEnabled=function(){return k.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||k.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};k.enable=function(){j=!0};k.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};k.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return j};k.prototype.log=function(){k.isEnabled()&&h.log.call(this)};k.prototype.setState=function(a){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=a;return h.setState.call(this,a)};k.prototype.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};k.prototype.setSequentialID=function(a){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=a;h.setSequentialID.call(this,a);return this};k.prototype.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};k.prototype.setSegmentEndTime=function(a){h.setSegmentEndTime.call(this,i(a));return this};k.prototype.setSegmentTimeGap=function(a){h.setSegmentTimeGap.call(this,i(a));return this};k.prototype.setSegmentStartTime=function(a){h.setSegmentStartTime.call(this,i(a));return this};function k(){g.apply(this,arguments)}e.exports=k}),null);
__d("VideoPlayerArtilleryOperationMarker",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=!1}a.prototype.markOperationStart=function(){return this.$7("Starting")};a.prototype.markOperationEnd=function(){return this.$7("Ending")};a.prototype.$7=function(a){var b=this.$4();b&&b.inform(a+" "+this.$2+" #"+this.$3,{pointGroup:this.$5.getGroupName(this.$2,this.$1),isPointOfInterest:!0,type:null}).addStringAnnotation("resource",this.$1||"").addStringAnnotation("wasPrefetchCacheHit",this.$6.toString());return this};a.prototype.setResource=function(a){this.$1=a;return this};a.prototype.setWasPrefetchCacheHit=function(a){this.$6=a;return this};e.exports=a}),null);
__d("VideoPlayerArtilleryPointGrouper",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=new Map(),this.$2=new Map()}a.prototype.getGroupName=function(a,b){"use strict";__p&&__p();if(!b){switch(a){case"start_streams":a="source_attach";break}return a}a=this.$1.get(b);if(a)return a;var c;if(b.indexOf("-init.m4v")!==-1)c="-init.m4v";else if(b.indexOf("-init.m4a")!==-1)c="-init.m4a";else if(b.indexOf(".mpd")!==-1)return"source_load";else b.indexOf(".m4v")!==-1?c=".m4v":b.indexOf(".m4a")!==-1?c=".m4a":c="unknown";var d=this.$2.get(c)+1||1;this.$2.set(c,d);a=c+" #"+d;this.$1.set(b,a);return a};e.exports=a}),null);
__d("VideoPlayerArtilleryTrace",["TimeSliceInteraction","UserAgentData","VideoPlayerArtilleryOperationMarker","VideoPlayerArtilleryPointGrouper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e4,h=3e3;function a(a,c){__p&&__p();this.$13=function(){var a=this.$2;if(a){var b=a.stallTrace,c=a.hasStalls;a=a.stallTraceTimeout;c?b.finish():b.disable();clearTimeout(a)}this.$2=null}.bind(this),this.$17=function(){return this.$1}.bind(this),this.$18=function(){var a=this.$2;return a?a.stallTrace:null}.bind(this),this.$4=c.videoID,this.$5=c.video,this.$6=a,this.$7=c.isLive,this.$9=c.playerOrigin,this.$10=c.playerSuborigin,this.$8=0,this.$11=new(b("VideoPlayerArtilleryPointGrouper"))()}a.prototype.updateBufferAhead=function(a){var c=this.$2;!c&&a<=h?this.$2={stallTrace:this.$12(b("TimeSliceInteraction").create("video_stall")),hasStalls:!1,stallTraceTimeout:setTimeout(this.$13,g)}:a>h&&this.$13()};a.prototype.enterState=function(a){switch(a){case"loading":this.$14();break;case"playing":this.$15();break;default:this.$16(a);break}return this};a.prototype.$16=function(a){var b=this.$1;b&&b.inform("State: "+a)};a.prototype.getMarkers=function(a){var c=[],d=(++this.$8).toString();this.$1&&c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$17,this.$11));var e=this.$2;e&&(a==="buffering"&&(e.hasStalls=!0),c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$18,this.$11)));return c};a.prototype.$14=function(){var a=this.$12(b("TimeSliceInteraction").create("video_psr"));this.$1=a;this.$16("loading")};a.prototype.$15=function(){this.$16("playing");var a=this.$1;a&&(a.finish(),this.$1=null)};a.prototype.$12=function(a){a.trace().addStringAnnotation("videoID",this.$4).addStringAnnotation("sessionID",this.$6).addStringAnnotation("browserName",b("UserAgentData").browserName).addStringAnnotation("browserVersion",b("UserAgentData").browserVersion).addStringAnnotation("isLive",this.$7.toString()).addStringAnnotation("playerOrigin",this.$9||"").addStringAnnotation("playerSuborigin",this.$10||"");return a};e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerArtilleryTrace","VideoPlayerMainThreadAvailability","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","oz-player/utils/OzError","setTimeoutAcrossTransitions","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("VideoPlaybackQuality").getDroppedFrames,i=b("VideoPlaybackQuality").getTotalFrames,j=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=babelHelpers.inherits(k,b("oz-player/loggings/OzPerfLoggerProviderBase"));g=a&&a.prototype;k.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};k.setVideoPlaybackExperienceIssue=function(a){k.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),k.maybeEnableMainThreadAvailabilityLogging())};function k(a){g.constructor.call(this),this.$VideoPlayerShakaPerformanceLogger11=!1,this.$VideoPlayerShakaPerformanceLogger22=0,this.$VideoPlayerShakaPerformanceLogger23=0,this.$VideoPlayerShakaPerformanceLogger21=a,this.$VideoPlayerShakaPerformanceLogger2=a.videoID,this.$VideoPlayerShakaPerformanceLogger4=a.video,this.$VideoPlayerShakaPerformanceLogger1=a.uniqueID,this.$VideoPlayerShakaPerformanceLogger3=0,this.$VideoPlayerShakaPerformanceLogger9=a.isLive,this.$VideoPlayerShakaPerformanceLogger10=a.isServableViaFbms,this.$VideoPlayerShakaPerformanceLogger8=null,this.$VideoPlayerShakaPerformanceLogger12=a.accessToken,this.$VideoPlayerShakaPerformanceLogger14=a.playerOrigin,this.$VideoPlayerShakaPerformanceLogger15=a.playerSuborigin,this.$VideoPlayerShakaPerformanceLogger16=a.playerVersion,this.$VideoPlayerShakaPerformanceLogger24=a.getBandwidthEstimate,this.setRepresentationID(a.representationId),this.$VideoPlayerShakaPerformanceLogger13=new(b("VideoPlayerArtilleryTrace"))(this.$VideoPlayerShakaPerformanceLogger1,a),k.maybeEnableMainThreadAvailabilityLogging()}k.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};k.prototype.$VideoPlayerShakaPerformanceLogger26=function(a){__p&&__p();var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3));this.$VideoPlayerShakaPerformanceLogger13.updateBufferAhead((b.end(c)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3)}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};k.prototype.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};k.prototype.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};k.prototype.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};k.prototype.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};k.prototype.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger11=a};k.prototype.$VideoPlayerShakaPerformanceLogger27=function(){return this.$VideoPlayerShakaPerformanceLogger11};k.prototype.getEventLogger=function(a){__p&&__p();var c=Date.now(),d=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),e=this.$VideoPlayerShakaPerformanceLogger4.currentTime,f=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger26(d).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(i(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(Math.round(this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger9))).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(e*1e3)).setVideoDuration(Math.round(f*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger10).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger27()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatio(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger12).setVideoPlaybackExperienceIssue(k.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(c).setClientTimeEnd(c);var g=this,j=d.setState;d.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?g.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(g.$VideoPlayerShakaPerformanceLogger6=null);g.$VideoPlayerShakaPerformanceLogger5=a;g.$VideoPlayerShakaPerformanceLogger13.enterState(a);return j.call(this,a)};d.updateState=function(a){if(this.getState()==g.$VideoPlayerShakaPerformanceLogger5){g.$VideoPlayerShakaPerformanceLogger13.enterState(a);return this.setState(a)}return this};var l=d.setError;d.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),l.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),l.call(this,a.type)),this.setCode(a.status)):l.call(this,a);return this};var m=d.setManifestType;d.setManifestType=function(a){this.$VideoPlayerShakaPerformanceLogger17=a;return m.call(d,a)}.bind(this);return d};k.prototype.getArtilleryMarkers=function(a){return this.$VideoPlayerShakaPerformanceLogger13.getMarkers(a)};k.prototype.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};k.prototype.createOperationLogger=function(a){__p&&__p();var c=this.getEventLogger(a),d=this.getArtilleryMarkers(a),e=c.setResource;c.setResource=function(a){d.forEach(function(b){return b.setResource(a)});return e.call(c,a)};var f=c.log,g=this,h=!1,i=null;c.log=function(){__p&&__p();if(h)return;b("clearTimeout")(i);var c=Date.now();this.setClientTimeEnd(c);var e=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(e!=null?Math.round(e):null);g.$VideoPlayerShakaPerformanceLogger28(e);g.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(g.$VideoPlayerShakaPerformanceLogger7=Date.now());d.forEach(function(a){return a.markOperationEnd()});h=!0;return f.call(this)};c.start=function(){d.forEach(function(a){return a.markOperationStart()});i=b("setTimeoutAcrossTransitions")(function(){i=null,c.setResult("timeout"),c.log()},j);return c};c.setWasPrefetchCacheHit=function(a){d.forEach(function(b){return b.setWasPrefetchCacheHit(a)});return c};c.setLiveheadPosition=function(a){this.$VideoPlayerShakaPerformanceLogger8=a;c.setLiveheadDelta(this.getLiveheadDelta());return c}.bind(this);var k=c.setDynamicBitrate;c.setDynamicBitrate=function(a){a=Number(a)||null;this.setDynamicBitrate(a);return k.call(c,a)}.bind(this);var l=c.setLowestQualityRepresentationID;c.setLowestQualityRepresentationID=function(a){this.$VideoPlayerShakaPerformanceLogger18=a;return l.call(c,a)}.bind(this);return c};k.prototype.$VideoPlayerShakaPerformanceLogger28=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};k.prototype.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};k.$VideoPlayerShakaPerformanceLogger25=null;e.exports=k}),null);
__d("VideoPushTracker",["URI","crc16"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=0,this.$2=new Map()}a.prototype.addPushDataFromXHR=function(a){"use strict";__p&&__p();var b=a.getResponseHeader("X-FB-Debug-Num-Pushed");a=a.getResponseHeader("X-FB-Debug-List-Pushed");if(!a||!b)return;b=parseInt(b,10);var c=[];if(a.length%4)return;var d=a.length/4;for(var e=0;e<d;e++)c.push(a.substr(e*4,4));b!=c.length;if(!b)return;this.$1+=b;c.forEach(function(a){this.$2.set(a,(this.$2.get(a)||0)+1)}.bind(this))};a.prototype.getPushCountForUrl=function(a){"use strict";a=new(b("URI"))(a);a=b("crc16").hex(a.getPath());a=this.$2.get(a)||0;return a};e.exports=a}),null);
__d("FetchStreamStateTracker",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a.prototype.setNextRequestInfo=function(a){this.$1=this.$2,this.$2=a};a.prototype.setFetchRange=function(a){this.$3=a};a.prototype.isNextRequestContinuous=function(){this.$2||g(0,3883);if(!this.$1)return!1;return this.$1.baseUrl!==this.$2.baseUrl||(this.$1.endByte||0)+1!==(this.$2.startByte||0)?!1:!0};a.prototype.isNextRequestInRange=function(){this.$2||g(0,3883);if(!this.$3)return!1;var a=Infinity,b=this.$3.endByte;b!==null&&b!==void 0&&(a=b);return(this.$2.endByte||0)<=a};function a(){}e.exports=a}),null);
__d("NetworkErrorTransformStream",["ReadableStream","WritableStream","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.$3=function(a){this.$1.enqueue(a)};function a(){this.writable=new(b("WritableStream"))({start:function(a){this.$2=a}.bind(this),write:function(a){this.$3(a)}.bind(this),close:function(){this.$1.close()}.bind(this),abort:function(a){var c=a;a instanceof TypeError&&(c={type:"net",status:0,message:"Network failure."});b("pipeErrorTo")(this.$1,c)}.bind(this)}),this.readable=new(b("ReadableStream"))({start:function(a){this.$1=a}.bind(this),cancel:function(a){b("pipeErrorTo")(this.$2,a)}.bind(this)})}e.exports=a}),null);
__d("StreamBandwidthReporter",["EventEmitter","ReadableStream","WritableStream","performanceNow","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;a.prototype.$StreamBandwidthReporter13=function(a){this.$StreamBandwidthReporter11.enqueue(a)};function a(a,c,d){g.constructor.call(this),this.$StreamBandwidthReporter2=null,this.$StreamBandwidthReporter3=0,this.$StreamBandwidthReporter4=0,this.$StreamBandwidthReporter8=0,this.$StreamBandwidthReporter9=Infinity,this.$StreamBandwidthReporter1=a,this.$StreamBandwidthReporter2=this.$StreamBandwidthReporter1.getNumber("streaming_bandwidth_update_interval",18e4),this.$StreamBandwidthReporter7=d,this.$StreamBandwidthReporter9=c,this.$StreamBandwidthReporter2&&(this.$StreamBandwidthReporter10=this.$StreamBandwidthReporter9,this.$StreamBandwidthReporter14()),this.writable=new(b("WritableStream"))({start:function(a){this.$StreamBandwidthReporter5=this.$StreamBandwidthReporter6=b("performanceNow")(),this.$StreamBandwidthReporter12=a}.bind(this),write:function(a){a.length!=void 0&&(this.$StreamBandwidthReporter3+=a.length),this.$StreamBandwidthReporter15(),this.$StreamBandwidthReporter13(a)}.bind(this),close:function(){this.$StreamBandwidthReporter11.close(),this.$StreamBandwidthReporter16()}.bind(this),abort:function(a){b("pipeErrorTo")(this.$StreamBandwidthReporter11,a)}.bind(this)}),this.readable=new(b("ReadableStream"))({start:function(a){this.$StreamBandwidthReporter11=a}.bind(this),cancel:function(a){b("pipeErrorTo")(this.$StreamBandwidthReporter12,a)}.bind(this)})}a.prototype.$StreamBandwidthReporter17=function(){var a=this.$StreamBandwidthReporter1.getNumber("max_bandwidth_update_interval",0);return a>0?b("performanceNow")()>this.$StreamBandwidthReporter5+a:!1};a.prototype.$StreamBandwidthReporter15=function(){var a=this.$StreamBandwidthReporter9+this.$StreamBandwidthReporter3,b=this.$StreamBandwidthReporter18(),c=this.$StreamBandwidthReporter1.getBool("enable_segment_based_bandwidth_update",!0)||this.$StreamBandwidthReporter2;(this.$StreamBandwidthReporter17()||!c||b!=null&&a>=b)&&this.$StreamBandwidthReporter16()};a.prototype.$StreamBandwidthReporter16=function(){if(this.$StreamBandwidthReporter4===this.$StreamBandwidthReporter3)return;var a=b("performanceNow")();this.$StreamBandwidthReporter14();this.emit("bandwidthUpdate",{bytesRead:this.$StreamBandwidthReporter3-this.$StreamBandwidthReporter4,timeTaken:a-this.$StreamBandwidthReporter5});this.$StreamBandwidthReporter5=a;this.$StreamBandwidthReporter4=this.$StreamBandwidthReporter3};a.prototype.$StreamBandwidthReporter18=function(){return this.$StreamBandwidthReporter10!=null?this.$StreamBandwidthReporter10:this.$StreamBandwidthReporter7[this.$StreamBandwidthReporter8]};a.prototype.$StreamBandwidthReporter14=function(){this.$StreamBandwidthReporter17()?this.$StreamBandwidthReporter10=this.$StreamBandwidthReporter9+this.$StreamBandwidthReporter3+this.$StreamBandwidthReporter2:this.$StreamBandwidthReporter10!=null?this.$StreamBandwidthReporter10+=this.$StreamBandwidthReporter2:this.$StreamBandwidthReporter8++};e.exports=a}),null);
__d("StreamFetchRequestLogger",["PausableRangeStream","ReadableStream","VideoPlayerResourceTimer","WritableStream","performanceNow","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g,h){this.$6=0,this.$9=null,this.$10=0,this.$3=d,this.$2=g,this.$1=a,this.$4=c,this.$5=f,this.$11=e,this.$8=h,this.writable=new(b("WritableStream"))({start:function(a){this.$14(),this.$13=a}.bind(this),write:function(a){this.$6+=a.byteLength,this.$9&&(this.$10=Math.round(Math.max(this.$10,b("performanceNow")()-(this.$9||Infinity)))),this.$9=b("performanceNow")(),this.$15(a)}.bind(this),close:function(){this.$12.close(),this.$16()}.bind(this),abort:function(a){b("pipeErrorTo")(this.$12,a),this.$17(a)}.bind(this)}),this.readable=new(b("ReadableStream"))({start:function(a){this.$12=a}.bind(this),cancel:function(a){b("pipeErrorTo")(this.$13,a);a={type:a===b("PausableRangeStream").STREAM_PAUSED?"paused":"aborted",status:0,url:this.$3};this.$17(a)}.bind(this)})}a.prototype.$14=function(){this.$7=this.$1.getOperationLogger("fetch_stream").setSegmentStartTime(this.$11.startTime).setSegmentEndTime(this.$11.endTime).setResource(this.$3).start();this.$7.setPriorityFloat(this.$8);var a=this.$5,b=a.startByte;a=a.endByte;a=a===null?null:(a||0)+1-b;this.$7.setType(this.$4).setExpectedLength(a)};a.prototype.$17=function(a){this.$7.setError(a).setTimeBetweenBytesMax(this.$10).setLength(this.$6).log()};a.prototype.$16=function(){var a=b("VideoPlayerResourceTimer").getResourceTimingEntry(this.$3,this.$2,b("performanceNow")());if(a){var c=a.timeToFirstByte,d=a.timeToLastByte;a=a.timeToRequestStart;this.$7.setTimeToFirstByte(Math.round(c)).setTimeToLastByte(Math.round(d)).setTimeToRequestStart(Math.round(a)).setLength(this.$6)}this.$7.setTimeBetweenBytesMax(this.$10).log()};a.prototype.$15=function(a){this.$12.enqueue(a)};e.exports=a}),null);
__d("StreamProgress",["ReadableStream","VideoPlayerShakaBandwidthEstimator","WritableStream","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=0,this.$2=0,this.$4=!1,this.$3=a,this.writable=new(b("WritableStream"))({start:function(a){this.$6=a}.bind(this),write:function(a){a.length!=null&&(this.$1+=a.length),this.$5.enqueue(a)}.bind(this),close:function(){this.$5.close()}.bind(this),abort:function(a){this.$4=!0,b("pipeErrorTo")(this.$5,a)}.bind(this)}),this.readable=new(b("ReadableStream"))({start:function(a){this.$5=a}.bind(this),cancel:function(a){this.$4=!0,b("pipeErrorTo")(this.$6,a)}.bind(this)})}a.prototype.notifyBytesConsumed=function(a){this.$2+=a};a.prototype.getProgress=function(){return this.$7(this.$1)};a.prototype.getEstimatedTimeRemaining=function(){var a=this.$8(),c=b("VideoPlayerShakaBandwidthEstimator").getBandwidth();return a>-1?(a-this.$1)*8/c:null};a.prototype.getConsumptionProgress=function(){return this.$7(this.$2)};a.prototype.getBytesRemainingToConsume=function(){var a=this.$8();return a===-1?0:a-this.$2};a.prototype.hasAbortedOrCancelled=function(){return this.$4};a.prototype.$8=function(){return this.$3.endByte?this.$3.endByte-this.$3.startByte+1:-1};a.prototype.$7=function(a){var b=this.$8();return b===-1?0:a/b};e.exports=a}),null);
__d("StreamProgressTracker",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=null,this.$2=[]}a.prototype.add=function(a){this.$2.push(a)};a.prototype.setOnStreamConsumed=function(a){this.$1=a};a.prototype.notifyBytesConsumed=function(a){__p&&__p();for(var b=0;b<this.$2.length;b++){if(this.$2[b].hasAbortedOrCancelled()){this.$2.splice(b,1);b--;continue}var c=this.$2[b].getBytesRemainingToConsume();this.$2[b].notifyBytesConsumed(c>=a?a:a-c);a-=c;if(a<0)break;else this.$2.splice(b,1),b--}this.$1&&this.$2.length===0&&(this.$1(),this.$1=null)};a.prototype.canTrackProgress=function(){return this.$2.length>0&&this.$2[0].getBytesRemainingToConsume()>-1};a.prototype.hasStarted=function(){return this.$2.length>0};a.prototype.getProgress=function(){return this.$2.length>0?this.$2[0].getProgress():null};a.prototype.getConsumptionProgress=function(){return this.$2.length>0?this.$2[0].getConsumptionProgress():null};a.prototype.getEstimatedTimeRemainingOfStream=function(){return this.$2.length>0?this.$2[0].getEstimatedTimeRemaining():null};a.prototype.destroy=function(){this.$2=[]};e.exports=a}),null);
__d("VideoPriorityUpdater",["EventEmitter","VideoPriorityCalculator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,b){b===void 0&&(b=[]),g.constructor.call(this),this.$VideoPriorityUpdater3=0,this.$VideoPriorityUpdater4=[],this.$VideoPriorityUpdater1=a,this.$VideoPriorityUpdater4=b.slice(0),b.forEach(function(a){return a.setOnPriorityChanged(function(){this.$VideoPriorityUpdater5()}.bind(this))}.bind(this))}a.prototype.updatePriorityWithNewPlayhead=function(a){this.$VideoPriorityUpdater2&&(this.$VideoPriorityUpdater2.playhead=a);this.$VideoPriorityUpdater5();return this};a.prototype.updatePriorityWithNewPlayingState=function(a){this.$VideoPriorityUpdater2&&(this.$VideoPriorityUpdater2.isPlaying=a);this.$VideoPriorityUpdater5();return this};a.prototype.updatePriorityWithNewPlayerState=function(a){this.$VideoPriorityUpdater2=a;this.$VideoPriorityUpdater5();return this};a.prototype.$VideoPriorityUpdater5=function(){if(!this.$VideoPriorityUpdater2)return;var a=this.$VideoPriorityUpdater1.getNumber("global_scheduler_priority_downgrade_bufferahead_threshold",0),c=this.$VideoPriorityUpdater1.getNumber("global_scheduler_priority_threshold",6);this.$VideoPriorityUpdater3>=b("VideoPriorityCalculator").getMaxPriority()&&a&&(c=a);a=this.$VideoPriorityUpdater4.reduce(function(a,b){return a+b.getPriorityAdjustment()},0);c=b("VideoPriorityCalculator").calculate(this.$VideoPriorityUpdater2,c)+a;c!==this.$VideoPriorityUpdater3&&(this.$VideoPriorityUpdater3=c,this.emit("priority_updated",c))};e.exports=a}),null);
__d("VideoSegmentStreamByFetch",["invariant","ReadableStream","VideoAkamaiRequestHelper","VideoClientEdgeCooperation","VideoSegmentInfoHelper","createErrorStream"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=window.fetch;function a(a){this.$1=a}a.prototype.getResourceUrl=function(a){a=this.$2(a);a=b("VideoSegmentInfoHelper").getRequestUri(a);a=a.toString();return a};a.prototype.startStream=function(a){__p&&__p();h||g(0,3362);var c=this.getResourceUrl(a),d={};if(b("VideoAkamaiRequestHelper").isAkamai(c)){a=this.$2(a);d=b("VideoAkamaiRequestHelper").getRequestHeaders(a)||{}}return h(c,{headers:d}).then(function(a){b("VideoClientEdgeCooperation").updateFromResponse(a);var d=a.body,e=a.status;a=a.ok;if(!a)return b("createErrorStream")({type:"net",status:e,url:c,message:"HTTP error."});d.getReader||g(0,3287);return d})["catch"](function(a){return a instanceof TypeError?b("createErrorStream")({type:"net",status:0,url:c,message:"Network failure."}):b("createErrorStream")({type:"stream_processing",status:0,url:c,message:"Stream processing error."+a})})};a.prototype.$2=function(a){return{baseUrl:this.$1,startByte:a.startByte,endByte:a.endByte===null?void 0:a.endByte}};e.exports=a}),null);
__d("VideoStreamingManager",["ChunkableContinuousRangeStream","ContinuousPausableStreamTask","EventEmitter","FetchStreamStateTracker","FixedSizeTransform","MaybeNativePromise","NetworkErrorTransformStream","PausableRangeStream","ShakaSegmentReferenceHelper","StreamBandwidthReporter","StreamFetchRequestLogger","StreamProgress","StreamProgressTracker","SubscriptionsHandler","VideoPriorityCalculator","VideoPriorityUpdater","VideoSegmentStreamByFetch","VideoStreamingTaskQueueProvider","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c,d,e,f){__p&&__p();d===void 0&&(d="video"),e===void 0&&(e=null),f===void 0&&(f=[]),g.constructor.call(this),this.$VideoStreamingManager9=[],this.$VideoStreamingManager10=null,this.$VideoStreamingManager13=new(b("SubscriptionsHandler"))(),this.$VideoStreamingManager14=Infinity,this.$VideoStreamingManager16=null,this.$VideoStreamingManager17=!1,this.$VideoStreamingManager20=function(a,c){__p&&__p();this.$VideoStreamingManager17=!1;if(this.$VideoStreamingManager1.getBool("enable_streaming_quick_abr_switch",!1)){var d=this.$VideoStreamingManager15;if(!d)return;d=b("ShakaSegmentReferenceHelper").findIndexByRequestInfo(d,a);if(d<-1)return;a=a[d];if(!a)return;d=b("ShakaSegmentReferenceHelper").findIndexByStartTimeExact(c,a.startTime);if(d>=0&&d+1<c.length){a=c[d+1];c={baseUrl:a.url.baseUrl,startByte:a.url.startByte,endByte:a.url.endByte};typeof this.$VideoStreamingManager3.setFutureSegments==="function"&&this.$VideoStreamingManager3.setFutureSegments([]);this.$VideoStreamingManager25(c);(!this.$VideoStreamingManager1.getBool("disable_streaming_quick_abr_switch_for_low_pri_video",!1)||this.$VideoStreamingManager14>=b("VideoPriorityCalculator").getMaxPriority())&&this.$VideoStreamingManager26(c)}}}.bind(this),this.$VideoStreamingManager19=function(a){__p&&__p();if(!this.$VideoStreamingManager1.getBool("disable_auto_stream_start",!0)||a===this.$VideoStreamingManager14)return;this.$VideoStreamingManager14=a;this.$VideoStreamingManager5&&this.$VideoStreamingManager5.getEventLogger("priority_changed").setPriorityFloat(this.$VideoStreamingManager14).log();var c=this.$VideoStreamingManager10;if(!c)return;c.updatePriority(this.$VideoStreamingManager14);var d=this.$VideoStreamingManager6;if(!d||d.isClosed())return;a>=b("VideoPriorityCalculator").getMaxPriority()||this.$VideoStreamingManager1.getBool("enable_low_pri_multi_segment_fetch",!1)?this.$VideoStreamingManager15&&this.$VideoStreamingManager27(this.$VideoStreamingManager15):d.removeQueuedRange();this.$VideoStreamingManager11&&this.$VideoStreamingManager11.updatePriority(c,this.$VideoStreamingManager14)}.bind(this),this.$VideoStreamingManager1=a,this.$VideoStreamingManager4=new(b("FetchStreamStateTracker"))(),this.$VideoStreamingManager3=c,this.$VideoStreamingManager5=e,this.$VideoStreamingManager7=d,this.$VideoStreamingManager1.getBool("disable_streaming_scheduler",!1)||(this.$VideoStreamingManager11=b("VideoStreamingTaskQueueProvider").getQueue(d)),this.$VideoStreamingManager12=new(b("VideoPriorityUpdater"))(this.$VideoStreamingManager1,f),this.$VideoStreamingManager13.addSubscriptions(this.$VideoStreamingManager12.addListener("priority_updated",this.$VideoStreamingManager19)),this.$VideoStreamingManager3.setOnSegmentsUpdated(this.$VideoStreamingManager20),this.$VideoStreamingManager1.getBool("enable_stream_progress_tracker",!1)&&(this.$VideoStreamingManager16=new(b("StreamProgressTracker"))())}a.prototype.getStream=function(a){return this.$VideoStreamingManager1.getBool("use_continuous_streaming",!0)?this.$VideoStreamingManager21(a):this.$VideoStreamingManager22(a)};a.prototype.getPriorityUpdater=function(){return this.$VideoStreamingManager12};a.prototype.getProgressTracker=function(){return this.$VideoStreamingManager16};a.prototype.resumeVideoFetching=function(){this.$VideoStreamingManager17=!1,this.$VideoStreamingManager23()};a.prototype.stopUntilSegmentsUpdate=function(){this.$VideoStreamingManager10&&this.$VideoStreamingManager10.cancelOnCurrentStreamDone(),this.$VideoStreamingManager17=!0};a.prototype.updatePlayerState=function(a){this.$VideoStreamingManager18=a,this.$VideoStreamingManager12.updatePriorityWithNewPlayerState(a)};a.prototype.destroy=function(){this.$VideoStreamingManager16!=null&&this.$VideoStreamingManager16.destroy(),this.$VideoStreamingManager13.release(),this.$VideoStreamingManager10&&this.$VideoStreamingManager10.cancel(),this.$VideoStreamingManager10&&this.$VideoStreamingManager11&&this.$VideoStreamingManager11.remove(this.$VideoStreamingManager10),this.$VideoStreamingManager24(),this.$VideoStreamingManager3&&this.$VideoStreamingManager3.clearOnSegmentsUpdated()};a.prototype.$VideoStreamingManager24=function(){this.$VideoStreamingManager6&&this.$VideoStreamingManager6.destroy(),this.$VideoStreamingManager6=null};a.prototype.$VideoStreamingManager28=function(){__p&&__p();var a=function(){__p&&__p();if(!this.$VideoStreamingManager9.length)return b("MaybeNativePromise").resolve(null);var c=this.$VideoStreamingManager9[0];return c().then(function(b){__p&&__p();if(!b){if(this.$VideoStreamingManager9.length===1){var c=this.$VideoStreamingManager15,d=this.$VideoStreamingManager1.getBool("switch_to_new_stream_when_end_byte_is_null",!1)&&c&&c.endByte==null,e=this.$VideoStreamingManager1.getBool("continuous_stream_on_higher_priority",!1)&&this.$VideoStreamingManager29();if(c&&(d||e)){d=this.$VideoStreamingManager3.getNextRequestInfo(c);if(d&&this.$VideoStreamingManager18&&this.$VideoStreamingManager3.isRequestInBufferTarget(d,this.$VideoStreamingManager18)){this.$VideoStreamingManager9.shift();this.$VideoStreamingManager6=null;this.$VideoStreamingManager25(d);this.$VideoStreamingManager26(d);return a()}}return null}this.$VideoStreamingManager9.shift();return a()}return b}.bind(this))}.bind(this);return a};a.prototype.$VideoStreamingManager29=function(){var a=this.$VideoStreamingManager11?this.$VideoStreamingManager11.getHighestPriority():-Infinity,b=this.$VideoStreamingManager11?this.$VideoStreamingManager11.getLength()===0:!0;return!b&&this.$VideoStreamingManager14>a};a.prototype.$VideoStreamingManager23=function(){if(!this.$VideoStreamingManager1.getBool("disable_auto_stream_start",!0)||this.$VideoStreamingManager10||this.$VideoStreamingManager17)return;var a=new(b("ContinuousPausableStreamTask"))(this.$VideoStreamingManager28(),this.$VideoStreamingManager7,this.$VideoStreamingManager14,this.$VideoStreamingManager5,{uncancellablePriority:this.$VideoStreamingManager1.getBool("disable_streaming_task_cancellation_on_high_pri",!1)?b("VideoPriorityCalculator").getMaxPriority():Infinity,disableAudioStreamPause:this.$VideoStreamingManager1.getBool("disable_audio_stream_pause",!1),yieldOnLowPriStream:this.$VideoStreamingManager1.getBool("enable_low_pri_multi_segment_fetch",!1),lowPriTaskYieldCheckInterval:this.$VideoStreamingManager1.getNumber("low_pri_task_yield_check_interval",0),lowPriTaskMinBytesToYield:this.$VideoStreamingManager1.getNumber("low_pri_task_min_bytes_to_yield",0),lowPriTaskYieldsPerTask:this.$VideoStreamingManager1.getNumber("low_pri_task_yields_per_task",0)});this.$VideoStreamingManager10=a;var c;this.$VideoStreamingManager11?c=this.$VideoStreamingManager11.enqueue(a,this.$VideoStreamingManager14):c=a.run();c.then(function(){this.$VideoStreamingManager10=null}.bind(this))["catch"](function(a){this.$VideoStreamingManager10=null,a.message==="cancelled"&&this.$VideoStreamingManager23()}.bind(this))};a.prototype.$VideoStreamingManager30=function(a,c){var d=a.startByte,e=a.endByte;c=c>=b("VideoPriorityCalculator").getMaxPriority()||this.$VideoStreamingManager1.getBool("enable_low_pri_multi_segment_fetch",!1)?this.$VideoStreamingManager3.getFetchRanges(a):[{startByte:d,endByte:e}];return c};a.prototype.$VideoStreamingManager25=function(a){this.$VideoStreamingManager15=a;a=a.baseUrl;this.$VideoStreamingManager8&&this.$VideoStreamingManager8!==a&&this.$VideoStreamingManager24();this.$VideoStreamingManager8=a};a.prototype.$VideoStreamingManager26=function(a){this.$VideoStreamingManager6==null&&(this.$VideoStreamingManager6=this.$VideoStreamingManager31(a)),this.$VideoStreamingManager27(a)};a.prototype.$VideoStreamingManager21=function(a){__p&&__p();this.$VideoStreamingManager25(a);this.$VideoStreamingManager26(a);var c=a.startByte,d=a.endByte;return!this.$VideoStreamingManager6?b("MaybeNativePromise").reject():this.$VideoStreamingManager6.getReservedChunkStream({startByte:c,endByte:d}).then(function(a){this.$VideoStreamingManager23();return a}.bind(this))["catch"](function(b){this.$VideoStreamingManager6=this.$VideoStreamingManager31(a);return this.$VideoStreamingManager6.getReservedChunkStream({startByte:c,endByte:d}).then(function(a){this.$VideoStreamingManager23();return a}.bind(this))}.bind(this))};a.prototype.$VideoStreamingManager31=function(a){var c=this.$VideoStreamingManager3.getSegmentsBoundaries(a);a=this.$VideoStreamingManager32(a.baseUrl,c);c=new(b("ChunkableContinuousRangeStream"))(a,{disableStreamAutoStart:this.$VideoStreamingManager1.getBool("disable_auto_stream_start",!0),enableStreamRangeConcat:this.$VideoStreamingManager1.getBool("enable_stream_range_concat",!1),disableDeferredBufferArrayShift:this.$VideoStreamingManager1.getBool("disable_deferred_buffer_array_shift",!1),fixFixedSizeTransformOnNullEndByte:this.$VideoStreamingManager1.getBool("fix_fixed_size_transform_on_null_end_byte",!1),useNativePromiseInDeferredBuffer:this.$VideoStreamingManager1.getBool("use_native_promise_in_deferred_buffer",!1),fixStreamingUndefinedEndByte:this.$VideoStreamingManager1.getBool("fix_streaming_undefined_end_byte",!0),enablePausableStreamResumeFromStart:this.$VideoStreamingManager1.getBool("enable_pausable_stream_resume_from_start",!0),fixPausePreReadableStream:this.$VideoStreamingManager1.getBool("fix_pause_pre_readable_stream",!1),enableFactoryDestroy:this.$VideoStreamingManager1.getBool("enable_pausable_range_stream_factory_destroy",!1)});this.$VideoStreamingManager9.push(c.getPausableStreamFactory());return c};a.prototype.$VideoStreamingManager27=function(a){__p&&__p();var b=this.$VideoStreamingManager6;if(!b)return;var c=this.$VideoStreamingManager30(a,this.$VideoStreamingManager14);for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=b.updateRangeStream(f),h=b.getCurrentStreamRange();if(g==="closed")this.$VideoStreamingManager6=this.$VideoStreamingManager31(a),this.$VideoStreamingManager27(a);else if(h&&h.endByte===f.endByte)continue;return}};a.prototype.$VideoStreamingManager22=function(a){__p&&__p();var c=a.startByte,d=a.endByte;if(c===void 0)return b("MaybeNativePromise").reject("request range does not exist");var e=function(){this.$VideoStreamingManager4.setNextRequestInfo(a);(!this.$VideoStreamingManager4.isNextRequestContinuous()||!this.$VideoStreamingManager4.isNextRequestInRange()||!this.$VideoStreamingManager2)&&(this.$VideoStreamingManager2&&this.$VideoStreamingManager2.cancel("reset stream"),this.$VideoStreamingManager2=this.$VideoStreamingManager33(a));var b;d==null?b=void 0:b=d-c+1;return this.$VideoStreamingManager2.getNextFixedSizeStream(b)}.bind(this);return e()["catch"](function(){this.$VideoStreamingManager34();return e()}.bind(this))};a.prototype.$VideoStreamingManager33=function(a){var c=this.$VideoStreamingManager3.getSegmentsBoundaries(a);c=this.$VideoStreamingManager32(a.baseUrl,c);a=this.$VideoStreamingManager3.getFetchRanges(a)[0];this.$VideoStreamingManager4.setFetchRange(a);a=new(b("PausableRangeStream"))(a,c,{fixStreamingUndefinedEndByte:this.$VideoStreamingManager1.getBool("fix_streaming_undefined_end_byte",!0)});c=new(b("FixedSizeTransform"))({fixFixedSizeTransformOnNullEndByte:this.$VideoStreamingManager1.getBool("fix_fixed_size_transform_on_null_end_byte",!1)});a.startStream();a.getStream().pipeTo(c.getSink());return c};a.prototype.$VideoStreamingManager32=function(a,c){var d=new(b("VideoSegmentStreamByFetch"))(a);a=function(a){return d.getResourceUrl(a)};var e=function(a){return this.$VideoStreamingManager3.getTimeRange(a)}.bind(this),f=d;f=this.$VideoStreamingManager35(f);f=this.$VideoStreamingManager36(f,a,e);this.$VideoStreamingManager7==="video"&&(f=this.$VideoStreamingManager37(f,c),this.$VideoStreamingManager1.getBool("enable_stream_progress_tracker",!1)&&(f=this.$VideoStreamingManager38(f)));return f};a.prototype.$VideoStreamingManager35=function(a){var c={startStream:function(c){var d=new(b("NetworkErrorTransformStream"))();return a.startStream(c).then(function(a){return a.pipeThrough(d)})}};return c};a.prototype.$VideoStreamingManager37=function(a,c){var d={startStream:function(d){var e=c[0].startByte,f=new(b("StreamBandwidthReporter"))(this.$VideoStreamingManager1,e,c.filter(function(a){return a!==null}).map(function(a){return a.endByte||0}));f.addListener("bandwidthUpdate",function(a){return this.emit("bandwidthUpdate",a)}.bind(this));return a.startStream(d).then(function(a){return a.pipeThrough(f)})}.bind(this)};return d};a.prototype.$VideoStreamingManager36=function(a,c,d){var e=this.$VideoStreamingManager5;if(!e||this.$VideoStreamingManager1.getBool("disable_shaka_perf_logger_for_streaming",!1))return a;var f={startStream:function(f){var g=new(b("StreamFetchRequestLogger"))(e,this.$VideoStreamingManager7,c(f),d(f),f,b("performanceNow")(),this.$VideoStreamingManager14);return a.startStream(f).then(function(a){return a.pipeThrough(g)})}.bind(this)};return f};a.prototype.$VideoStreamingManager38=function(a){if(this.$VideoStreamingManager7!=="video")return a;var c={startStream:function(c){var d=new(b("StreamProgress"))(c);this.$VideoStreamingManager16!=null&&this.$VideoStreamingManager16.add(d);return a.startStream(c).then(function(a){return a.pipeThrough(d)})}.bind(this)};return c};a.prototype.$VideoStreamingManager34=function(){this.$VideoStreamingManager4=new(b("FetchStreamStateTracker"))()};e.exports=a}),null);
__d("ViewportPriorityAdjuster",["Event","SubscriptionsHandler","getElementPosition","getViewportDimensions","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=500,h=800;function a(a){this.$1=function(){},this.$2=new(b("SubscriptionsHandler"))(),this.$3=a,this.$2.addSubscriptions(b("Event").listen(window,"scroll",b("throttle")(function(){return this.$4(a)}.bind(this),g)))}a.prototype.$5=function(a){__p&&__p();if(!a.paused)return 0;var c=b("getViewportDimensions")();a=b("getElementPosition")(a);var d=a.y;a=a.height;c=c.height;if(!d&&!a)return-2;if(d+a<0)return-2;return d>=0&&d+a<=c+h||d<=0&&d+a>=0?0:-1};a.prototype.$4=function(a){this.$1(this.$5(a))};a.prototype.setOnPriorityChanged=function(a){this.$1=a};a.prototype.getPriorityAdjustment=function(){return this.$5(this.$3)};a.prototype.cleanup=function(){this.$1=function(){},this.$2.release()};e.exports=a}),null);
__d("canUseFetchStream",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=!!window.fetch,b=!!(window.ReadableStream&&window.WritableStream),c=!!(window.ReadableStream&&window.ReadableStream.prototype.pipeTo);return a&&b&&c}e.exports=a}),null);
__d("getSeekRangeGapsFromShakaReferences",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=[];for(var d=0;d<a.length;++d)if(a[d].timescaledGapInfo&&a[d].timescaledGapInfo.gapDistance>0){var e=0;a[d].unscaledStartTime&&(e=a[d].startTime-a[d].unscaledStartTime/b);c.push({start:a[d].timescaledGapInfo.segmentOriginalEndTime+e,end:a[d].endTime})}return c}e.exports=a}),null);
__d("logLongAkamaiRequest",["CurrentUser","FBLogger"],(function(a,b,c,d,e,f){var g=!1,h=2,i=[];function a(a){b("CurrentUser").isEmployee()&&!g&&(i=i.filter(function(a){a=a.time;return Date.now()-a<1e3*60*2}),i.push({data:a,time:Date.now()}),i.length>=h&&(g=!0,b("FBLogger")("shaka").warn("Long latency video request to akamai: %s",i.map(function(a){a=a.data;return a}).join(" ; "))))}e.exports=a}),null);
__d("mergeSeekRangeGaps",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var b=[];if(a.length){a.sort(function(a,b){return a.start-b.start});var c=a[0].start,d=a[0].end;for(var e=1;e<a.length;++e)a[e].start<=d?d=Math.max(d,a[e].end):(b.push({startTime:c,endTime:d}),c=a[e].start,d=a[e].end);b.push({startTime:c,endTime:d})}return b}e.exports=a}),null);
__d("getBandwidthUpgradeTargetFactor",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return b<c||c<=0?1:1-a/b*d}e.exports=a}),null);
__d("getVideoTracksWithoutSmoothPlayback",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();if(!window.navigator||!window.navigator.mediaCapabilities||typeof window.navigator.mediaCapabilities.decodingInfo!=="function")return b("Promise").resolve([]);var d=window.navigator.mediaCapabilities.decodingInfo,e={type:"media-source",audio:{contentType:(c.mimeType||"")+'; codecs="'+(c.codecs||"")+'"',channels:String(c.channels),bitrate:c.bandwidth,samplerate:c.samplingRate}};return b("Promise").all(a.map(function(a){return d(babelHelpers["extends"]({},e,{video:{contentType:(a.mimeType||"")+'; codecs="'+(a.codecs||"")+'"',width:a.width,height:a.height,bitrate:a.bandwidth,framerate:a.frameRate}}))})).then(function(b){var c=[];a.forEach(function(a,d){(!b[d].supported||!b[d].smooth)&&c.push(a)});return c})["catch"](function(a){return[]})}e.exports=a}),null);
__d("CustomAbrManager",["invariant","regeneratorRuntime","AbrEvaluationSignal","MosUtils","RlAbrModel","RlAbrUtils","Shaka","SubscriptionsHandler","VideoClientEdgeCooperation","VideoDashPrefetchCache","VideoPlaybackQuality","VideoPlayerConnectionQuality","VideoPlayerLocalBandwidthEstimator","VideoPlayerLoggerSource","VideoPlayerStreamSwitchReasons","VideoPlayerUtils","VideoQualityClasses","getBandwidthUpgradeTargetFactor","getVideoTracksWithoutSmoothPlayback"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("Shaka").player.VideoTrack,i=b("VideoPlaybackQuality").getDroppedFrames,j=b("VideoPlaybackQuality").getTotalFrames,k=window.devicePixelRatio||1;function l(a){"use strict";this.$39=!1,this.$2=null,this.$3=null,this.$4=a.shakaConfig,this.$5=a.performanceLogger,this.$7=new(b("SubscriptionsHandler"))(),this.$8=!0,this.$9=!1,this.$6=a.isSpherical,this.$10=a.width,this.$11=a.height,this.$13=a.resolutionConstraintMaxWidth,this.$12=a.resolutionConstraintMaxHeight,this.$14=a.minPlayQuality&&!this.$4.getBool("disable_min_quality",!1)?a.minPlayQuality:null,this.$15=a.maxPlayQuality?a.maxPlayQuality:null,this.$16=a.initiallyForcedRepresentations||b("VideoDashPrefetchCache").getCachedRepresentations(a.videoID),this.$17=a.video,this.$18=a.videoID,this.$30=null,this.$27=null,this.$29=null,this.$28=a.abrLogger,this.$41=!1,this.$31=a.getSource,this.$37=typeof a.useStrictTrackDimensionsExclusionLogic==="boolean"?a.useStrictTrackDimensionsExclusionLogic:this.$4.getBool("use_strict_track_dimensions_exclusion_logic",!1),a.enableAdaptation&&(this.$19=a.bandwidthModel,this.$20=a.bandwidthDowngradeTarget,this.$21=a.bandwidthUpgradeTarget,this.$22=a.useNewBandwidthBandLogic,this.$23=a.hvqUpgradeAggressiveness,this.$24=a.hvqInlineUpgradeAggressiveness,this.$25=a.preHvqUpgradeAggressiveness,this.$26=a.preHvqInlineUpgradeAggressiveness,this.$32=a.enableReinforcementLearning,this.$34=a.rlModelId,this.$33=a.rlUseShortFeatures,this.$40=a.videoWatchTimeTracker,this.$42=new(b("RlAbrModel"))(this.$4))}l.prototype.destroy=function(){"use strict";this.$1&&(this.$1.destroy(),this.$1=null),this.$7.release(),this.$7.engage(),this.$2=null,this.$3=null,this.$8=!1};l.prototype.setDimensions=function(a,b){"use strict";this.$10=a;this.$11=b;this.$2&&this.$2.setResolutionConstraint(this.$44(),this.$45());a=this.$17.paused?this.$4.getNumber("clear_buffer_on_constraint_change_paused_offset",5):this.$4.getNumber("clear_buffer_on_constraint_change_offset",5);this.$46({clearBufferIfUpgrading:this.$4.getBool("clear_buffer_on_constraint_change",!1),clearBufferOffset:a})};l.prototype.initialize=function(a,b){"use strict";if(this.$2||this.$3)return;this.$2=a;this.$3=b;a.setResolutionConstraint(this.$44(),this.$45())};l.prototype.start=function(){"use strict";if(!this.$2||!this.$3||this.$9)return;this.$2&&(this.$1=new(b("AbrEvaluationSignal"))(this.$17,this.$2,this.$3,{minEvalInterval:this.$4.getNumber("min_eval_interval",1e3),minSwitchInterval:this.$4.getNumber("min_switch_interval",5e3),ignoreTimeLimitForInitialSample:!0,useLowBufferVelocityInterval:this.$4.getBool("use_low_buffer_velocity_abr_interval",!1),lowBufferVelocityIntervalBufferThreshold:this.$4.getNumber("low_buffer_velocity_abr_interval_buffer_threshold",10),lowBufferVelocityAbrInterval:this.$4.getNumber("low_buffer_velocity_abr_interval",500),evaluateAbrOnFetchEnd:this.$4.getBool("evaluate_abr_on_fetch_end",!1),evaluateAbrOnTracksAndBandwidthChange:this.$4.getBool("evaluate_abr_on_tracks_and_bandwidth_change",!0),ignoreRecentBandwidthEvalOnFetchEnd:this.$4.getBool("ignore_recent_bandwidth_eval_on_fetch_end",!1)}),this.$1.addListener("evaluate",this.$47.bind(this)));this.$9=!0;this.$4.getBool("make_early_track_selection",!1)&&this.$29===b("VideoPlayerStreamSwitchReasons").FORCED&&this.$46()};l.prototype.$48=function(){"use strict";this.$16||(this.$16=b("VideoDashPrefetchCache").getCachedRepresentations(this.$18));return this.$16};l.prototype.$47=function(a){"use strict";this.$46(a)};l.prototype.$49=function(){"use strict";var a=this.$4.getNumber("resolution_constraint_factor",2);return a*k};l.prototype.$44=function(){"use strict";return this.$6||!this.$4.getBool("use_resolution_constraints",!0)?Infinity:Math.min(this.$10*this.$49(),this.$13)};l.prototype.$45=function(){"use strict";return this.$6||!this.$4.getBool("use_resolution_constraints",!0)?Infinity:Math.min(this.$11*this.$49(),this.$12)};l.prototype.setPreferredVideoTrack=function(a){"use strict";this.$30=a,this.$46({clearBufferIfUpgrading:!0,clearBufferOffset:0})};l.prototype.unsetPreferredVideoTrack=function(){"use strict";this.$30=null,this.$46()};l.prototype.enable=function(a){"use strict";this.$8=a};l.prototype.getInitialVideoTrackId=function(){"use strict";if(!this.$2||!this.$3)return null;var a=this.$50();return a?a.id:null};l.prototype.getInitialSwitchReason=function(){"use strict";return this.$29};l.prototype.getInitialAudioTrackId=function(){"use strict";if(!this.$2||!this.$3)return null;var a=this.$51();return a?a.id:null};l.prototype.selectVideoTrack=function(a,c,d,e){"use strict";__p&&__p();if(!this.$9)return;var f=this.$4.getBool("abr_switch_after_stream_completes",!1),g=this.$4.getNumber("abr_abort_when_fetch_estimate_exceeds_buffer_factor",0),i=this.$4.getNumber("abr_abort_when_fetch_estimate_exceeds_time",0),j=this.$4.getNumber("abr_abort_on_zero_stream_progress_below_threshold",-1),k=this.$3.getVideoStreamProgressTracker(),m=l.$52(this.$3.getVideoTracks());m=m&&h.compare(m,a)<0?this.$4.getBool("abr_abort_only_on_downgrade",!1):!0;if(k&&k.canTrackProgress()&&k.hasStarted()){var n=b("VideoPlayerUtils").getBufferedAheadOf(this.$17),o=k.getEstimatedTimeRemainingOfStream();n=g>0&&o>n*g;g=i>0&&o>i;o=j>-1?k.getProgress()<=j:!1;if(m&&(n||g||o)){this.$3.selectVideoTrack(a.id,c,d,e,!0);return}else if(f){this.$3.stopUntilVideoStreamSwitch();k.setOnStreamConsumed(function(){this.$3.selectVideoTrack(a.id,c,d,e)}.bind(this));return}}this.$3.selectVideoTrack(a.id,c,d,e,this.$4.getBool("abr_abort_without_stream_progress",!1))};l.$52=function(a){"use strict";for(var b=0;b<a.length;++b)if(a[b].active)return a[b];return null};l.prototype.$53=function(a){"use strict";__p&&__p();var c=this.$4.getNumber("live_predictive_abr_up_buffer",9e3),d=this.$4.getNumber("live_predictive_abr_down_buffer",5e3),e=this.$4.getNumber("live_predictive_abr_up_retry_interval",3e4),f=this.$4.getNumber("live_predictive_abr_ttfb_ratio",1.8),g=this.$4.getNumber("live_predictive_abr_floor_ttfb_ratio",5),h=this.$4.getNumber("live_predictive_abr_floor_swich_lanes",-2),i=this.$4.getBool("live_predictive_abr_bandwidth_fallback",!1),j=this.$54();this.$55(j);j=this.$56(j);var k=b("VideoPlayerUtils").getBufferedAheadOf(this.$17),l=0;if(!this.$41)return this.$50(j);g>0&&a.streamFetchTimeMs>a.segmentLengthMs*g?(l=h<-100?-Infinity:h,this.$27=b("VideoPlayerStreamSwitchReasons").DOWNLOAD_LONGER_THAN_DURATION):f>0&&a.streamFetchTimeMs>a.segmentLengthMs*f?(l=-1,this.$27=b("VideoPlayerStreamSwitchReasons").DOWNLOAD_LONGER_THAN_DURATION):k<d/1e3?(l=-1,this.$27=b("VideoPlayerStreamSwitchReasons").LOW_BUFFER_AVAILABILITY):k>=c/1e3&&this.$43+e<Date.now()&&(l=1,this.$27=b("VideoPlayerStreamSwitchReasons").HIGH_BUFFER_AVAILABILITY);l<0&&(this.$43=Date.now());g=j[Math.max(Math.min(this.$36+l,j.length-1),0)];if(i&&l<0){h=this.$50(j);h&&h.bandwidth<g.bandwidth&&(g=h)}l!=0&&this.$57(this.$27,g,j);return g};l.prototype.$58=function(){"use strict";__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:a=[];if(!this.$4.getBool("exclude_tracks_without_smooth_playback",!1)){d.next=5;break}d.next=4;return b("regeneratorRuntime").awrap(b("getVideoTracksWithoutSmoothPlayback")(this.$54(),this.$59()));case 4:a=d.sent;case 5:c=null;if(!(this.$32&&(!this.$17.paused||!this.$4.getBool("rl_use_fallback_evaluation_when_paused",!1)))){d.next=24;break}if(!(!this.$41&&this.$4.getBool("rl_use_fallback_for_first_evaluation",!1))){d.next=11;break}c=this.$50(a);d.next=22;break;case 11:if(!this.$4.getBool("rl_block_fetching",!1)){d.next=19;break}this.$3.stopUntilVideoStreamSwitch();d.next=15;return b("regeneratorRuntime").awrap(this.$60());case 15:c=d.sent;this.$3.resumeVideoFetching();d.next=22;break;case 19:d.next=21;return b("regeneratorRuntime").awrap(this.$60());case 21:c=d.sent;case 22:d.next=25;break;case 24:c=this.$50(a);case 25:return d.abrupt("return",c);case 26:case"end":return d.stop()}},null,this)};l.prototype.$46=function(a){"use strict";__p&&__p();var c,d,e,f,g,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:a===void 0&&(a={clearBufferIfUpgrading:!1,clearBufferOffset:0});if(this.$8){j.next=3;break}return j.abrupt("return");case 3:c=a,d=c.clearBufferIfUpgrading,e=c.clearBufferOffset;f=null;if(!(a&&a.streamFetchTimeMs&&a.segmentLengthMs&&this.$4.getBool("shaka_buffer_abr",!1))){j.next=9;break}f=this.$53({streamFetchTimeMs:a.streamFetchTimeMs,segmentLengthMs:a.segmentLengthMs});j.next=12;break;case 9:j.next=11;return b("regeneratorRuntime").awrap(this.$58());case 11:f=j.sent;case 12:if(!f){j.next=19;break}if(!f.active){j.next=15;break}return j.abrupt("return");case 15:g=!1,d&&(i=l.$52(this.$3.getVideoTracks()),g=i?h.compare(i,f)<0:!1),this.$1&&this.$1.notifySwitch(),this.selectVideoTrack(f,g,e,this.$27);case 19:case"end":return j.stop()}},null,this)};l.prototype.$61=function(){"use strict";this.$39=this.$39||b("VideoPlayerConnectionQuality").evaluate(function(){return this.$62()}.bind(this))==="POOR";return this.$39};l.prototype.$63=function(){"use strict";if(!this.$3)return!1;var a=this.$3.getBufferVelocity();return a!==null&&a<this.$4.getNumber("low_buffer_velocity_threshold",0)};l.prototype.$57=function(a,b,c){"use strict";__p&&__p();if(!this.$28)return;var d=this.$35||l.$52(c);this.$5&&this.$5.getEventLogger("abr_evaluation").setDynamicBitrate(b.bandwidth).setStreamSwitchReason(a).setInitiator(d?d.streamInfoID:null).setConcluder(b.streamInfoID).setResult(b.active?"paused":"success").log();if(this.$28){var e=new Map();if(c)for(var f=0;f<c.length;f++)e.set(c[f].fbQualityLabel,c[f].bandwidth);this.$28.setEvent("track_selection").setReason(a).setRepresentationID(b.streamInfoID).setFbQualityLabel(b.fbQualityLabel).setIsHvq(b.isInlineHVQ||b.isHVQ).setActiveRepresentationID(d?d.streamInfoID:null).setActiveIsHvq(d?d.isInlineHVQ||d.isHVQ:null).setAvailableTracks(e).log()}};l.prototype.$59=function(){"use strict";return this.$3.getAudioTracks().find(function(a){return a.active})};l.prototype.$54=function(){"use strict";return this.$3.getVideoTracks({useLocalBitrate:this.$4.getBool("use_local_bitrate",!1)})};l.prototype.$55=function(a){"use strict";this.$35=l.$52(a),this.$36=this.$35?a.indexOf(this.$35):-1};l.prototype.$56=function(a){"use strict";__p&&__p();if(a.length==0)return[];a=a.filter(function(a){return!(a.avoidOnPoorConnection&&this.$61())}.bind(this));var c=this.$48();if(!this.$9)for(var d=0;d<a.length;d++)if(c&&c.includes(a[d].streamInfoID)){this.$27=b("VideoPlayerStreamSwitchReasons").FORCED;this.$29=b("VideoPlayerStreamSwitchReasons").FORCED;this.$57(this.$27,a[d],[a[d]]);return[a[d]]}if(this.$30){var e=this.$30.id;d=a.find(function(a){return a.id===e});if(d){this.$27=b("VideoPlayerStreamSwitchReasons").USER;this.$57(this.$27,d,[d]);return[d]}}a.sort(h.compare);if(this.$14!==null||this.$15!==null){var f=this.$14!==null?b("VideoQualityClasses").indexOf(this.$14):0,g=this.$15!==null?b("VideoQualityClasses").indexOf(this.$15):b("VideoQualityClasses").length-1;if(f<=g){c=a.filter(function(a){return b("VideoQualityClasses").indexOf(a.fbQualityClass)>=f&&b("VideoQualityClasses").indexOf(a.fbQualityClass)<=g});this.$27=b("VideoPlayerStreamSwitchReasons").PREFER_QUALITY_CLASS;if(!c.length){this.$57(this.$27,a[a.length-1],[a[a.length-1]]);return[a[a.length-1]]}d=b("VideoQualityClasses").indexOf("sd");if(a.length==2&&c.length==2&&g<=d){this.$57(this.$27,a[0],[a[0]]);return[a[0]]}a=c}}return a};l.prototype.$64=function(a){"use strict";var b=this.$45(),c=this.$44();a=a.filter(function(a){return this.$37?(a.width||0)<=c&&(a.height||0)<=b:(a.width||0)<=c||(a.height||0)<=b}.bind(this));return a};l.prototype.$65=function(a,b){"use strict";return b.length===0?a:a.filter(function(a){return!b.find(function(b){return a.id===b.id})})};l.prototype.$66=function(){"use strict";if(this.$3===null)return!1;var a=this.$4.getBool("use_buffer_target_only_after_buffering_goal_is_hit",!1);if(a&&!this.$3.hasHitBufferingGoal())return!0;a=this.$4.getNumber("buffer_velocity_time_in_past_to_consider",0)>0;return a&&!this.$63()?!0:!1};l.prototype.$50=function(a){__p&&__p();a===void 0&&(a=[]);var c=this.$54();this.$55(c);c=this.$56(c);var d=this.$62();this.$4.getBool("exclude_tracks_with_expensive_mos",!1)&&(c=b("MosUtils").filterTracksWithExpensiveMos(c,this.$10*k,this.$11*k,d,this.$4.getNumber("maximum_mos_to_decrease",3),this.$4.getNumber("maximum_bandwidth_bitrate_ratio",1.5)));if(c.length==0)return null;else if(c.length==1)return c[0];this.$41=!0;var e=c[0];c=this.$65(c,a);a=c.reduce(function(a,b){return a>(b.bandwidth||0)?a:b.bandwidth||0},0);d=b("VideoClientEdgeCooperation").applyBandwidthLimit(d,a);c=this.$64(c);a=l.$52(this.$3.getAudioTracks());a=a?a.bandwidth:0;var f=b("VideoPlayerUtils").getBufferedAheadOf(this.$17);if(f<this.$4.getNumber("force_lowest_representation_threshold",0)&&!this.$66()){var g=0;this.$36>-1&&(g=Math.floor(this.$36*this.$4.getNumber("force_lower_representation_step_ratio",0)));g>=c.length&&(g=c.length-1);this.$27=b("VideoPlayerStreamSwitchReasons").LOW_BUFFER_AVAILABILITY;e=c[g]||e;this.$57(this.$27,e,c);return e}else{g=0;for(var h=0;h<c.length;h++){var i=c[h],j=h+1<c.length?c[h+1]:{bandwidth:Number.POSITIVE_INFINITY};if(!i.bandwidth)continue;var m=this.$67(i,j,f,this.$31&&this.$31()),n=this.$22?g:(i.bandwidth+a)/this.$20;j=(j.bandwidth+a)/m;g=j;m=this.$4.getBool("use_buffer_downgrade_threshold",!1);var o=this.$4.getNumber("buffer_downgrade_threshold",10);if(m&&f>o&&h<=this.$36){e=this.$35?this.$35:i;continue}if(d>=n&&d<=j){e=i;if(e.active)break}}this.$27=b("VideoPlayerStreamSwitchReasons").BANDWIDTH}this.$57(this.$27,e,c);return e};l.prototype.$68=function(){"use strict";return!this.$2||!this.$2 instanceof b("VideoPlayerLocalBandwidthEstimator")?[]:this.$2.getRecentSamples()};l.prototype.$62=function(){"use strict";this.$2 instanceof b("VideoPlayerLocalBandwidthEstimator")||g(0,2969);return this.$2.getBandwidth(this.$19)};l.prototype.$67=function(a,c,d,e){"use strict";__p&&__p();var f=1;!a.isInlineHVQ&&c.isInlineHVQ?f=this.$26:a.isInlineHVQ&&e===b("VideoPlayerLoggerSource").INLINE?f=this.$24:a.isHVQ&&(f=this.$23);c=this.$4.getNumber("buffer_target",-1);e=!this.$4.getBool("use_buffer_target_only_after_buffering_goal_is_hit",!1)||this.$3&&this.$3.hasHitBufferingGoal();a=c>-1&&e;if(a){e=d>c;a=e?this.$4.getNumber("buffer_target_overflow_upgrade_aggressiveness",1):this.$4.getNumber("buffer_target_underflow_upgrade_aggressiveness",1);f*=a}d=this.$4.getNumber("frame_drop_penalty_minimum_frame_count",0);d>0&&(f*=b("getBandwidthUpgradeTargetFactor")(i(this.$17),j(this.$17),d,this.$4.getNumber("frame_drop_penalty_factor",0)));return this.$21*f};l.prototype.$51=function(){"use strict";__p&&__p();var a=this.$3.getAudioTracks();if(a.length==0)return null;var b=this.$48();if(!this.$9)for(var c=0;c<a.length;c++)if(b&&b.includes(a[c].streamInfoID))return a[c];return null};l.prototype.$60=function(){__p&&__p();var a=this,c,d,e,f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:c=this.$54();this.$55(c);c=this.$56(c);if(!(c.length==0)){o.next=7;break}return o.abrupt("return",null);case 7:if(!(c.length==1)){o.next=9;break}return o.abrupt("return",c[0]);case 9:c=this.$64(c);if(!(c.length==0)){o.next=14;break}return o.abrupt("return",null);case 14:if(!(c.length==1)){o.next=16;break}return o.abrupt("return",c[0]);case 16:this.$27=b("VideoPlayerStreamSwitchReasons").FORCED;d=c[0];e=b("VideoPlayerUtils").getBufferedAheadOf(this.$17);this.$68();f=this.$62();g=this.$33?b("RlAbrUtils").getRlAbrShortFeatures(this.$17,c,e,f):b("RlAbrUtils").getRlAbrFeatures(this.$17,c,e,f,this.$40);if(g){o.next=24;break}return o.abrupt("return",this.$50());case 24:h=this.$44();i=this.$45();o.prev=26;if(!this.$33){o.next=32;break}o.next=30;return b("regeneratorRuntime").awrap(function(){__p&&__p();var e,f,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(b("RlAbrUtils").genRlAbrShortFeaturesRecommendation(g,a.$4.getNumber("min_eval_interval",1e3),a.$34));case 2:e=l.sent;if(!(!e||e.length==0)){l.next=5;break}throw new Error("RL service not available.");case 5:f=function(f){var g=c.find(function(a){var c=b("RlAbrUtils").getQualityLabelBracket(a.fbQualityLabel,this.$33);return c===e[f]&&(a.width<=h||a.height<=i)});if(g){d=g;a.$27=b("VideoPlayerStreamSwitchReasons").RL_DECISION;return"break"}},j=0;case 7:if(!(j<e.length)){l.next=14;break}k=f(j);if(!(k==="break")){l.next=11;break}return l.abrupt("break",14);case 11:j++;l.next=7;break;case 14:case"end":return l.stop()}},null,this)}());case 30:o.next=52;break;case 32:j=this.$40?this.$40.getGuid():null;if(!(j===null)){o.next=35;break}return o.abrupt("return",this.$50());case 35:k=b("RlAbrUtils").getRlAbrAvailableBitrates(c);if(!(k.length>this.$4.getNumber("rl_max_number_of_bitrates",10))){o.next=38;break}return o.abrupt("return",this.$50());case 38:l=this.$4.getNumber("rl_request_timeout",1e3);if(!this.$4.getBool("rl_buffer_timeout",!0)){o.next=43;break}l=Math.min(l,(e-1)*1e3);if(!(l<0)){o.next=43;break}return o.abrupt("return",this.$50());case 43:m=this.$4.getString("rl_smc_tier","repomen_1");if(this.$42.modelFetched()){o.next=49;break}this.$42.fetchIfNotExist(j,m,l);return o.abrupt("return",this.$50());case 49:n=this.$42.getPolicyReportExperience(j,m,g,k,c,l),d=c[n],this.$27=b("VideoPlayerStreamSwitchReasons").RL_DECISION;case 52:o.next=57;break;case 54:o.prev=54;o.t0=o["catch"](26);return o.abrupt("return",this.$50());case 57:this.$38=g;this.$57(this.$27,d,c);return o.abrupt("return",d);case 60:case"end":return o.stop()}},null,this,[[26,54]])};e.exports=l}),null);
__d("LowLatencyPlayheadManager",["LowLatencyPlaybackTypedLogger","VideoPlayerUtils","clearInterval","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d,e,f){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$11=0,this.$9=0}a.prototype.$12=function(a){var b=this.$4.getLowLatencyWorldTiming();this.$11=b.worldCurrentTimeMs;return a-b.worldCurrentTimeMs+b.worldLastVideoFrameMs};a.prototype.$13=function(a){a=this.$12(a);return a-this.$6.lowLatencyMs};a.prototype.getLowLatencyPlayheadMs=function(){var a=this.$5.currentTimeMillis();return this.$13(a)};a.prototype.startFixedLatencySync=function(){this.$7=b("setIntervalAcrossTransitions")(this.adjustPlaybackForLowLatency.bind(this),this.$6.lowLatencyAdjustPlaybackIntervalMs)};a.prototype.stopFixedLatencySync=function(){b("clearInterval")(this.$7)};a.prototype.setState=function(a){this.$10=a};a.prototype.state=function(){return this.$10};a.prototype.adjustPlaybackForLowLatency=function(){__p&&__p();if(!this.$4.isReady())return;if(!this.$4.isLive())return;if(!this.$5.isReady())return;var a=this.$5.currentTimeMillis(),c=this.$13(a);c=c/1e3;this.$10=="playing"&&this.$2.currentTime<c-this.$6.lowLatencyThresholdMs/1e3?(this.$2.currentTime=c+this.$6.lowLatencySeekForwardMs/1e3,this.$2.paused&&(this.$10="playing",this.$1.play()),this.$8=Date.now(),this.$9++):this.$10=="playing"&&this.$2.currentTime>c+this.$6.lowLatencyThresholdMs/1e3?(this.$1.pause(),this.$10="paused"):this.$10=="paused"&&(this.$10="playing",this.$1.play());new(b("LowLatencyPlaybackTypedLogger"))().setBehindByMs(a-this.$11).setBufferMs(b("VideoPlayerUtils").getBufferedAheadOf(this.$2)*1e3).setPlaybackDesiredTimeMs(this.$6.lowLatencyMs).setSeekCount(this.$9).setServerTimeMs(a).setTimeSinceLastSeekMs(Date.now()-this.$8).setVideoID(this.$3).setVideoTimeMs(this.$2.currentTime*1e3).log()};e.exports=a}),null);
__d("LowLatencyShakaTimingProvider",["Shaka"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("Shaka").player.Player;function a(a){this.$1=a}a.prototype.getLowLatencyWorldTiming=function(){var a=this.$1.getManifest();return{worldCurrentTimeMs:a.currentServerTimeMs,worldLastVideoFrameMs:a.lastVideoFrameTs}};a.prototype.isReady=function(){return this.$1.getManifest()!=null};a.prototype.isLive=function(){return this.$1.getManifest().type=="dynamic"};e.exports=a}),null);
__d("VideoPlayerAbrLogger",["ScriptPath","VideoPlayerAbrLoggerConfig","VideoPlayerAbrTypedLogger","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaGlobalConfig","VideoPlayerUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("VideoPlayerAbrTypedLogger"));g=c&&c.prototype;function a(a){g.constructor.call(this),g.setSession.call(this,a.uniqueID),g.setVideoID.call(this,a.videoID),this.$VideoPlayerAbrLogger4=a.video,this.$VideoPlayerAbrLogger5=a.isLive,this.$VideoPlayerAbrLogger6=a.playerOrigin,this.$VideoPlayerAbrLogger7()}a.prototype.setBytes=function(a){this.$VideoPlayerAbrLogger1.bytes=a;return this};a.prototype.setDelayMs=function(a){this.$VideoPlayerAbrLogger1.delayMs=a;return this};a.prototype.setEvent=function(a){this.$VideoPlayerAbrLogger1.event=a;return this};a.prototype.setUnsampledReason=function(a){this.$VideoPlayerAbrLogger1.unsampledReason=a;return this};a.prototype.setReason=function(a){this.$VideoPlayerAbrLogger1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$VideoPlayerAbrLogger2=a;return this};a.prototype.setFbQualityLabel=function(a){this.$VideoPlayerAbrLogger3=a;return this};a.prototype.setClientTimeBegin=function(a){this.$VideoPlayerAbrLogger1.clientTimeBegin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$VideoPlayerAbrLogger1.clientTimeEnd=a;return this};a.prototype.setIsHvq=function(a){this.$VideoPlayerAbrLogger1.isHvq=a;return this};a.prototype.setActiveIsHvq=function(a){this.$VideoPlayerAbrLogger1.activeIsHvq=a;return this};a.prototype.setActiveRepresentationID=function(a){this.$VideoPlayerAbrLogger1.activeRepresentationID=a;return this};a.prototype.setAvailableTracks=function(a){this.$VideoPlayerAbrLogger1.availableTracks=a;return this};a.prototype.$VideoPlayerAbrLogger7=function(){this.$VideoPlayerAbrLogger1={bytes:null,delayMs:null,event:null,unsampledReason:null,reason:null,clientTimeBegin:null,clientTimeEnd:null,isHvq:null,activeIsHvq:null,activeRepresentationID:null,availableTracks:null}};a.prototype.$VideoPlayerAbrLogger8=function(){__p&&__p();if(this.$VideoPlayerAbrLogger1.event==null)return;else this.$VideoPlayerAbrLogger1.event=="track_selection"&&(g.setActiveIsHvq.call(this,this.$VideoPlayerAbrLogger1.activeIsHvq),g.setActiveRepresentationID.call(this,this.$VideoPlayerAbrLogger1.activeRepresentationID),g.setAvailableTracks.call(this,this.$VideoPlayerAbrLogger1.availableTracks),g.setIsHvq.call(this,this.$VideoPlayerAbrLogger1.isHvq));g.setBytes.call(this,this.$VideoPlayerAbrLogger1.bytes);g.setDelayMs.call(this,this.$VideoPlayerAbrLogger1.delayMs);g.setEvent.call(this,this.$VideoPlayerAbrLogger1.event);g.setUnsampledReason.call(this,this.$VideoPlayerAbrLogger1.unsampledReason);g.setReason.call(this,this.$VideoPlayerAbrLogger1.reason);var a=this.$VideoPlayerAbrLogger1.clientTimeBegin,b=this.$VideoPlayerAbrLogger1.clientTimeEnd;a==null?(a=Date.now(),b=a):b==null&&(b=a);g.setClientTimeBegin.call(this,a);g.setClientTimeEnd.call(this,b)};a.prototype.log=function(){__p&&__p();if(b("VideoPlayerShakaGlobalConfig").getBool("enable_client_side_abr_logger_sampling",!0)&&!b("VideoPlayerAbrLoggerConfig").isSampled)return;this.$VideoPlayerAbrLogger8();g.setBandwidthEstimate.call(this,parseInt(b("VideoPlayerShakaBandwidthEstimator").getBandwidth(),10));g.setRepresentationID.call(this,this.$VideoPlayerAbrLogger2);g.setFbQualityLabel.call(this,this.$VideoPlayerAbrLogger3);g.setPlayhead.call(this,Math.round(this.$VideoPlayerAbrLogger4.currentTime*1e3));g.setBufferedAhead.call(this,Math.round(b("VideoPlayerUtils").getBufferedAheadOf(this.$VideoPlayerAbrLogger4)));g.setVideoDuration.call(this,Math.round(this.$VideoPlayerAbrLogger4.duration*1e3));g.setIsLive.call(this,this.$VideoPlayerAbrLogger5);g.setPlayerOriginCallerSpecified.call(this,this.$VideoPlayerAbrLogger6);g.setScriptPath.call(this,b("ScriptPath").getScriptPath());g.log.call(this);this.$VideoPlayerAbrLogger7()};e.exports=a}),null);
__d("VideoPlayerLiveStreamState",["EventEmitter","SkywalkerManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={interrupt:"streamInterruptAt",ended:"endedAt"};c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$VideoPlayerLiveStreamState2=a,this.$VideoPlayerLiveStreamState1=[]}a.prototype.subscribe=function(){this.$VideoPlayerLiveStreamState1=[];for(var a in h)this.$VideoPlayerLiveStreamState1.push(b("SkywalkerManager").subscribe("video_broadcast/"+a+"_"+this.$VideoPlayerLiveStreamState2,this.$VideoPlayerLiveStreamState3.bind(this,h[a])))};a.prototype.unsubscribe=function(){__p&&__p();for(var a=this.$VideoPlayerLiveStreamState1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}this.$VideoPlayerLiveStreamState1=[]};a.prototype.$VideoPlayerLiveStreamState3=function(a,b){b=JSON.parse(b.payload||"{}")||{};b=b.time_position;typeof b==="number"&&(b/=1e3,this.emit(a,b))};e.exports=a}),null);
__d("getVideoPlayerShakaSeekableRanges",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var b=[];if(a.seekRangeGaps.length===0)b.push({startTime:a.start,endTime:a.end});else{var c=a.start,d;for(var e=0;e<a.seekRangeGaps.length;++e)d=a.seekRangeGaps[e].startTime,b.push({startTime:c,endTime:d}),c=a.seekRangeGaps[e].endTime;d=a.end;b.push({startTime:c,endTime:d})}return b}e.exports=a}),null);
__d("VideoPlayerHTML5Shaka",["invariant","Promise","CustomAbrManager","Event","EventEmitter","EventListener","LowLatencyShakaTimingProvider","LowLatencyPlayheadManager","Shaka","SubscriptionsHandler","TaggedTimeRanges","VideoDashPrefetchCache","VideoPlayerAbrLogger","VideoPlayerConnectionQuality","VideoPlayerLiveStreamState","VideoPlayerMetaData","VideoPlayerPlayLogger","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaPerformanceLogger","VideoPlayerVersions","VideoPriorityCalculator","VideoStreamingTaskQueueProvider","clearInterval","dangerouslyOverrideMediaElementEndedProperty","dispatchCustomEvent","dispatchEvent","setInterval","throttle","TimeRanges","getVideoPlayerShakaSeekableRanges","LiveClock","URI","PerformanceResourceBuffer"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=b("Shaka").player;var i=a.DashVideoSource,j=a.Player,k=a.VideoTrack,l=b("Shaka").dash.mpd.parseMpd,m=b("VideoPlayerShakaBandwidthEstimator").getEstimator();b("PerformanceResourceBuffer");c=babelHelpers.inherits(n,b("EventEmitter"));h=c&&c.prototype;function n(a,c,d){__p&&__p();var e=d.config,f=d.videoID,g=d.playerInstanceKey,i=d.width,k=d.height,m=d.manifest,o=d.manifestUrl,p=d.isLive,q=d.isServableViaFbms,r=d.minPlayQuality,s=d.maxPlayQuality,t=d.accessToken,u=d.startTimestamp,v=d.disableStreaming,w=d.playerOrigin,x=d.playerSuborigin,y=d.resolutionConstraintMaxHeight,z=d.resolutionConstraintMaxWidth,A=d.useStrictTrackDimensionsExclusionLogic,B=d.isSpherical,C=d.getSource,D=d.vpcPlayingStateEmitter,E=d.streamPriorityAdjuster,F=d.videoLiveTrace,G=d.videoLicenseUri,H=d.isGraphApiVideoLicenseUri,I=d.widevineCert,J=d.videoWatchTimeTracker;d=d.desiredLatencyMs;h.constructor.call(this);this.$VideoPlayerHTML5Shaka36=null;this.$VideoPlayerHTML5Shaka50=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Shaka2=e;this.$VideoPlayerHTML5Shaka5=r;this.$VideoPlayerHTML5Shaka6=s;this.$VideoPlayerHTML5Shaka7=!1;this.$VideoPlayerHTML5Shaka8=null;this.$VideoPlayerHTML5Shaka9=1;this.$VideoPlayerHTML5Shaka10=!1;this.$VideoPlayerHTML5Shaka11=p;this.$VideoPlayerHTML5Shaka12=p;this.$VideoPlayerHTML5Shaka13=q;this.$VideoPlayerHTML5Shaka14=!1;this.$VideoPlayerHTML5Shaka15=B;this.$VideoPlayerHTML5Shaka16=!1;this.$VideoPlayerHTML5Shaka17=i;this.$VideoPlayerHTML5Shaka18=k;this.$VideoPlayerHTML5Shaka19=!1;this.$VideoPlayerHTML5Shaka51=G;this.$VideoPlayerHTML5Shaka52=H;this.$VideoPlayerHTML5Shaka54=I;this.$VideoPlayerHTML5Shaka36=m||o;this.$VideoPlayerHTML5Shaka44=J;this.$VideoPlayerHTML5Shaka47=(typeof y==="number"?y:this.$VideoPlayerHTML5Shaka2.getNumber("resolution_constraint_max_height",0))||Infinity;this.$VideoPlayerHTML5Shaka48=(typeof z==="number"?z:this.$VideoPlayerHTML5Shaka2.getNumber("resolution_constraint_max_width",0))||Infinity;this.$VideoPlayerHTML5Shaka49=A;this.$VideoPlayerHTML5Shaka3=c;this.$VideoPlayerHTML5Shaka39=null;this.$VideoPlayerHTML5Shaka21=C;e=this.$VideoPlayerHTML5Shaka39;this.$VideoPlayerHTML5Shaka4=f;this.$VideoPlayerHTML5Shaka53=t;this.$VideoPlayerHTML5Shaka27=b("VideoPlayerShakaPerformanceLogger").shouldInitialize()?new(b("VideoPlayerShakaPerformanceLogger"))({videoID:f,video:a,representationId:e,isLive:p,isServableViaFbms:q,accessToken:t,playerOrigin:w,playerSuborigin:x,playerVersion:this.getPlayerVersion(),uniqueID:g,getBandwidthEstimate:function(a){return b("VideoPlayerShakaBandwidthEstimator").getBandwidthByVideoType(a)}}):null;this.$VideoPlayerHTML5Shaka27&&(this.$VideoPlayerHTML5Shaka29=new(b("VideoPlayerPlayLogger"))(a,this.$VideoPlayerHTML5Shaka27));this.$VideoPlayerHTML5Shaka31=new(b("VideoPlayerAbrLogger"))({videoID:f,uniqueID:g,video:a,isLive:p,isServableViaFbms:q,playerOrigin:w}).setRepresentationID(e);this.$VideoPlayerHTML5Shaka56();b("EventListener").listen(a,"playing",this.$VideoPlayerHTML5Shaka57.bind(this));b("EventListener").listen(a,"timeupdate",function(a){this.$VideoPlayerHTML5Shaka58(a.target.currentTime)}.bind(this));b("EventListener").listen(a,"pause",this.$VideoPlayerHTML5Shaka59.bind(this));b("EventListener").listen(a,"play",function(){this.$VideoPlayerHTML5Shaka14=!0}.bind(this));this.$VideoPlayerHTML5Shaka35=Date.now();this.$VideoPlayerHTML5Shaka2.getBool("refresh_vod_manifest",!1)&&this.$VideoPlayerHTML5Shaka60();this.$VideoPlayerHTML5Shaka23=[];this.$VideoPlayerHTML5Shaka24=null;this.$VideoPlayerHTML5Shaka25=null;this.$VideoPlayerHTML5Shaka41=D;this.$VideoPlayerHTML5Shaka42=E;this.$VideoPlayerHTML5Shaka20=new j(a,this.$VideoPlayerHTML5Shaka2,this.$VideoPlayerHTML5Shaka27,this.$VideoPlayerHTML5Shaka31,this.$VideoPlayerHTML5Shaka41,this.$VideoPlayerHTML5Shaka42,F);if(this.$VideoPlayerHTML5Shaka12&&this.$VideoPlayerHTML5Shaka2.getBool("is_low_latency",!1)){r=new(b("LiveClock"))();r.startClock();this.$VideoPlayerHTML5Shaka55=new(b("LowLatencyPlayheadManager"))(this,a,this.$VideoPlayerHTML5Shaka4,new(b("LowLatencyShakaTimingProvider"))(this.$VideoPlayerHTML5Shaka20),r,{lowLatencyMs:d||this.$VideoPlayerHTML5Shaka2.getNumber("ll_desired_latency_ms",7e3),lowLatencyThresholdMs:this.$VideoPlayerHTML5Shaka2.getNumber("ll_latency_behind_threshold_ms",500),lowLatencySeekForwardMs:this.$VideoPlayerHTML5Shaka2.getNumber("ll_latency_seek_forward_ms",400),lowLatencyAdjustPlaybackIntervalMs:this.$VideoPlayerHTML5Shaka2.getNumber("ll_adjust_playback_interval_ms",250)});this.$VideoPlayerHTML5Shaka55.setState("stopped")}this.$VideoPlayerHTML5Shaka20.addEventListener("seekrangechanged",function(){return this.$VideoPlayerHTML5Shaka61()}.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("bufferingStart",function(){return this.$VideoPlayerHTML5Shaka62()}.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Shaka63()}.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("bufferingProgress",this.$VideoPlayerHTML5Shaka64.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("error",function(a){return this.$VideoPlayerHTML5Shaka65(a)}.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("adaptation",this.$VideoPlayerHTML5Shaka66.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("trackschanged",this.$VideoPlayerHTML5Shaka67.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("debug/dashPlayerEvent",function(a){return this.emit("debug/dashPlayerEvent",a.detail)}.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("manifestwrapped",this.$VideoPlayerHTML5Shaka68.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("cea608-captions",function(a){this.emit("cea608CaptionsParsed",a.detail.captions)}.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("cea608AvailabilityChanged",function(){this.emit("cea608AvailabilityChanged")}.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("manifestIsUpdating",this.$VideoPlayerHTML5Shaka69.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("switchreplica",this.$VideoPlayerHTML5Shaka70.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("networkinterrupted",this.$VideoPlayerHTML5Shaka71.bind(this));this.$VideoPlayerHTML5Shaka20.addEventListener("networkresumed",this.$VideoPlayerHTML5Shaka72.bind(this));s=!1;B=null;i=null;this.$VideoPlayerHTML5Shaka45=this.$VideoPlayerHTML5Shaka2.getBool("live_send_push_headers",!0);this.$VideoPlayerHTML5Shaka46=o;m?this.$VideoPlayerHTML5Shaka38=l(m,o):(this.$VideoPlayerHTML5Shaka38=o,s=o&&o.indexOf("dash-abr")!==-1);s&&(this.$VideoPlayerHTML5Shaka45=this.$VideoPlayerHTML5Shaka2.getBool("live_abr_send_push_headers",!0),this.$VideoPlayerHTML5Shaka45&&(B=this.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264"),i=this.$VideoPlayerHTML5Shaka2.getString("live_abr_audio_push_representation","live-md_AAC"),this.$VideoPlayerHTML5Shaka3=[this.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264")]),this.$VideoPlayerHTML5Shaka2.getBool("live_abr_always_force_representation",!1)&&(this.$VideoPlayerHTML5Shaka3=[this.$VideoPlayerHTML5Shaka2.getString("live_abr_initial_push_representation","live-md_H264")]));this.$VideoPlayerHTML5Shaka1=a;this.$VideoPlayerHTML5Shaka43=this.$VideoPlayerHTML5Shaka73();this.$VideoPlayerHTML5Shaka26=this.$VideoPlayerHTML5Shaka74();this.$VideoPlayerHTML5Shaka20.configure({enableAdaptation:this.getIsAbrEnabled(),appendPlayingQueryParam:this.$VideoPlayerHTML5Shaka2.getBool("add_cdn_debug_query_parameters",!0),endBufferingOnPlaying:this.$VideoPlayerHTML5Shaka2.getBool("end_buffering_on_playing",!1),usePlaybackRateForBuffering:!0,streamBufferSize:this.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",!1)?0:this.$VideoPlayerHTML5Shaka75(),initialStreamBufferSize:n.isAutoplayBandwidthRestrained(p)?this.$VideoPlayerHTML5Shaka2.getNumber("initial_stream_buffer_size_for_blocked_autoplay",5.9335983320607):this.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",!1)?0:this.$VideoPlayerHTML5Shaka76(),smartBufferAdjustmentParams:{useSmartBuffering:this.$VideoPlayerHTML5Shaka2.getBool("use_smart_buffering",!1),bufferSize_00_to_03:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_00_to_03",5),bufferSize_03_to_10:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_03_to_10",15),bufferSize_10_to_30:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_10_to_30",30),bufferSize_30_to_60:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_30_to_60",600),bufferSize_above_60:this.$VideoPlayerHTML5Shaka2.getNumber("buffer_size_above_60",600),nonSmartBufferSize:this.$VideoPlayerHTML5Shaka2.getNumber("non_smart_buffer_size",15)},dynamicStreamBufferSize:p?this.$VideoPlayerHTML5Shaka2.getNumber("live_dynamic_stream_buffer_size",12):null,includeStreamBufferSizeInStartOffset:!0,minMpdRefreshInterval:this.$VideoPlayerHTML5Shaka2.getNumber("min_mpd_refresh_interval",1e3),disableCacheBustingEvenThoughItMayAffectBandwidthEstimation:!0,liveStreamEndTimeout:this.$VideoPlayerHTML5Shaka2.getNumber("live_stream_end_timeout",6e4),enableLiveInterruptionDetection:!0,liveInterruptionConsecutiveUpdatesWithoutChange:this.$VideoPlayerHTML5Shaka2.getNumber("live_interruption_consecutive_updates_without_change",5),liveInterruptionConsecutiveUpdatesWithChange:this.$VideoPlayerHTML5Shaka2.getNumber("live_interruption_consecutive_updates_with_change",3),liveMaxSegmentsToPush:this.$VideoPlayerHTML5Shaka2.getNumber("live_max_segments_to_push",2),liveSendPushHeaders:n.isAutoplayBandwidthRestrained(p)?!1:this.$VideoPlayerHTML5Shaka77(),liveMaxManifestFetchesWithPush:this.$VideoPlayerHTML5Shaka2.getNumber("live_max_manifest_fetches_with_push",1),resolveVideoTimeUpdateOnFragmentedTimeRanges:this.$VideoPlayerHTML5Shaka2.getBool("resolve_video_time_update_on_fragmented_time_ranges",!0),enableManifestDebug:this.$VideoPlayerHTML5Shaka2.getBool("enable_video_debug",!1),reappendInitSegmentAfterAbort:this.$VideoPlayerHTML5Shaka2.getBool("reappend_init_segment_after_abort",!1),useInlineInitSegment:this.$VideoPlayerHTML5Shaka2.getBool("use_inline_init_segment",!1),currentTimeDuringReadyStateZeroThrows:this.$VideoPlayerHTML5Shaka2.getBool("current_time_during_ready_state_zero_throws",!1),liveInitialPushRepresentation:B,liveAudioPushRepresentation:i,jumpToLiveThreshold:this.$VideoPlayerHTML5Shaka2.getNumber("jump_to_live_threshold",.5),liveDataFetchMaxRetries:this.$VideoPlayerHTML5Shaka2.getNumber("live_data_fetch_max_retries",0),liveSourceBufferClearMaxRetries:this.$VideoPlayerHTML5Shaka2.getNumber("live_source_buffer_clear_max_retries",0),useLongCacheForManifest:this.$VideoPlayerHTML5Shaka2.getBool("use_long_cache_for_manifest",!0),jumpToEarliestPositionInCurrentBlock:this.$VideoPlayerHTML5Shaka2.getBool("jump_to_earliest_position_in_current_block",!0),ignoreMinBufferTime:this.$VideoPlayerHTML5Shaka2.getBool("ignore_min_buffer_time",!1),playheadFragmentedGapDiffAllowance:this.$VideoPlayerHTML5Shaka2.getNumber("playhead_fragmented_gap_diff_allowance",.1),fixBufferingGoalDetermination:this.$VideoPlayerHTML5Shaka2.getBool("fix_buffering_goal_determination",!0),skipEmptySegments:this.$VideoPlayerHTML5Shaka2.getBool("skip_empty_segments",!1),useMicroTaskTimeouts:!0,enableRequestPipelining:this.$VideoPlayerHTML5Shaka12?this.$VideoPlayerHTML5Shaka2.getBool("enable_request_pipelining_for_live",!0):this.$VideoPlayerHTML5Shaka2.getBool("enable_request_pipelining_for_vod",!0),enableStreaming:!v&&(this.$VideoPlayerHTML5Shaka12?this.$VideoPlayerHTML5Shaka2.getBool("enable_streaming_for_live",!1):this.$VideoPlayerHTML5Shaka2.getBool("enable_streaming_for_vod",!0)),enableContentProtection:this.$VideoPlayerHTML5Shaka2.getBool("enable_content_protection",!1)});if(p){k=new(b("VideoPlayerLiveStreamState"))(f);this.$VideoPlayerHTML5Shaka40=k;this.$VideoPlayerHTML5Shaka20.addEventListener("liveheadIdleAt",function(a){a=a.seconds;a>(this.$VideoPlayerHTML5Shaka8||0)&&(this.$VideoPlayerHTML5Shaka78(a),this.$VideoPlayerHTML5Shaka28&&this.$VideoPlayerHTML5Shaka79()&&(this.$VideoPlayerHTML5Shaka80(),this.emit("bufferingEnd")))}.bind(this));this.addListenersToLiveStreamState(k)}u&&this.$VideoPlayerHTML5Shaka20.setPlaybackStartTime(u);this.$VideoPlayerHTML5Shaka20.load(this.$VideoPlayerHTML5Shaka26)["catch"](function(a){this.$VideoPlayerHTML5Shaka2.getBool("fallback_on_videosource_load_410_error",!1)&&a.type==="net"&&a.status===410&&this.$VideoPlayerHTML5Shaka65(a);if(this.$VideoPlayerHTML5Shaka7&&this.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",!0))return;throw a}.bind(this));this.$VideoPlayerHTML5Shaka55&&this.$VideoPlayerHTML5Shaka55.startFixedLatencySync()}n.prototype.setup=function(){"use strict"};n.prototype.addListenersToLiveStreamState=function(a){"use strict";if(this.$VideoPlayerHTML5Shaka2.getBool("disable_live_stream_state",!1))return;a.addListener("streamInterruptAt",this.$VideoPlayerHTML5Shaka78.bind(this));["streamInterruptAt","commercialBreakAt","endedAt"].forEach(function(b){a.addListener(b,function(a){this.emit("debug/dashPlayerEvent",{type:b,event:a})}.bind(this))}.bind(this))};n.prototype.hasSubtitles=function(){"use strict";return this.$VideoPlayerHTML5Shaka26.hasInlinedCea608Subtitles()&&this.$VideoPlayerHTML5Shaka2.getBool("enable_cea608_parsing",!0)};n.prototype.areSubtitlesAutogenerated=function(){"use strict";return this.$VideoPlayerHTML5Shaka26.isUsingASRCaptions()};n.prototype.enableSubtitles=function(a){"use strict";this.$VideoPlayerHTML5Shaka26.setEnableCea608Parsing(a&&this.$VideoPlayerHTML5Shaka2.getBool("enable_cea608_parsing",!0))};n.prototype.getDebug=function(){"use strict";return{manifest:this.$VideoPlayerHTML5Shaka36,AbrManager:this.$VideoPlayerHTML5Shaka43,VideoSource:this.$VideoPlayerHTML5Shaka26,DashPlayer:this.$VideoPlayerHTML5Shaka20,VideoTaskQueue:b("VideoStreamingTaskQueueProvider").getQueue("video"),VideoTaskScheduler:b("VideoStreamingTaskQueueProvider").getSchedulerForDebug("video")}};n.getEstimatedBandwidth=function(){"use strict";return m.getBandwidth()};n.isAutoplayBandwidthRestrained=function(a){"use strict";a=b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(a);return a};n.prototype.$VideoPlayerHTML5Shaka56=function(){"use strict";var a=this.$VideoPlayerHTML5Shaka2.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return;this.$VideoPlayerHTML5Shaka50.addSubscriptions(b("EventListener").listen(m,"bandwidth",b("throttle")(function(){this.$VideoPlayerHTML5Shaka2.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(n.getEstimatedBandwidth))}.bind(this),a)))};n.prototype.$VideoPlayerHTML5Shaka58=function(a){"use strict";__p&&__p();a=this.$VideoPlayerHTML5Shaka22.get(a);if(!a)return;var b=a.id,c=a.reason;a=a.performanceLogger;if(this.$VideoPlayerHTML5Shaka2.getBool("fix_initial_stream_id_logging",!1)&&!this.$VideoPlayerHTML5Shaka39&&b)this.$VideoPlayerHTML5Shaka39=b;else if(this.$VideoPlayerHTML5Shaka39!==b){if(this.$VideoPlayerHTML5Shaka2.getBool("prevent_representation_ended_when_paused",!1)&&this.$VideoPlayerHTML5Shaka1.paused){this.emit("blocked_paused_representation_ended");return}if(this.$VideoPlayerHTML5Shaka2.getBool("prevent_representation_ended_when_seeking",!1)&&this.$VideoPlayerHTML5Shaka1.seeking)return;var d=this.$VideoPlayerHTML5Shaka39;this.$VideoPlayerHTML5Shaka39=b;a&&a.setStreamSwitchReason(c).log();this.emit("representation_ended",{representationID:d,nextRepresentationID:b,streamSwitchReason:c})}};n.prototype.getVideoStreamInfoIDForTimePosition=function(a){"use strict";a=this.$VideoPlayerHTML5Shaka22.get(a);var b=null;a&&(b=a.id);return b};n.prototype.getAudioStreamInfoIDForTimePosition=function(a){"use strict";return null};n.prototype.$VideoPlayerHTML5Shaka81=function(a){"use strict";if(a.fbQualityLabel)return a.fbQualityLabel;else if(a.height)return[a.height,"p"].join("");return null};n.prototype.$VideoPlayerHTML5Shaka82=function(a,b){"use strict";var c=this.$VideoPlayerHTML5Shaka81(a);if(c)return c;else if(k.compare(a,b[0])==0)return"SD";else if(k.compare(a,b[b.length-1])==0)return"HD";else return null};n.prototype.getAvailableVideoQualities=function(){"use strict";if(this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka23;var a=this.$VideoPlayerHTML5Shaka26.getVideoTracks();a.sort(k.compare);return a.every(function(a){return this.$VideoPlayerHTML5Shaka81(a)!==null}.bind(this))?a.map(function(a){return this.$VideoPlayerHTML5Shaka81(a)}.bind(this)):a.length>1?["SD","HD"]:["SD"]};n.prototype.getVideoProjection=function(){"use strict";return this.$VideoPlayerHTML5Shaka26.getVideoProjection()};n.prototype.getIsAbrEnabled=function(){"use strict";return!0};n.prototype.getSelectedVideoQuality=function(){"use strict";if(this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka24;var a=this.$VideoPlayerHTML5Shaka26.getVideoTracks();a.sort(k.compare);var b=a.find(function(a){return a.active});return b?this.$VideoPlayerHTML5Shaka82(b,a):null};n.prototype.clearBufferAfterSeekingIfLowerQuality=function(a){"use strict";__p&&__p();a=this.$VideoPlayerHTML5Shaka22.get(a);var b=a&&a.id;if(!b)return;a=this.$VideoPlayerHTML5Shaka26.getVideoTracks();var c=a.find(function(a){return a.active});a=a.find(function(a){return a.streamInfoID===b});k.compare(c,a)>0&&this.$VideoPlayerHTML5Shaka26.setClearBufferAfterSeeking()};n.prototype.getDashAudioConfiguration=function(){"use strict";return this.$VideoPlayerHTML5Shaka26.getMpdAudioConfig()};n.prototype.canAutoSelectVideoQuality=function(){"use strict";return!0};n.prototype.setPreloadDisabled=function(a){"use strict";this.$VideoPlayerHTML5Shaka2.getBool("block_autoplay_allow_preload_settings_change",!1)&&this.$VideoPlayerHTML5Shaka20.configure({initialStreamBufferSize:a?0:this.$VideoPlayerHTML5Shaka76(),liveSendPushHeaders:a?!1:this.$VideoPlayerHTML5Shaka77()})};n.prototype.restoreStreamBufferSize=function(){"use strict";if(!this.$VideoPlayerHTML5Shaka2.getBool("use_stream_buffer_size_override",!1))return;this.$VideoPlayerHTML5Shaka20.configure({initialStreamBufferSize:this.$VideoPlayerHTML5Shaka76(),streamBufferSize:this.$VideoPlayerHTML5Shaka75()})};n.prototype.$VideoPlayerHTML5Shaka76=function(){"use strict";return this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_initial_stream_buffer_size_float",3.5):this.$VideoPlayerHTML5Shaka2.getNumber("initial_stream_buffer_size_float",7.5)};n.prototype.$VideoPlayerHTML5Shaka75=function(){"use strict";return this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_stream_buffer_size_float",3):this.$VideoPlayerHTML5Shaka2.getNumber("stream_buffer_size_float",15)};n.prototype.$VideoPlayerHTML5Shaka77=function(){"use strict";return this.$VideoPlayerHTML5Shaka45};n.prototype.setPreferredVideoQuality=function(a){"use strict";var b=this.$VideoPlayerHTML5Shaka26.getVideoTracks();b.sort(k.compare);var c=b.find(function(c){return a==this.$VideoPlayerHTML5Shaka82(c,b)}.bind(this));c&&(this.$VideoPlayerHTML5Shaka25=a,this.$VideoPlayerHTML5Shaka43.setPreferredVideoTrack(c))};n.prototype.unsetPreferredVideoQuality=function(){"use strict";this.$VideoPlayerHTML5Shaka25=null,this.$VideoPlayerHTML5Shaka43.unsetPreferredVideoTrack()};n.prototype.isDrm=function(){"use strict";return this.$VideoPlayerHTML5Shaka16};n.prototype.pause=function(){"use strict";this.$VideoPlayerHTML5Shaka55&&this.$VideoPlayerHTML5Shaka55.setState("stopped"),this.$VideoPlayerHTML5Shaka1.pause()};n.prototype.play=function(){"use strict";__p&&__p();this.$VideoPlayerHTML5Shaka14=!0;this.$VideoPlayerHTML5Shaka29&&this.$VideoPlayerHTML5Shaka29.playStarted();this.$VideoPlayerHTML5Shaka20.setPendingPlayRequest(!0);if(this.$VideoPlayerHTML5Shaka4){var a=b("VideoDashPrefetchCache").getPrefetchTaskByID(""+this.$VideoPlayerHTML5Shaka4);a&&b("VideoStreamingTaskQueueProvider").getQueue("video").updatePriority(a,b("VideoPriorityCalculator").getMaxPriority())}this.$VideoPlayerHTML5Shaka55&&this.$VideoPlayerHTML5Shaka55.setState("playing");return this.$VideoPlayerHTML5Shaka1.play()};n.prototype.$VideoPlayerHTML5Shaka79=function(){"use strict";var a=this.$VideoPlayerHTML5Shaka8;if(a){var b=this.$VideoPlayerHTML5Shaka1.currentTime,c=4;c=b>a-c;b=b>a;b?(this.emit("debug/dashPlayerEvent",{type:"streamResumedAt",event:this.$VideoPlayerHTML5Shaka8}),this.$VideoPlayerHTML5Shaka8=null):this.$VideoPlayerHTML5Shaka28&&(this.$VideoPlayerHTML5Shaka10=c)}return this.$VideoPlayerHTML5Shaka10};n.prototype.$VideoPlayerHTML5Shaka62=function(){"use strict";this.$VideoPlayerHTML5Shaka28=!0,this.$VideoPlayerHTML5Shaka79()?this.$VideoPlayerHTML5Shaka80():(this.$VideoPlayerHTML5Shaka20.setResumeAfterBuffering(!0),this.emit("bufferingStart"))};n.prototype.$VideoPlayerHTML5Shaka64=function(a){"use strict";a.progress&&this.emit("bufferingProgress",a.progress)};n.prototype.$VideoPlayerHTML5Shaka61=function(){"use strict";this.emit("seekRangeChanged")};n.prototype.$VideoPlayerHTML5Shaka70=function(a){"use strict";a.replica!=null&&this.emit("switchReplica",a.replica)};n.prototype.$VideoPlayerHTML5Shaka71=function(){"use strict";this.emit("networkInterrupted")};n.prototype.$VideoPlayerHTML5Shaka72=function(){"use strict";this.emit("networkResumed")};n.prototype.$VideoPlayerHTML5Shaka80=function(){"use strict";this.$VideoPlayerHTML5Shaka2.getBool("fix_is_live_interrupted_backtest",!1)||(this.$VideoPlayerHTML5Shaka27&&!this.$VideoPlayerHTML5Shaka30&&(this.$VideoPlayerHTML5Shaka30=this.$VideoPlayerHTML5Shaka27.getOperationLogger("stream_interrupted").start()),this.$VideoPlayerHTML5Shaka26.setIsLiveInterrupted(!0)),this.emit("streamInterrupted")};n.prototype.$VideoPlayerHTML5Shaka63=function(){"use strict";this.$VideoPlayerHTML5Shaka28=!1,this.$VideoPlayerHTML5Shaka30&&(this.$VideoPlayerHTML5Shaka30.log(),this.$VideoPlayerHTML5Shaka30=null),this.$VideoPlayerHTML5Shaka26.setIsLiveInterrupted(!1),this.$VideoPlayerHTML5Shaka10?this.$VideoPlayerHTML5Shaka83():this.emit("bufferingEnd")};n.prototype.$VideoPlayerHTML5Shaka65=function(a){"use strict";__p&&__p();a=a.detail||{};var c=a.status!==void 0?a.status:null,d=a.url||null;this.$VideoPlayerHTML5Shaka84();var e=this.$VideoPlayerHTML5Shaka2.getString("block_play_request_http_status_list","410").split(",");this.$VideoPlayerHTML5Shaka2.getBool("disable_block_play_request_http_status_list",!1)&&(e=[]);if(this.$VideoPlayerHTML5Shaka11&&e.map(function(a){return parseInt(a,10)}).indexOf(c)!==-1){this.$VideoPlayerHTML5Shaka14&&(b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"playing"),this.$VideoPlayerHTML5Shaka14=!1);return this.$VideoPlayerHTML5Shaka85()}this.emit("error",{error:("SHAKA_"+a.type).toUpperCase(),message:a.message,httpStatus:c,url:d,stack:a.stack})};n.prototype.unload=function(){"use strict";__p&&__p();this.$VideoPlayerHTML5Shaka24=this.getSelectedVideoQuality();this.$VideoPlayerHTML5Shaka23=this.getAvailableVideoQualities();!this.$VideoPlayerHTML5Shaka26?this.$VideoPlayerHTML5Shaka11=!1:this.$VideoPlayerHTML5Shaka26.isLive()!==null&&(this.$VideoPlayerHTML5Shaka11=this.$VideoPlayerHTML5Shaka26.isLive());this.$VideoPlayerHTML5Shaka7=!0;b("clearInterval")(this.$VideoPlayerHTML5Shaka37);this.$VideoPlayerHTML5Shaka55&&this.$VideoPlayerHTML5Shaka55.stopFixedLatencySync();var a=this.$VideoPlayerHTML5Shaka40;a&&(a.unsubscribe(),a.removeAllListeners());this.$VideoPlayerHTML5Shaka29&&this.$VideoPlayerHTML5Shaka29.unload();this.$VideoPlayerHTML5Shaka50.release();this.$VideoPlayerHTML5Shaka20.unload()["catch"](function(a){if(this.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",!0))return;throw a}.bind(this))};n.prototype.$VideoPlayerHTML5Shaka73=function(){"use strict";var a={shakaConfig:this.$VideoPlayerHTML5Shaka2,performanceLogger:this.$VideoPlayerHTML5Shaka27,enableAdaptation:this.getIsAbrEnabled(),minPlayQuality:this.$VideoPlayerHTML5Shaka5,maxPlayQuality:this.$VideoPlayerHTML5Shaka6,width:this.$VideoPlayerHTML5Shaka17,height:this.$VideoPlayerHTML5Shaka18,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Shaka48,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Shaka47,isSpherical:this.$VideoPlayerHTML5Shaka15,initiallyForcedRepresentations:this.$VideoPlayerHTML5Shaka3,bandwidthModel:b("VideoPlayerShakaBandwidthEstimator").getBandwidthModel(this.$VideoPlayerHTML5Shaka11),bandwidthDowngradeTarget:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_bandwidth_downgrade_target",1):this.$VideoPlayerHTML5Shaka2.getNumber("bandwidth_downgrade_target",.9),bandwidthUpgradeTarget:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_bandwidth_upgrade_target",1):this.$VideoPlayerHTML5Shaka2.getNumber("bandwidth_upgrade_target",.9),useNewBandwidthBandLogic:this.$VideoPlayerHTML5Shaka2.getBool("use_new_bandwidth_band_logic",!0),hvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_hvq_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("hvq_upgrade_aggressiveness",1),hvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_hvq_inline_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("hvq_inline_upgrade_aggressiveness",1),preHvqUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_pre_hvq_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("pre_hvq_upgrade_aggressiveness",1),preHvqInlineUpgradeAggressiveness:this.$VideoPlayerHTML5Shaka11?this.$VideoPlayerHTML5Shaka2.getNumber("live_pre_hvq_inline_upgrade_aggressiveness",1):this.$VideoPlayerHTML5Shaka2.getNumber("pre_hvq_inline_upgrade_aggressiveness",1),video:this.$VideoPlayerHTML5Shaka1,videoID:this.$VideoPlayerHTML5Shaka4,abrLogger:this.$VideoPlayerHTML5Shaka31,getSource:this.$VideoPlayerHTML5Shaka21,enableReinforcementLearning:!this.$VideoPlayerHTML5Shaka12&&(this.$VideoPlayerHTML5Shaka2.getBool("enable_reinforcement_learning",!1)||this.$VideoPlayerHTML5Shaka15&&this.$VideoPlayerHTML5Shaka2.getBool("enable_reinforcement_learning_on_360",!1)),rlModelId:this.$VideoPlayerHTML5Shaka2.getNumber("rl_model_id",0),rlUseShortFeatures:this.$VideoPlayerHTML5Shaka2.getBool("rl_use_short_features",!1),useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Shaka49,videoWatchTimeTracker:this.$VideoPlayerHTML5Shaka44};return new(b("CustomAbrManager"))(a)};n.prototype.$VideoPlayerHTML5Shaka86=function(){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Shaka2.getBool("enable_content_protection",!1))return null;var a=this.$VideoPlayerHTML5Shaka4,c=null,d=!1,e=null,f=!0,g="com.widevine.alpha";this.$VideoPlayerHTML5Shaka27&&(c=this.$VideoPlayerHTML5Shaka27.getOperationLogger("request").setType("license"));this.$VideoPlayerHTML5Shaka52?this.$VideoPlayerHTML5Shaka51!==null&&this.$VideoPlayerHTML5Shaka51!==void 0&&this.$VideoPlayerHTML5Shaka53!==null&&this.$VideoPlayerHTML5Shaka53!==void 0?(e=encodeURI(this.$VideoPlayerHTML5Shaka51+"&access_token="+this.$VideoPlayerHTML5Shaka53),d=!0,f=!1):e="/video/drm/getlicense?video_id="+a:e=this.$VideoPlayerHTML5Shaka51?this.$VideoPlayerHTML5Shaka51+"?video_id="+a:"/video/drm/getlicense?video_id="+a;var h=function(a){"body"in a&&delete a.body;if("url"in a&&a.url.search("access_token=")!==-1)try{var c=new(b("URI"))(a.url);c!==null&&c!==void 0?(c.removeQueryData(["access_token"]),a.url=c.toString()):delete a.url}catch(b){delete a.url}return JSON.stringify(a)},i=function(a){c&&c.start();var b=window.btoa(String.fromCharCode.apply(null,new Uint8Array(a.body)));if(d){var e={request:b};a.body=JSON.stringify(e);a.headers["Content-Type"]="application/json"}else a.body=b,a.headers["Content-Type"]="application/text";a.method="POST"},j=function(a){__p&&__p();var b=null;a=String.fromCharCode.apply(null,a);var d=null,e=null,f;try{f=JSON.parse(a)}catch(a){f=void 0}if(f!==void 0&&f.data!==void 0&&f.data.length===1){f=f.data[0];f.error!==null&&f.error!==void 0?e=h(f.error):d=f.license}else d=a;if(d!==null&&d!==""){f=window.atob(d);f!==null&&f!==""&&(b=new Uint8Array(f.split("").map(function(a){return a.charCodeAt(0)})))}if(c){e!==null&&c.setError(e);a=b!==null?"success":"failed";c.setResult(a).log()}return b};return function(a,b){this.$VideoPlayerHTML5Shaka16=!0;b=null;if(this.$VideoPlayerHTML5Shaka54!==null&&this.$VideoPlayerHTML5Shaka54!==void 0&&this.$VideoPlayerHTML5Shaka54!==""){var c=window.atob(this.$VideoPlayerHTML5Shaka54);b=new Uint8Array(c.split("").map(function(a){return a.charCodeAt(0)}))}return a=="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"?[{keySystem:g,licenseServerUrl:e,withCredentials:f,licensePreProcessor:i,licensePostProcessor:j,videoRobustness:"",audioRobustness:"",serverCertificate:b}]:null}.bind(this)};n.prototype.$VideoPlayerHTML5Shaka74=function(){"use strict";this.$VideoPlayerHTML5Shaka43||g(0,5841);this.$VideoPlayerHTML5Shaka38||g(0,5842);var a=new i(this.$VideoPlayerHTML5Shaka38,this.$VideoPlayerHTML5Shaka2,this.$VideoPlayerHTML5Shaka86(),m,this.$VideoPlayerHTML5Shaka43,this.$VideoPlayerHTML5Shaka55);this.$VideoPlayerHTML5Shaka22=new(b("TaggedTimeRanges"))(function(a,b){return a.id===b.id&&a.reason===b.reason});a.setTaggedTimeRanges(this.$VideoPlayerHTML5Shaka22);return a};n.prototype.$VideoPlayerHTML5Shaka87=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Shaka43=this.$VideoPlayerHTML5Shaka73();this.$VideoPlayerHTML5Shaka26=this.$VideoPlayerHTML5Shaka74();this.$VideoPlayerHTML5Shaka79()&&(this.$VideoPlayerHTML5Shaka9=this.$VideoPlayerHTML5Shaka20.getPlaybackRate(),this.$VideoPlayerHTML5Shaka1.playbackRate=0,this.emit("streamInterrupted"));this.$VideoPlayerHTML5Shaka20.setPlaybackStartTime(a);this.$VideoPlayerHTML5Shaka7=!1;return this.$VideoPlayerHTML5Shaka20.load(this.$VideoPlayerHTML5Shaka26).then(function(){if(this.$VideoPlayerHTML5Shaka11!=this.$VideoPlayerHTML5Shaka26.isLive())return this.$VideoPlayerHTML5Shaka85();this.$VideoPlayerHTML5Shaka25&&this.setPreferredVideoQuality(this.$VideoPlayerHTML5Shaka25);this.$VideoPlayerHTML5Shaka24=null;this.$VideoPlayerHTML5Shaka23=[];return void 0}.bind(this))};n.prototype.$VideoPlayerHTML5Shaka88=function(a){"use strict";if(this.$VideoPlayerHTML5Shaka7&&this.$VideoPlayerHTML5Shaka2.getBool("ignore_errors_after_unload",!0))return;throw a};n.prototype.reload=function(a){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Shaka7)return this.$VideoPlayerHTML5Shaka2.getBool("fix_reload_promise",!1)?b("Promise").resolve():void 0;var c=this.$VideoPlayerHTML5Shaka40;c&&(c.subscribe(),this.addListenersToLiveStreamState(c));this.$VideoPlayerHTML5Shaka2.getBool("refresh_vod_manifest",!1)?c=this.$VideoPlayerHTML5Shaka60().then(function(){return this.$VideoPlayerHTML5Shaka87(a)}.bind(this))["catch"](function(a){return this.$VideoPlayerHTML5Shaka88(a)}.bind(this)):c=this.$VideoPlayerHTML5Shaka87(a)["catch"](function(a){return this.$VideoPlayerHTML5Shaka88()}.bind(this));return this.$VideoPlayerHTML5Shaka2.getBool("fix_reload_promise",!1)?c:void 0};n.prototype.setPlaybackRate=function(a){"use strict";this.$VideoPlayerHTML5Shaka9=a,this.$VideoPlayerHTML5Shaka79()||this.$VideoPlayerHTML5Shaka20.setPlaybackRate(a)};n.prototype.getPlaybackRate=function(){"use strict";return this.$VideoPlayerHTML5Shaka20.getPlaybackRate()};n.prototype.setSmartBufferAdjustmentEnabled=function(a){"use strict";this.$VideoPlayerHTML5Shaka20.configure({smartBufferAdjustmentEnabled:a})};n.prototype.setVideoStreamOffset=function(a){"use strict";this.$VideoPlayerHTML5Shaka20.setVideoStreamOffset(a)};n.prototype.$VideoPlayerHTML5Shaka85=function(){"use strict";b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"seeked");b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"playing");var a=this.$VideoPlayerHTML5Shaka2.getBool("abort_loading_decisioning_logic",!1);a?(b("dispatchCustomEvent")(this.$VideoPlayerHTML5Shaka1,"pause",b("dangerouslyOverrideMediaElementEndedProperty")()),b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"ended")):this.$VideoPlayerHTML5Shaka2.getBool("end_live_playback_with_pause",!0)?b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"pause"):b("dispatchEvent")(this.$VideoPlayerHTML5Shaka1,"ended");this.emit("streamResumed");this.unload()};n.prototype.getLongestInitResponseTime=function(){"use strict";return this.$VideoPlayerHTML5Shaka26.getLongestInitResponseTime()};n.prototype.getLocalEstimator=function(){"use strict";return this.$VideoPlayerHTML5Shaka26.getLocalEstimator()};n.prototype.setDimensions=function(a,b){"use strict";this.$VideoPlayerHTML5Shaka17=a,this.$VideoPlayerHTML5Shaka18=b,this.$VideoPlayerHTML5Shaka43.setDimensions(a,b)};n.isSupported=function(a){"use strict";return j.isBrowserSupported()};n.prototype.$VideoPlayerHTML5Shaka67=function(){"use strict";this.emit("tracksChanged")};n.prototype.$VideoPlayerHTML5Shaka66=function(a){"use strict";a.contentType==="video"&&(this.$VideoPlayerHTML5Shaka27&&this.$VideoPlayerHTML5Shaka27.setRepresentationID(a.id),this.$VideoPlayerHTML5Shaka27&&this.$VideoPlayerHTML5Shaka27.setDynamicBitrate(a.bandwidth),this.$VideoPlayerHTML5Shaka31.setRepresentationID(a.id),this.emit("adaptation",{reason:a.reason}))};n.prototype.$VideoPlayerHTML5Shaka78=function(a){"use strict";this.$VideoPlayerHTML5Shaka2.getBool("fix_is_live_interrupted_backtest",!1)&&(this.$VideoPlayerHTML5Shaka27&&!this.$VideoPlayerHTML5Shaka30&&(this.$VideoPlayerHTML5Shaka30=this.$VideoPlayerHTML5Shaka27.getOperationLogger("stream_interrupted").start()),this.$VideoPlayerHTML5Shaka26.setIsLiveInterrupted(!0)),this.$VideoPlayerHTML5Shaka8=a};n.prototype.$VideoPlayerHTML5Shaka69=function(){"use strict";this.$VideoPlayerHTML5Shaka79()&&this.$VideoPlayerHTML5Shaka83()};n.prototype.$VideoPlayerHTML5Shaka83=function(){"use strict";this.$VideoPlayerHTML5Shaka8=null,this.$VideoPlayerHTML5Shaka10=!1,this.$VideoPlayerHTML5Shaka26.forceResyncVideoBuffer(),this.$VideoPlayerHTML5Shaka20.setPlaybackRate(this.$VideoPlayerHTML5Shaka9),this.emit("streamResumed")};n.prototype.$VideoPlayerHTML5Shaka68=function(){"use strict";var a=this.$VideoPlayerHTML5Shaka27?this.$VideoPlayerHTML5Shaka27.getOperationLogger("manifest_wrapped").setResource(this.$VideoPlayerHTML5Shaka46).start():null,b=!this.$VideoPlayerHTML5Shaka1.paused;this.unload();this.reload().then(function(){this.$VideoPlayerHTML5Shaka10&&this.$VideoPlayerHTML5Shaka83(),b&&this.play(),a&&a.log()}.bind(this))["catch"](function(b){a&&a.setError(b).log()})};n.prototype.$VideoPlayerHTML5Shaka57=function(){"use strict";this.$VideoPlayerHTML5Shaka14=!1,this.$VideoPlayerHTML5Shaka34&&(this.$VideoPlayerHTML5Shaka34=!1),this.$VideoPlayerHTML5Shaka20.setPendingPlayRequest(!1)};n.prototype.$VideoPlayerHTML5Shaka59=function(){"use strict";this.$VideoPlayerHTML5Shaka14&&(this.$VideoPlayerHTML5Shaka14=!1,this.$VideoPlayerHTML5Shaka20.setPendingPlayRequest(!1))};n.prototype.$VideoPlayerHTML5Shaka89=function(){"use strict";if(this.$VideoPlayerHTML5Shaka12)return b("Promise").resolve();return this.$VideoPlayerHTML5Shaka35+1e3*60*60<Date.now()?b("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4).then(function(a){return this.$VideoPlayerHTML5Shaka90(this.$VideoPlayerHTML5Shaka19?a.getHighlightsManifest():a.getDashManifest())}.bind(this)):b("Promise").resolve()};n.prototype.$VideoPlayerHTML5Shaka90=function(a){"use strict";if(!this.$VideoPlayerHTML5Shaka26)return;this.$VideoPlayerHTML5Shaka38=l(a);this.$VideoPlayerHTML5Shaka7||(this.$VideoPlayerHTML5Shaka35=Date.now(),this.$VideoPlayerHTML5Shaka26.updateManifest(this.$VideoPlayerHTML5Shaka38))};n.prototype.$VideoPlayerHTML5Shaka60=function(){"use strict";this.$VideoPlayerHTML5Shaka84();this.$VideoPlayerHTML5Shaka37=b("setInterval")(function(){this.$VideoPlayerHTML5Shaka89()}.bind(this),1e3*60);return this.$VideoPlayerHTML5Shaka89()["catch"](function(){return b("Promise").resolve()})};n.prototype.refreshDashManifest=function(){"use strict";this.unload();var a=b("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4);return a.then(function(a){this.$VideoPlayerHTML5Shaka90(a.getDashManifest()),this.$VideoPlayerHTML5Shaka19=!1}.bind(this))};n.prototype.refreshLiveVODHighlightsManifest=function(){"use strict";this.unload();var a=b("VideoPlayerMetaData").genVideoData(this.$VideoPlayerHTML5Shaka4);return a.then(function(a){this.$VideoPlayerHTML5Shaka90(a.getHighlightsManifest()),this.$VideoPlayerHTML5Shaka19=!0}.bind(this))};n.prototype.$VideoPlayerHTML5Shaka84=function(){"use strict";b("clearInterval")(this.$VideoPlayerHTML5Shaka37)};n.prototype.isPlayingLiveVODHighlights=function(){"use strict";return this.$VideoPlayerHTML5Shaka19};n.prototype.$VideoPlayerHTML5Shaka91=function(a){"use strict";var b=a[0];if(b)if(b.startTime+.5<b.endTime)b.startTime+=.5;else{a.splice(0,1);return this.$VideoPlayerHTML5Shaka91(a)}return a};n.prototype.getSeekableRanges=function(){"use strict";var a=this.$VideoPlayerHTML5Shaka20.getVideoSourceStreamLimits();if(a&&a.seekRangeGaps){a=b("getVideoPlayerShakaSeekableRanges")(a);return new(b("TimeRanges"))(this.$VideoPlayerHTML5Shaka91(a))}return null};n.prototype.setEnableLiveheadCatchup=function(a){"use strict";this.$VideoPlayerHTML5Shaka20.setEnableLiveheadCatchup(a)};n.prototype.isLiveheadCatchupEnabled=function(){"use strict";return this.$VideoPlayerHTML5Shaka20.isLiveheadCatchupEnabled()};n.prototype.$VideoPlayerHTML5Shaka92=function(){"use strict";return this.$VideoPlayerHTML5Shaka26?this.$VideoPlayerHTML5Shaka26.getManifest():null};n.prototype.isFBWasLive=function(){"use strict";var a=this.$VideoPlayerHTML5Shaka92();return!!(a&&a.FBWasLive)};n.prototype.isFBIsLiveTemplated=function(){"use strict";var a=this.$VideoPlayerHTML5Shaka92();return!!(a&&a.FBIsLiveTemplated)};n.prototype.isFBMS=function(){"use strict";var a=this.$VideoPlayerHTML5Shaka92();return!!(a&&a.FBMS)};n.prototype.getPlayerVersion=function(){"use strict";return b("VideoPlayerVersions").PLEASANTVILLE};n.prototype.switchReplicaSet=function(a){"use strict";var c=new(b("URI"))(this.$VideoPlayerHTML5Shaka38);c.addQueryData("replica",a);this.$VideoPlayerHTML5Shaka38=c.toString()};e.exports=n}),null);
__d("VideoConcurrentViewerCount.react",["ix","cx","fbt","Image.react","React","Tooltip","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(){if(this.props.isAudio)return g("466773");else return g("406916")};a.prototype.render=function(){var a=this.props.viewerCount;if(!a)return b("React").createElement("div",{className:"_1jb_ _2z59"});var c=null;this.props.compact||(c=b("React").createElement(b("Image.react"),{className:"_5pf2",src:this.$1()}));var d=this.props.pageCount!=null&&this.props.pageCount>1?b("Tooltip").propsFor(i._({"*":"Total current viewers from this Page and {number} others","_1":"Total current viewers from this Page and 1 other"},[i._plural(this.props.pageCount-1,"number")]),"right"):{};return b("React").createElement("div",babelHelpers["extends"]({className:"_1jb_"+(this.props.compact?" _3eca":""),"data-testid":"live-cvc"},d),c,b("intlSummarizeNumber")(a))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("LiveVideoIndicator.react",["cx","fbt","DateConsts","Duration.react","React","VideoConcurrentViewerCount.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){if(this.props.isPreview)return this.$1();var a,c;this.props.inBeeper?(a="_60yg",c="_60yf"):this.props.isRewound?(a="_1dvf",c="_1dvg"):(a="_5pe-"+(this.props.isRehearsal?" _1dvf":""),c="_2wrk"+(this.props.isRehearsal?" _7bca":""));var d=!this.props.isRewound&&this.props.showElapsedTime&&this.props.startTime?b("React").createElement("span",{className:"_2nwf"},b("React").createElement(b("Duration.react"),{startTime:this.props.startTime*b("DateConsts").MS_PER_SEC,useLocalTime:!0})):null;return b("React").createElement("div",{className:(this.props.inline?"":"_3htz")+(this.props.inline?" _3qry":"")+(this.props.inline?"":" _2659")+(this.props.inline?"":" _530p")+" _4ubd _2lwf"+(this.props.isLive?" _3rno":"")+(this.props.compact?" _3eca":"")+(this.props.inline?"":" _6xrw")+(this.props.inline?" _6xrt":"")},b("React").createElement("div",{className:a,"data-testid":"live-indicator"},b("React").createElement("span",{className:c},this.$2(),d)),b("React").createElement(b("VideoConcurrentViewerCount.react"),{pageCount:this.props.pageCount,viewerCount:this.props.viewerCount}))};a.prototype.$2=function(){if(this.props.isBreakingNews)return h._("LIVE BREAKING");if(this.props.textOverride)return this.props.textOverride;return this.props.isPremiere?h._("PREMIERE"):h._("LIVE")};a.prototype.$1=function(){return b("React").createElement("div",{className:"_5vj"},b("React").createElement("div",{className:"_5vm"},b("React").createElement("span",{className:"_5vo"},h._("PREVIEW"))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerConstants",[],(function(a,b,c,d,e,f){"use strict";a={ACTIONS:{SET_IS_REWOUND:"SET_IS_REWOUND",DISMISS_REWIND_COMMENT_OVERLAY:"DISMISS_REWIND_COMMENT_OVERLAY"}};e.exports=a}),null);
__d("LiveVideoPlayerStore",["FluxReduceStore","LiveVideoPlayerConstants","LiveVideoPlayerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LiveVideoPlayerConstants").ACTIONS;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").Map({})};a.prototype.getIsRewound=function(a){return this.getState().getIn([a,"isRewound"],!1)};a.prototype.getIsRewindCommentOverlayDismissed=function(a){return this.getState().getIn([a,"isRewindCommentOverlayDismissed"],!1)};a.prototype.$LiveVideoPlayerStore1=function(a,b){a.hasOption("LivePlayer","isRewound")||a.registerOption("LivePlayer","isRewound",function(){return this.getIsRewound(a.getVideoPlayerID())}.bind(this)),a.emit("LivePlayer/isRewoundChanged")};a.prototype.reduce=function(a,b){__p&&__p();switch(b.type){case h.DISMISS_REWIND_COMMENT_OVERLAY:a=a.setIn([b.playerID,"isRewindCommentOverlayDismissed"],!0);break;case h.SET_IS_REWOUND:var c=b.vpc,d=b.isRewound;a=a.setIn([c.getVideoPlayerID(),"isRewound"],d);setTimeout(function(){return this.$LiveVideoPlayerStore1(c,d)}.bind(this),0);c.setEnableLiveheadCatchup(!d);break;default:break}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("LiveVideoPlayerDispatcher"))}),null);
__d("LiveVideoIndicatorContainer.react",["FluxContainer","LiveVideoIndicator.react","LiveVideoPlayerDispatcher","LiveVideoPlayerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;a.getStores=function(){return[b("LiveVideoPlayerStore")]};a.calculateState=function(a,c){a=b("LiveVideoPlayerStore").getIsRewound(c.playerID);return{isRewound:a}};function a(a){g.constructor.call(this,a),b("LiveVideoPlayerDispatcher").explicitlyRegisterStores([b("LiveVideoPlayerStore")])}a.prototype.render=function(){return b("React").createElement(b("LiveVideoIndicator.react"),{compact:this.props.compact,inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,isRewound:this.state.isRewound,pageCount:this.props.pageCount,showElapsedTime:this.props.showElapsedTime,startTime:this.props.startTime,textOverride:this.props.textOverride,viewerCount:this.props.viewerCount})};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveVideoIndicatorContainerServerCallable.react",["DateConsts","FBJSON","LiveVideoIndicatorContainer.react","React","SubscriptionsHandler","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=3*b("DateConsts").MS_PER_SEC;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={showElapsedTime:!1,viewerCount:this.props.viewerCount},b}a.prototype.componentDidMount=function(){this.subscriptions=new(b("SubscriptionsHandler"))(),this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("VideoWithLiveBroadcast/viewCountChange",function(a){a=a.getAttribute("data-store");a=a?b("FBJSON").parse(a).viewerCount:null;this.setState({viewerCount:a})}.bind(this))),this.props.showTimePop&&this.props.broadcastCreationTime&&this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("beginPlayback",function(){this.setState({showElapsedTime:!0});var a=b("setInterval")(function(){this.setState({showElapsedTime:!1}),b("clearInterval")(a)}.bind(this),h)}.bind(this)))};a.prototype.componentWillUnmount=function(){this.subscriptions.release()};a.prototype.render=function(){return b("React").createElement(b("LiveVideoIndicatorContainer.react"),{compact:this.props.compact,inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,pageCount:this.props.pageCount,playerID:this.props.videoPlayerController.getVideoPlayerID(),showElapsedTime:this.state.showElapsedTime,startTime:this.props.broadcastCreationTime,textOverride:this.props.textOverride,viewerCount:this.state.viewerCount})};e.exports=a}),null);
__d("VideoNotificationDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("VideoNotificationActions",["React","VideoNotificationDispatcher"],(function(a,b,c,d,e,f){"use strict";var g={SEND_NOTIFICATION:"SEND_NOTIFICATION",REMOVE_NOTIFICATION:"REMOVE_NOTIFICATION"};e.exports={VideoNotificationActionTypes:g,sendNotification:function(a,c){b("VideoNotificationDispatcher").dispatch({videoPlayerController:a,videoPlayerID:a.getVideoPlayerID(),type:g.SEND_NOTIFICATION,notificationElement:c})},removeNotification:function(a,c){b("VideoNotificationDispatcher").dispatch({videoPlayerID:a,type:g.REMOVE_NOTIFICATION,notificationIndex:c})}}}),null);
__d("VideoNotificationReduceStore",["FluxReduceStore","React","VideoNotificationActions","VideoNotificationDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("VideoNotificationActions").VideoNotificationActionTypes;g=babelHelpers.inherits(j,b("immutable").Record({components:b("immutable").Map(),notificationCount:0}));g&&g.prototype;function j(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new j()};a.prototype.$VideoNotificationReduceStore1=function(a,c){var d=a.components.get(c.videoPlayerID,b("immutable").OrderedMap()),e=a.notificationCount;e={notificationIndex:e,videoPlayerID:c.videoPlayerID,notif:b("React").cloneElement(c.notificationElement,{key:"notification_"+e})};d=d.set(a.notificationCount,e);e=a.components.set(c.videoPlayerID,d);return new j({components:e,notificationCount:a.notificationCount+1})};a.prototype.$VideoNotificationReduceStore2=function(a,b){var c=a.components.get(b.videoPlayerID);if(!c)return a;c=c.remove(b.notificationIndex);b=a.components.set(b.videoPlayerID,c);return new j({components:b,notificationCount:a.notificationCount})};a.prototype.reduce=function(a,b){switch(b.type){case i.SEND_NOTIFICATION:return this.$VideoNotificationReduceStore1(a,b);case i.REMOVE_NOTIFICATION:return this.$VideoNotificationReduceStore2(a,b);default:return a}};a.prototype.getCurrentNotification=function(a){var b=this.getState();b=b.components.get(a.getVideoPlayerID());return!b||b.isEmpty()?null:b.first()};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("VideoNotificationDispatcher"))}),null);
__d("VideoWithNotificationQueue.react",["cx","FluxContainer","FluxStore","React","VideoNotificationActions","VideoNotificationDispatcher","VideoNotificationReduceStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("VideoNotificationActions").removeNotification;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.state={currentNotification:null},b("VideoNotificationDispatcher").explicitlyRegisterStores([b("VideoNotificationReduceStore")])}a.getStores=function(){return[b("VideoNotificationReduceStore")]};a.calculateState=function(a,c){var d=b("VideoNotificationReduceStore").getCurrentNotification(c.videoController);if(!d)return{currentNotification:null};a=function(){j(d.videoPlayerID,d.notificationIndex)};return{currentNotification:b("React").cloneElement(d.notif,{onRemove:a,videoPlayerID:d.videoPlayerID})}};a.prototype.render=function(){return b("React").createElement("div",{className:"_jwg"},b("React").createElement("div",{className:"_jwh"},this.state.currentNotification))};var k=b("FluxContainer").create(a,{withProps:!0});i=babelHelpers.inherits(c,b("React").PureComponent);i&&i.prototype;c.prototype.render=function(){return b("React").createElement(k,this.props)};function c(){i.apply(this,arguments)}e.exports=c}),null);